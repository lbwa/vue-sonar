webpackJsonp([1],{"4uTv":function(t,e){},"7nRM":function(t,e,n){"use strict";e.__esModule=!0;var s,i=n("c/Tr"),r=(s=i)&&s.__esModule?s:{default:s};e.default=function(t){return Array.isArray(t)?t:(0,r.default)(t)}},B8QL:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n("Dd8w"),i=n.n(s),r=n("IeVg"),a=n("T452"),o=n("7nRM"),c=n.n(o),l={props:{sliderData:{type:Array,required:!0},interval:{type:Number,default:3e3}},data:function(){return{currentIndex:0,innerTimer:0,isResetIndex:!1,isTransforming:!1,transformInterval:500,startLocation:0,movingLocation:0}},computed:{sliderTransform:function(){return{transform:"translateX("+-100*this.currentIndex+"%)",transition:this.isResetIndex?"":"transform "+this.transformInterval+"ms"}},sliderList:function(){var t=c()(this.sliderData),e=t[0],n=t.slice(1);return[n[n.length-1]].concat(this.sliderData,[e])},sliderListLength:function(){return this.sliderList.length}},methods:{startTouch:function(t){-1!==this.currentIndex&&this.currentIndex!==this.sliderListLength&&t.target!==t.currentTarget&&(clearInterval(this.innerTimer),this.isResetIndex=!0,this.startLocation=t.targetTouches[0].screenX)},touching:function(t){if(t.target!==t.currentTarget){this.movingLocation=t.targetTouches[0].screenX;var e=this.movingLocation-this.startLocation;0===this.currentIndex&&(this.currentIndex=5),Math.abs(e)>t.target.scrollWidth&&(e=e<0?-t.target.scrollWidth:t.target.scrollWidth);var n=-parseInt(window.getComputedStyle(t.target).width)*this.currentIndex+e;t.currentTarget.style.transform="translateX("+n+"px)"}},endTouch:function(t){if(t.target!==t.currentTarget&&this.movingLocation&&this.currentIndex<this.sliderListLength-1){var e=this.movingLocation-this.startLocation;e<0?this.currentIndex++:e>0&&this.currentIndex--,this.startLocation=0,this.movingLocation=0,this.isResetIndex=!1,this.startSlider()}},startSlider:function(){var t=this;this.innerTimer=setInterval(function(){t.currentIndex++},this.interval)}},watch:{currentIndex:function(t,e){var n=this;1===t&&e===this.sliderListLength-1||0===e&&t===this.sliderListLength-2?this.isResetIndex=!0:(this.isResetIndex=!1,this.isTransforming=!0,setTimeout(function(){0===n.currentIndex?n.currentIndex=n.sliderListLength-2:n.currentIndex===n.sliderListLength-1&&(n.currentIndex=1),n.isTransforming=!1},this.transformInterval))}},mounted:function(){this.startSlider()},destroyed:function(){clearInterval(this.innerTimer)}},d={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"slider"},[n("ul",{staticClass:"slider-group",style:t.sliderTransform,on:{touchstart:function(e){t.startTouch(e)},touchmove:function(e){t.touching(e)},touchend:function(e){t.endTouch(e)}}},t._l(t.sliderList,function(t,e){return n("li",{key:e,staticClass:"slider-item"},[n("a",{attrs:{href:t.linkUrl}},[n("img",{attrs:{src:t.picUrl,alt:"slider-pic"}})])])})),t._v(" "),n("ul",{staticClass:"slider-dots"},t._l(t.sliderData,function(e,s){return n("li",{key:s,class:["slider-dot",{active:t.currentIndex===s+1||t.currentIndex===t.sliderListLength-1&&0===s||0===t.currentIndex&&s===t.sliderListLength-3}]})}))])},staticRenderFns:[]};var u=n("VU/8")(l,d,!1,function(t){n("4uTv")},"data-v-649cfdbc",null).exports,h=n("cChX"),m=n("Io/b"),f=n("F4+m"),g=n("NYxO"),v={mixins:[f.b],data:function(){return{sliderList:[],songsList:[]}},methods:i()({handlePlaylist:function(t){var e=this.playlist.length>0?"60px":"";this.$refs.recommend.style.bottom=e,this.$refs.scroll.refresh()},showListDetail:function(t){this.setRecommendItem(t),this.$router.push({path:"/recommend/"+t.dissid})}},Object(g.d)({setRecommendItem:"SET_RECOMMEND_ITEM"}),{_getRecommend:function(){var t=this;Object(r.b)().then(function(e){if(e.code!==a.c)throw new Error("Check ERR_OK failed");t.sliderList=e.data.slider})},_getPlaylist:function(){var t=this;Object(r.a)().then(function(e){e.code===a.c&&(t.songsList=e.data.list)})}}),created:function(){this._getRecommend(),this._getPlaylist()},components:{BaseSlider:u,BaseScroll:h.a,BaseLoading:m.a}},L={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"recommend",staticClass:"recommend"},[n("BaseScroll",{ref:"scroll",staticClass:"scroll-wrapper",attrs:{data:t.songsList}},[n("div",[n("div",{staticClass:"slider-wrapper"},[t.sliderList.length?n("BaseSlider",{attrs:{sliderData:t.sliderList,interval:3e3}}):t._e()],1),t._v(" "),n("div",{staticClass:"recommend-list"},[n("h1",{staticClass:"list-title"},[t._v("热门歌单推荐")]),t._v(" "),n("ul",t._l(t.songsList,function(e,s){return n("li",{key:s,staticClass:"recommend-item",on:{click:function(n){t.showListDetail(e)}}},[n("div",{staticClass:"item-avatar"},[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.imgurl,expression:"item.imgurl"}],attrs:{alt:"item-avatar"}})]),t._v(" "),n("div",{staticClass:"item-content"},[n("h2",{staticClass:"item-name",domProps:{innerHTML:t._s(e.creator.name)}}),t._v(" "),n("p",{staticClass:"item-description",domProps:{innerHTML:t._s(e.dissname)}})])])}))])]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:!t.songsList.length,expression:"!songsList.length"}],staticClass:"loading-container"},[n("BaseLoading")],1)]),t._v(" "),n("router-view")],1)},staticRenderFns:[]};var I=n("VU/8")(v,L,!1,function(t){n("iSt2")},"data-v-57ecffea",null);e.default=I.exports},IeVg:function(t,e,n){"use strict";e.b=function(){var t=a()({},c.l,{platform:"h5",uin:0,needNewCode:1});return Object(o.a)(c.j,t,c.m)},e.a=function(){var t=a()({},c.l,{platform:"yqq",hostUin:0,sin:0,ein:29,sortId:5,needNewCode:0,categoryId:1e7,rnd:Math.random(),format:"json"});return d.a.get(c.g,{params:t}).then(function(t){return t.data})},e.c=function(t){var e=i()({},c.l,{type:1,json:1,utf8:1,onlysong:0,disstid:t,loginUin:0,hostUin:0,platform:"yqq",needNewCode:0});return d.a.get(c.i,{params:e}).then(function(t){return t.data})};var s=n("Dd8w"),i=n.n(s),r=n("woOf"),a=n.n(r),o=n("Gak4"),c=n("T452"),l=n("mtWM"),d=n.n(l)},iSt2:function(t,e){}});
//# sourceMappingURL=1.aee11625b51305128dea.js.map