{"version":3,"sources":["webpack:///src/components/parts-search-result/parts-search-result.vue","webpack:///./src/components/parts-search-result/parts-search-result.vue?8513","webpack:///./src/components/parts-search-result/parts-search-result.vue","webpack:///./src/common/js/control-dom.js","webpack:///src/base/base-songs-list/base-songs-list.vue","webpack:///./src/base/base-songs-list/base-songs-list.vue?856c","webpack:///./src/base/base-songs-list/base-songs-list.vue","webpack:///./src/common/js/normalize-artist.js","webpack:///./src/common/js/mixin.js","webpack:///./src/common/js/jsonp.js","webpack:///src/base/base-loading/base-loading.vue","webpack:///./src/base/base-loading/base-loading.vue?f2df","webpack:///./src/base/base-loading/base-loading.vue","webpack:///./src/common/image/default/default.png","webpack:///./src/components/app-header/app-header.vue?3adb","webpack:///./src/components/app-header/app-header.vue","webpack:///./src/components/app-tab/app-tab.vue?a1aa","webpack:///./src/components/app-tab/app-tab.vue","webpack:///src/base/base-progress-bar.vue","webpack:///./src/base/base-progress-bar.vue?c86b","webpack:///./src/base/base-progress-bar.vue","webpack:///src/base/base-progress-circle.vue","webpack:///./src/base/base-progress-circle.vue?a0e6","webpack:///./src/base/base-progress-circle.vue","webpack:///src/base/base-top-tip/base-top-tip.vue","webpack:///./src/base/base-top-tip/base-top-tip.vue?f6a5","webpack:///./src/base/base-top-tip/base-top-tip.vue","webpack:///src/components/parts-add-to-list/parts-add-to-list.vue","webpack:///./src/components/parts-add-to-list/parts-add-to-list.vue?0300","webpack:///./src/components/parts-add-to-list/parts-add-to-list.vue","webpack:///src/components/parts-playlist/parts-playlist.vue","webpack:///./src/components/parts-playlist/parts-playlist.vue?ce83","webpack:///./src/components/parts-playlist/parts-playlist.vue","webpack:///src/components/app-player/app-player.vue","webpack:///./src/components/app-player/app-player.vue?6f19","webpack:///./src/components/app-player/app-player.vue","webpack:///src/App.vue","webpack:///./src/App.vue?8316","webpack:///./src/App.vue","webpack:///./src/router/index.js","webpack:///./src/common/js/cache.js","webpack:///./src/store/state.js","webpack:///./src/store/getters.js","webpack:///./src/store/mutations.js","webpack:///./src/store/mutation-types.js","webpack:///./src/store/actions.js","webpack:///./src/store/index.js","webpack:///./src/main.js","webpack:///./src/common/js/normalize-song.js","webpack:///./src/api/get-lyric.js","webpack:///./src/api/the-search.js","webpack:///src/base/base-confirm.vue","webpack:///./src/base/base-confirm.vue?fb54","webpack:///./src/base/base-confirm.vue","webpack:///src/base/base-switches/base-switches.vue","webpack:///./src/base/base-switches/base-switches.vue?3697","webpack:///./src/base/base-switches/base-switches.vue","webpack:///./src/api/config.js","webpack:///./src/common/js/config.js","webpack:///./src/base/base-loading/loading.gif","webpack:///src/base/base-scroll.vue","webpack:///./src/base/base-scroll.vue?3b6f","webpack:///./src/base/base-scroll.vue","webpack:///src/base/base-search-box.vue","webpack:///./src/base/base-search-box.vue?69b0","webpack:///./src/base/base-search-box.vue","webpack:///./src/common/js/hack-next-tick.js","webpack:///src/base/base-no-result/base-no-result.vue","webpack:///./src/base/base-no-result/base-no-result.vue?e883","webpack:///./src/base/base-no-result/base-no-result.vue","webpack:///./src/common/js/util.js","webpack:///src/base/base-search-list.vue","webpack:///./src/base/base-search-list.vue?fa1d","webpack:///./src/base/base-search-list.vue"],"names":["parts_search_result","String","Boolean","methods","extends_default","refresh","singermid","singername","artist","id","item","_this","this","page","data","_this2","song","push","zhida","list","ret","Object","vuex_esm","search","BaseScroll","base_scroll","BaseLoading","base_loading","BaseNoResult","base_no_result","parts_search_result_parts_search_result","render","_vm","_h","$createElement","_c","_self","ref","staticClass","attrs","searchResult","pullUp","beforeScroll","on","scrollToEnd","searchMore","listScrolling","_l","index","key","click","$event","selectItem","class","getIconClass","_v","domProps","innerHTML","_s","getDisplayName","directives","name","rawName","value","expression","title","hasMore","length","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","el","setAttribute","getAttribute","style","vendor","charAt","toUpperCase","substr","elementStyle","document","createElement","transformNames","webkit","Moz","O","ms","standard","undefined","base_songs_list","Array","album","base_songs_list_base_songs_list","selectedItem","getRank","getRankText","_e","getDescription","Artist","_ref","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck___default","avatar","playlistMixin","computed","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default","__WEBPACK_IMPORTED_MODULE_1_vuex__","mounted","handlePlaylist","playlist","activated","watch","newList","Error","playerMixin","toggleIsFavorite","isFavoriteSong","deleteMyFavoriteSong","saveMyFavoriteSong","getFavoriteIcon","myFavoriteSongs","findIndex","togglePlayMode","mode","setPlayMode","__WEBPACK_IMPORTED_MODULE_2_common_js_config__","random","__WEBPACK_IMPORTED_MODULE_3_common_js_util__","sequenceList","resetCurrentIndex","setPlaylist","currentSong","setCurrentIndex","setPlayingState","iconMode","sequence","loop","searchMixin","queryKey","refreshScrollDelay","selectQueryRecord","$refs","searchBox","setQuery","getQueryKey","query","blurInputBox","blurInputBar","saveSearchItem","saveSearchHistory","url","option","indexOf","encodeURIComponent","substring","param","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default","a","resolve","reject","__WEBPACK_IMPORTED_MODULE_1_jsonp___default","err","default","base_loading_base_loading","src","width","height","alt","module","exports","app_header_app_header","to","tag","components_app_header_app_header","app_tab_app_tab","components_app_tab_app_tab","app_tab_normalizeComponent","TRANSFORM","control_dom","base_progress_bar","Number","getBoundingClientRect","rect","left","offsetWidth","_triggerPercent","pageX","clientWidth","startX","displacement","offsetLength","progressLength","base_base_progress_bar","progressClick","touchstart","preventDefault","progressTouchStart","touchmove","progressTouchMove","touchend","progressTouchEnd","src_base_base_progress_bar","base_progress_bar_normalizeComponent","base_progress_circle","percent","base_base_progress_circle","radius","viewBox","version","xmlns","r","cx","cy","fill","stroke-dasharray","dashArray","stroke-dashoffset","dashoffset","_t","src_base_base_progress_circle","base_progress_circle_normalizeComponent","base_top_tip","timer","hideTopTip","hideDelay","base_top_tip_base_top_tip","stopPropagation","base_base_top_tip_base_top_tip","base_top_tip_normalizeComponent","parts_add_to_list","mixin","showTopTip","BaseSearchBox","base_search_box","BaseSearchList","base_search_list","BaseSwitches","base_switches","BaseSongsList","BaseTopTip","PartsResult","parts_add_to_list_parts_add_to_list","hideComponent","placeholder","queryChange","switchOptions","currentSwitchIndex","switchIndex","selectSwitch","toggleSwitchIndex","playedHistory","songsData","select","selectedSong","searchHistory","refreshDelay","searchData","deleteItem","deleteSearchHistory","showArtist","selectQuery","saveSearch","topTipDelay","components_parts_add_to_list_parts_add_to_list","parts_add_to_list_normalizeComponent","parts_playlist","showComponent","deleteAllSongsFromList","closePlaylist","showConfirm","newSong","BaseConfirm","base_confirm","PartsAddToList","parts_playlist_parts_playlist","target","currentTarget","playModeText","refInFor","selectSong","getCurrentIcon","deleteSong","showAddToList","confirmBtnText","confirmSubmit","deleteAllSongs","components_parts_playlist_parts_playlist","parts_playlist_normalizeComponent","transform","transitionDuration","app_player","playing","togglePlay","showPlaylist","togglePlaying","fixPlayingStatus","loopPlay","currentTime","nextSong","play","handleLyric","lineNum","txt","_getPositionAndScale","animation","done","transition","_getPositionAndScale2","scale","pageY","startY","innerWidth","displaceX","durationTime","offsetOpacity","getSongLyric","audio","pause","duration","BaseProgressBar","BaseProgressCircle","PartsPlaylist","app_player_app_player","type","enter","after-enter","afterEnter","after-leave","afterLeave","image","closeFullScreen","middleTouchStart","middleTouchMove","middleTouchEnd","rotateCD","playingLyric","currentLyric","lines","currentLineNum","currentShow","_f","currentPercent","playPercent","percentChange","onProgressChange","disableBtn","prevSong","fullScreen","openFullScreen","audioPlay","error","errorPlay","timeupdate","timeUpdate","ended","endPlay","App","AppHeader","AppTab","AppPlayer","app_player_normalizeComponent","selectortype_template_index_0_src_App","src_App","App_normalizeComponent","vue_runtime_esm","use","vue_router_esm","ArtistItem","Promise","all","e","then","bind","router","routes","path","redirect","component","children","SEARCH_KEY","HAS_PLAYED_KEY","FAVORITE_SONGS_KEY","SEARCH_MAX_LENGTH","HAS_PLAYED_MAX_LENGTH","FAVORITE_SONGS_MAX_LENGTH","insertItem","arr","compare","maxLength","splice","unshift","pop","store_state","config","currentIndex","recommendItem","selectedTopList","store_modern_default","get","state","getters_playlist","getters_sequenceList","getters_currentIndex","getters_currentSong","store_mutations","mutations","defineProperty_default","_mutations","actions_selectedPlay","_ref2","commit","randomList","util","actions_randomPlay","_ref3","_ref4","actions_insertSong","_ref5","toConsumableArray_default","fqIndex","sequenceCurrentIndex","fsIndex","actions_saveSearchHistory","_ref6","searches","set","actions_deleteSearchHistory","_ref7","deleteSearchItem","actions_clearAllHistory","_ref8","remove","actions_deleteSongFromList","_ref9","_ref10","indexInPlaylist","actions_deleteAllSongsFromList","_ref11","actions_savePlayedHistory","_ref12","played","actions_saveMyFavoriteSong","_ref13","favorite","saveFavoriteSongs","actions_deleteMyFavoriteSong","_ref14","deleteFavoriteSong","store","Store","getters","getters_namespaceObject","actions","actions_namespaceObject","strict","plugins","fastclick_default","attach","body","vue_lazyload_default","loading","productionTip","h","musicData","normalize_song_Song","songid","mid","songmid","forEach","join","filterArtist","singer","songname","albumname","interval","albummid","Song","classCallCheck_default","lyric","promise_default","pcachetime","Date","platform","hostUin","needNewCode","g_tk","format","axios_default","params","res","retcode","base64","decode","__WEBPACK_IMPORTED_MODULE_2__config__","uin","_","__WEBPACK_IMPORTED_MODULE_1_common_js_jsonp__","perPage","w","p","catZhida","perpage","n","zhidaqu","t","flag","ie","sem","aggr","remoteplace","__WEBPACK_IMPORTED_MODULE_3_axios___default","hideConfirm","base_base_confirm","chooseCancel","cancelBtnText","chooseSubmit","base_switches_base_switches","active","selectedSwitch","commonParams","inCharset","outCharset","notice","options","ERR_OK","RECOMMEND_URL","PLAYLIST_URL","ARTIST_URL","ARTIST_DETAIL_URL","LYRIC_URL","RECOMMEND_ITEM_URL","RANKING_LIST_URL","FULL_RANKING_LIST_URL","HOTKEY_URL","SEARCH_URL","d","playMode","probeType","pos","arguments","enable","disable","_this3","_initScroll","base_base_scroll","blur","newQuery","base_base_search_box","input","composing","cleanInputBox","noop","window","MessageChannel","setImmediate","base_no_result_base_no_result","_arr","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_toConsumableArray___default","i","j","min","max","Math","floor","fn","delay","_len","args","_key","clearTimeout","setTimeout","apply","base_base_search_list"],"mappings":"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","file":"static/js/app.be0f977e5a8e2a0351da.js","sourcesContent":["<template>\r\n  <BaseScroll\r\n    class=\"search-result\"\r\n    ref=\"scroll\"\r\n    :data=\"searchResult\" :pullUp=\"pullUp\" :beforeScroll=\"beforeScroll\"\r\n    @scrollToEnd=\"searchMore\"\r\n    @beforeScroll=\"listScrolling\"\r\n  >\r\n    <ul class=\"result-list\">\r\n      <li\r\n        class=\"result-item\"\r\n        v-for=\"(item, index) of searchResult\"\r\n        :key=\"index\"\r\n        @click=\"selectItem(item)\"\r\n      >\r\n        <div class=\"item-icon\">\r\n          <i :class=\"getIconClass(item)\"></i>\r\n        </div>\r\n        <div class=\"item-name\">\r\n          <p class=\"text\" v-html=\"getDisplayName(item)\"></p>\r\n        </div>\r\n      </li>\r\n      <BaseLoading v-show=\"hasMore\" title=\"加载中...\"/>\r\n    </ul>\r\n\r\n    <div class=\"no-result-wrapper\" v-show=\"!hasMore && !searchResult.length\">\r\n      <BaseNoResult title=\"抱歉，暂无搜索结果\"/>\r\n    </div>\r\n  </BaseScroll>\r\n</template>\r\n\r\n<script>\r\nimport BaseScroll from 'base/base-scroll'\r\nimport BaseLoading from 'base/base-loading/base-loading'\r\nimport BaseNoResult from 'base/base-no-result/base-no-result'\r\nimport { searchKey } from 'api/the-search'\r\nimport { ERR_OK } from 'api/config'\r\nimport { createSong } from 'common/js/normalize-song'\r\nimport { mapMutations, mapActions } from 'vuex'\r\nimport Artist from 'common/js/normalize-artist'\r\n\r\nconst TYPE_SINGER = 'singer'\r\nconst PER_PAGE = 20 // 每一页的结果总数\r\n\r\nexport default {\r\n  props: {\r\n    query: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n\r\n    showArtist: {\r\n      type: Boolean,\r\n      default: true\r\n    }\r\n  },\r\n\r\n  data () {\r\n    return {\r\n      page: 1,\r\n      searchResult: [],\r\n      hasMore: true, // 是否还有数据未请求\r\n      pullUp: true,\r\n      beforeScroll: true // 用于移动端 input 失焦时机的判断，以在滚动时收起键盘\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    refreshScroll () {\r\n      this.$refs.scroll.refresh()\r\n    },\r\n\r\n    listScrolling () {\r\n      this.$emit('listScrolling')\r\n    },\r\n\r\n    selectItem (item) {\r\n      if (item.type === TYPE_SINGER) {\r\n        const artist = new Artist({\r\n          id: item.singermid,\r\n          name: item.singername\r\n        })\r\n\r\n        this.setArtist(artist)\r\n        this.$router.push({ path: `/search/${artist.id}` })\r\n      } else {\r\n        this.insertSong(item)\r\n      }\r\n\r\n      // 保存历史记录并不是本组件的职责\r\n      this.$emit('selectQuery')\r\n    },\r\n\r\n    searchMore () {\r\n      if (!this.hasMore) return\r\n\r\n      this.page++\r\n      searchKey(this.query, this.page, this.showArtist, PER_PAGE).then(res => {\r\n        if (res.code === ERR_OK) {\r\n          // / 合并 searchResult\r\n          this.searchResult = [...this.searchResult, ...this._normalizeResult(res.data)]\r\n          this._checkMore(res.data)\r\n        } else {\r\n          throw new Error('Check ERR_OK failed')\r\n        }\r\n      })\r\n    },\r\n\r\n    getDisplayName (item) {\r\n      if (item.type === TYPE_SINGER) {\r\n        return item.singername\r\n      } else {\r\n        return `${item.name} - ${item.artist}`\r\n      }\r\n    },\r\n\r\n    getIconClass (item) {\r\n      if (item.type === TYPE_SINGER) {\r\n        return 'icon-mine'\r\n      } else {\r\n        return 'icon-music'\r\n      }\r\n    },\r\n\r\n    search () {\r\n      this.page = 1 // 未清空输入框就再次执行搜索\r\n      this.hasMore = true\r\n      this.$refs.scroll.scrollTo(0, 0)\r\n      searchKey(this.query, this.page, this.showArtist, PER_PAGE).then(res => {\r\n        if (res.code === ERR_OK) {\r\n          // 重置 searchResult\r\n          this.searchResult = this._normalizeResult(res.data)\r\n          this._checkMore(res.data)\r\n        } else {\r\n          throw new Error('Check ERR_OK failed')\r\n        }\r\n      })\r\n    },\r\n\r\n    _checkMore (data) {\r\n      const song = data.song\r\n\r\n      if (!song.list.length || (song.curnum + song.curpage * PER_PAGE) >= song.totalnum) {\r\n        this.hasMore = false\r\n      }\r\n    },\r\n\r\n    _normalizeResult (data) {\r\n      let ret = []\r\n      if (data.zhida && data.zhida.singermid) {\r\n        ret.push({\r\n          ...data.zhida,\r\n          type: TYPE_SINGER\r\n        })\r\n      }\r\n\r\n      if (data.song) {\r\n        ret = [...ret, ...this._normalizeSongs(data.song.list)]\r\n      }\r\n\r\n      return ret\r\n    },\r\n\r\n    _normalizeSongs (list) {\r\n      let ret = []\r\n      list.forEach(item => {\r\n        if (item.songmid && item.albumid) {\r\n          ret.push(createSong(item))\r\n        }\r\n      })\r\n\r\n      return ret\r\n    },\r\n\r\n    ...mapMutations({\r\n      setArtist: 'SET_ARTIST'\r\n    }),\r\n\r\n    ...mapActions([\r\n      'insertSong'\r\n    ])\r\n  },\r\n\r\n  watch: {\r\n    query (newQuery) {\r\n      if (!newQuery) { // 清空输入框时不请求，且初始化组件数据对象\r\n        this.page = 1\r\n        this.searchResult = []\r\n        return\r\n      }\r\n\r\n      this.search()\r\n    }\r\n  },\r\n\r\n  components: {\r\n    BaseScroll,\r\n    BaseLoading,\r\n    BaseNoResult\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '~scss/variables';\r\n@import '~scss/mixin';\r\n\r\n.search-result {\r\n  height: 100%;\r\n  overflow: hidden;\r\n  font-size: 0;\r\n  .result-list {\r\n    padding: 0 30px;\r\n    .result-item {\r\n      display: flex;\r\n      align-items: center;\r\n      padding-bottom: 20px;\r\n      .item-icon {\r\n        flex: 0 30px;\r\n        width: 30px;\r\n        .icon-music, .icon-mine {\r\n          font-size: $font-size-medium;\r\n          color: $color-text-l;\r\n        }\r\n      }\r\n      .item-name {\r\n        flex: 1;\r\n        overflow: hidden;\r\n        .text {\r\n          @include ellipsis();\r\n          font-size: $font-size-medium;\r\n          color: $color-text-l;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .no-result-wrapper {\r\n    position: absolute;\r\n    top: 50%;\r\n    width: 100%;\r\n    transform: translateY(-90%);\r\n  }\r\n}\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/parts-search-result/parts-search-result.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('BaseScroll',{ref:\"scroll\",staticClass:\"search-result\",attrs:{\"data\":_vm.searchResult,\"pullUp\":_vm.pullUp,\"beforeScroll\":_vm.beforeScroll},on:{\"scrollToEnd\":_vm.searchMore,\"beforeScroll\":_vm.listScrolling}},[_c('ul',{staticClass:\"result-list\"},[_vm._l((_vm.searchResult),function(item,index){return _c('li',{key:index,staticClass:\"result-item\",on:{\"click\":function($event){_vm.selectItem(item)}}},[_c('div',{staticClass:\"item-icon\"},[_c('i',{class:_vm.getIconClass(item)})]),_vm._v(\" \"),_c('div',{staticClass:\"item-name\"},[_c('p',{staticClass:\"text\",domProps:{\"innerHTML\":_vm._s(_vm.getDisplayName(item))}})])])}),_vm._v(\" \"),_c('BaseLoading',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.hasMore),expression:\"hasMore\"}],attrs:{\"title\":\"加载中...\"}})],2),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.hasMore && !_vm.searchResult.length),expression:\"!hasMore && !searchResult.length\"}],staticClass:\"no-result-wrapper\"},[_c('BaseNoResult',{attrs:{\"title\":\"抱歉，暂无搜索结果\"}})],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-624de986\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/parts-search-result/parts-search-result.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-624de986\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./parts-search-result.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./parts-search-result.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./parts-search-result.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-624de986\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./parts-search-result.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-624de986\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/parts-search-result/parts-search-result.vue\n// module id = null\n// module chunks = ","export function addClass (el, className) {\r\n  if (hasClass(el, className)) {\r\n    return\r\n  }\r\n  let newClass = el.className.split(' ')\r\n  newClass.push(className)\r\n  el.className = newClass.join('')\r\n}\r\n\r\nexport function hasClass (el, className) {\r\n  let reg = new RegExp(`(^|\\\\s)${className}(\\\\s|$)`)\r\n  return reg.test(el.className)\r\n}\r\n\r\nexport function getData (el, name, value) {\r\n  const prefix = 'data-'\r\n  name = prefix + name\r\n  if (value) {\r\n    return el.setAttribute(name, value)\r\n  } else {\r\n    return el.getAttribute(name)\r\n  }\r\n}\r\n\r\n// 浏览器能力检测，检测当前浏览器需要添加何种前缀\r\n\r\nlet elementStyle = document.createElement('div').style\r\n\r\nlet vendor = (() => {\r\n  let transformNames = {\r\n    webkit: 'webkitTransform',\r\n    Moz: 'MozTransform',\r\n    O: 'OTransform',\r\n    ms: 'msTransform',\r\n    standard: 'transform'\r\n  }\r\n\r\n  for (let key in transformNames) {\r\n    if (elementStyle[transformNames[key]] !== undefined) {\r\n      return key\r\n    }\r\n  }\r\n\r\n  return false // 没有任何已知前缀能被当前浏览器识别时\r\n})()\r\n\r\nexport function prefixStyle (style) {\r\n  if (vendor === false) {\r\n    return false // 没有任何已知前缀能被当前浏览器识别时\r\n  }\r\n\r\n  if (vendor === 'standard') {\r\n    return style\r\n  }\r\n\r\n  return vendor + style.charAt(0).toUpperCase() + style.substr(1) // 'webkitTransform'\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/js/control-dom.js","<template>\r\n  <div class=\"songs-list\">\r\n    <ul>\r\n      <li\r\n        class=\"list-item\"\r\n        v-for=\"(item, index) of songsData\"\r\n        :key=\"index\"\r\n        @click=\"selectedItem(item, index)\"\r\n      >\r\n        <div class=\"item-rank\" v-if=\"showRank\">\r\n          <span :class=\"getRank(index)\">{{ getRankText(index) }}</span>\r\n        </div>\r\n        <div class=\"item-content\">\r\n          <h2 class=\"item-title\">{{ item.name }}</h2>\r\n          <p class=\"item-description\">{{ getDescription(item) }}</p>\r\n        </div>\r\n      </li>\r\n    </ul>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    songsData: {\r\n      type: Array,\r\n      default () {\r\n        return []\r\n      }\r\n    },\r\n\r\n    showRank: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    selectedItem (song, index) {\r\n      this.$emit('select', song, index)\r\n    },\r\n\r\n    getRank (index) {\r\n      if (index <= 2) {\r\n        return `icon icon${index}`\r\n      } else {\r\n        return `text`\r\n      }\r\n    },\r\n\r\n    getRankText (index) {\r\n      return index > 2 ? index + 1 : ''\r\n    },\r\n\r\n    getDescription (item) {\r\n      return `${item.artist} · ${item.album}`\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '~scss/variables';\r\n@import '~scss/mixin';\r\n\r\n.songs-list {\r\n  padding: 20px 30px;\r\n  .list-item {\r\n    display: flex;\r\n    align-items: center;\r\n    box-sizing: border-box;\r\n    height: 64px;\r\n    .item-rank {\r\n      flex: 0 0 25px;\r\n      width: 25px;\r\n      margin-right: 30px;\r\n      text-align: center;\r\n      .text {\r\n        color: $color-theme;\r\n        font-size: $font-size-large;\r\n      }\r\n      .icon {\r\n        display: inline-block;\r\n        width: 25px;\r\n        height: 24px;\r\n        background-size: 25px 24px;\r\n        &.icon0 {\r\n          @include bg-img('first')\r\n        }\r\n        &.icon1 {\r\n          @include bg-img('second')\r\n        }\r\n        &.icon2 {\r\n          @include bg-img('third')\r\n        }\r\n      }\r\n    }\r\n    .item-content {\r\n      flex: 1;\r\n      line-height: 20px;\r\n      overflow: hidden;\r\n      .item-title {\r\n        @include ellipsis();\r\n        font-size: $font-size-medium;\r\n        color: $color-text;\r\n      }\r\n      .item-description {\r\n        @include ellipsis();\r\n        margin-top: 4px;\r\n        font-size: $font-size-medium;\r\n        color: $color-text-d;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/base/base-songs-list/base-songs-list.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"songs-list\"},[_c('ul',_vm._l((_vm.songsData),function(item,index){return _c('li',{key:index,staticClass:\"list-item\",on:{\"click\":function($event){_vm.selectedItem(item, index)}}},[(_vm.showRank)?_c('div',{staticClass:\"item-rank\"},[_c('span',{class:_vm.getRank(index)},[_vm._v(_vm._s(_vm.getRankText(index)))])]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"item-content\"},[_c('h2',{staticClass:\"item-title\"},[_vm._v(_vm._s(item.name))]),_vm._v(\" \"),_c('p',{staticClass:\"item-description\"},[_vm._v(_vm._s(_vm.getDescription(item)))])])])}))])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5d13dc1c\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/base/base-songs-list/base-songs-list.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5d13dc1c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./base-songs-list.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./base-songs-list.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./base-songs-list.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5d13dc1c\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./base-songs-list.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-5d13dc1c\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/base/base-songs-list/base-songs-list.vue\n// module id = null\n// module chunks = ","export default class Artist {\r\n  constructor ({id, name}) {\r\n    this.id = id\r\n    this.name = name\r\n    this.avatar = `https://y.gtimg.cn/music/photo_new/T001R300x300M000${id}.jpg?max_age=2592000`\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/js/normalize-artist.js","/**\r\n * mixin 中方法均会被各个组件中的同名属性方法覆盖\r\n */\r\n\r\nimport { mapGetters, mapMutations, mapActions } from 'vuex'\r\nimport { playMode } from 'common/js/config'\r\nimport { shuffle } from 'common/js/util'\r\n\r\nexport const playlistMixin = {\r\n  computed: {\r\n    ...mapGetters([\r\n      'playlist' // 给各个函数传入 uex 中的 state 更易统一参数\r\n    ])\r\n  },\r\n\r\n  mounted () {\r\n    this.handlePlaylist(this.playlist)\r\n  },\r\n\r\n  activated () {\r\n    this.handlePlaylist(this.playlist)\r\n  },\r\n\r\n  watch: {\r\n    playlist (newList) {\r\n      this.handlePlaylist(newList)\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    // 验证 playlist.length === 0 来判断是否自适应（添加 bottom: 60px）\r\n    handlePlaylist () {\r\n      throw new Error('Component must implement handlePlaylist method')\r\n    }\r\n\r\n    // 组件内实现如下：\r\n\r\n    // handlePlaylist (playlist) {\r\n    //   const bottom = playlist.length > 0 ? '60px' : ''\r\n\r\n    //   this.$refs.scrollWrapper.style.bottom = bottom\r\n    //   // ... refresh component scroll\r\n    // }\r\n  }\r\n}\r\n\r\nexport const playerMixin = {\r\n  methods: {\r\n    toggleIsFavorite (song) {\r\n      this.isFavoriteSong(song) ? this.deleteMyFavoriteSong(song) : this.saveMyFavoriteSong(song)\r\n    },\r\n\r\n    getFavoriteIcon (song) {\r\n      return this.isFavoriteSong(song) ? 'icon-like' : 'icon-not-like'\r\n    },\r\n\r\n    isFavoriteSong (song) {\r\n      return this.myFavoriteSongs.findIndex(item => item.id === song.id) > -1\r\n    },\r\n\r\n    togglePlayMode () {\r\n      const mode = (this.mode + 1) % 3\r\n      this.setPlayMode(mode)\r\n\r\n      let list = null\r\n      if (mode === playMode.random) {\r\n        list = shuffle(this.sequenceList) // 打乱顺序\r\n      } else {\r\n        list = this.sequenceList\r\n      }\r\n      this.resetCurrentIndex(list)\r\n      this.setPlaylist(list)\r\n      /**\r\n       * 经试验，playlist 的改变不会导致 currentSong 的重新计算（在 watch 中设定一\r\n       * 个 console ），currentIndex 会导致触发 watcher ，即 currentSong 会重新计\r\n       * 算。\r\n       */\r\n    },\r\n    // 保证 playlist 改变时不会改变当前播放歌曲\r\n    resetCurrentIndex (list) {\r\n      let index = list.findIndex(item => {\r\n        return item.id === this.currentSong.id\r\n      }) // 在修改后的 list 中找到当前播放的 index\r\n\r\n      this.setCurrentIndex(index)\r\n    },\r\n\r\n    ...mapMutations({\r\n      setPlayingState: 'SET_PLAYING_STATE',\r\n      setCurrentIndex: 'SET_CURRENT_INDEX',\r\n      setPlayMode: 'SET_PLAY_MODE',\r\n      setPlaylist: 'SET_PLAYLIST'\r\n    }),\r\n\r\n    ...mapActions([\r\n      'saveMyFavoriteSong',\r\n      'deleteMyFavoriteSong'\r\n    ])\r\n  },\r\n\r\n  computed: {\r\n    iconMode () {\r\n      return this.mode === playMode.sequence ? 'icon-sequence' : this.mode === playMode.loop ? 'icon-loop' : 'icon-random'\r\n    },\r\n\r\n    ...mapGetters([\r\n      'playlist',\r\n      'mode',\r\n      'sequenceList',\r\n      'currentSong',\r\n      'myFavoriteSongs'\r\n    ])\r\n  }\r\n}\r\n\r\nexport const searchMixin = {\r\n  data () {\r\n    return {\r\n      queryKey: '',\r\n      refreshScrollDelay: 100 // 值大于等于 transition-group 动画的值(源于 search-list 组件)\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    selectQueryRecord (item) {\r\n      /**\r\n       * 调用子组件方法传值的优势在于:\r\n       * 1. 不用设置不必要的 props 和 watch\r\n       * 2. 代码量更少\r\n       * 适用于不需要监听的数据传递，注重传递这一行为\r\n       */\r\n\r\n      this.$refs.searchBox.setQuery(item)\r\n    },\r\n\r\n    getQueryKey (query) {\r\n      this.queryKey = query\r\n    },\r\n\r\n    blurInputBox () {\r\n      this.$refs.searchBox.blurInputBar()\r\n    },\r\n\r\n    saveSearchItem () {\r\n      this.saveSearchHistory(this.queryKey)\r\n    },\r\n\r\n    ...mapActions([\r\n      'saveSearchHistory',\r\n      'deleteSearchHistory' // 自动传入载荷\r\n    ])\r\n  },\r\n\r\n  computed: {\r\n    ...mapGetters([\r\n      'searchHistory'\r\n    ])\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/js/mixin.js","// Promise 封装 JSONP\r\n// 简单 JSONP 的实现 https://github.com/webmodules/jsonp\r\nimport originJSONP from 'jsonp'\r\n\r\nexport default function jsonp (url, data, option) {\r\n  url += (url.indexOf('?') < 0 ? '?' : '&') + param(data)\r\n\r\n  return new Promise((resolve, reject) => {\r\n    originJSONP(url, option, (err, data) => {\r\n      !err ? resolve(data) : reject(err)\r\n    })\r\n  })\r\n}\r\n\r\n// 拼接 url\r\nfunction param (data) {\r\n  let url = ''\r\n  for (let key in data) {\r\n    let value = data[key] !== undefined ? data[key] : '' // 检测 key 是否为空，防止向后端传入 undefined\r\n    url += `&${key}=${encodeURIComponent(value)}`\r\n  }\r\n  // String.prototype.substring(indexStart[, indexEnd])\r\n  return url ? url.substring(1) : ''\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/js/jsonp.js","<template>\r\n  <div class=\"loading\">\r\n    <img src=\"./loading.gif\" width=\"24\" height=\"24\" alt=\"loading-pic\">\r\n    <p class=\"description\">{{ title }}</p>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    title: {\r\n      type: String,\r\n      default: `正在载入...`\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '~scss/variables';\r\n.loading {\r\n  width: 100%;\r\n  text-align: center;\r\n  font-size: 0;\r\n  .description {\r\n    line-height: 20px;\r\n    font-size: $font-size-small;\r\n    color: $color-text-l;\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/base/base-loading/base-loading.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"loading\"},[_c('img',{attrs:{\"src\":require(\"./loading.gif\"),\"width\":\"24\",\"height\":\"24\",\"alt\":\"loading-pic\"}}),_vm._v(\" \"),_c('p',{staticClass:\"description\"},[_vm._v(_vm._s(_vm.title))])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-d8f67a82\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/base/base-loading/base-loading.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-d8f67a82\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./base-loading.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./base-loading.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./base-loading.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-d8f67a82\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./base-loading.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-d8f67a82\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/base/base-loading/base-loading.vue\n// module id = null\n// module chunks = ","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAA1ESURBVHhe7VxplBTVFYaT5GQ5Odl+5CTnJDnZE80emJ5BmL27umd6umpABhdEFJRFQEBAdkESiIKKB9kFBRVQCAajbAkIigIBZBEIKMgSkDURXCBu8HK/6uqh6tWt6qqZHhjIu+d8h6Hfft979953333VRJEiRYoUKVKkSJEiRYoUKVKkSJEiRYoUKVKkSJEiRReTIonW3ymI69F8rbp7fty4NxI3pkfi+l8J/8iP62/RbwcjmvEO/X2K/hZp6KfSvxkHkQd5USZf06fSbyOpjq6RWKosr7LyW1Yzioia5kerr4poeidi1Ix8zdhATHzvAlMbBpgompxXMTk0MR2al7f5odWfK5+IAd+nwfegVfo8/fsfmTmXDJpxlDA/kjA6t4i1/qbV3SuDCiqMX9HgxtDK28YOvrFB089Rf9dF4qnB1ySqf2QN4/KiAq3tNyJaqiet9E3sIH1Qohvi5q5VYvjIhJg2JSbmzykXq5aUim2vFouD24vE8TeKxHsHWon3DxYKcbKlCfyN347tLjTzbH21xCyDslMna2LYiITo0CVp1s216YPzhJUFmt6+oG3bL1rDa7yUH03+xFSamvGhNBAWYEj3PpVi0iRNvLy8VBzddYGpDYHzJ1qabaCtiRM1s+3gk6Kfpp0x9vfx1t+2htt4iCyWZtTJBeb2ZTufRkHCMFfilMkx8fraEvHpMZ5RFxPoA/oymRYB+oY+cn3PAIuL9Ne0Ai31Y2v4l46aRau+R0yfSx3DVmU7DNzSPSmemRMVJ/c07ArPBdDHeU9GRcduSXYsGdBO/4R2xfjfFBtfs9hx8ai4uPgL1PgwMiHPcp0DYtemzG1+YFsRO9DLAej7IxM0cyzcGE1oxsn8hHFHTU3NZyz2NCzlRfXm1OhOtjOEdrdUiYXzouK/b7diB1VXTJ8aE+eO82l2IA/ycml1xdnDLcWf55WLth39JkJf26BiiVb9Z2nF30Mr/2OuA0b7KrHkL2Xi3Al/xp891Eq8tKxU3D9OM5Uvl4dDqaGL++6Pm4qUSweQhjzIy6VzwC596KG4WL+yVHx0hM+TAcb2wsIyGqvnRHyQF9e7EbuaprmWI2qVTH6dGL+caVBE2+hi7hNR8fFRb8a/u79QPP1UuejWu1JcU5kuh239773BdskZmrRMe36ThrRMPpTh8shAHzIipjiliwFDKsTSReU0Hj4/gLQ5s6OivLXHRJBehJi22Fc/wrYihbOLa+juoRXi5Ju8YsVq3LymRNwzKiFaJd1lFz5dzpbjANteLp8NKMPVxQHiRS6PSXn4YdJhr3vXc4LGjgmTy5ogkVRv31NezPgt5zLAql+xuJTtFLbpskVlpi6Qy2UQv1YXHx4JriM2ri5h6/EDynB1cUBf0CeuHpilPe6qNA93XFlgxQtlJk/ksiSyD0RiqR9Y7AxHzWOtf0kVnJArven2pDi8k18Vr/y91EyXy8jAOYAr7wWIBK4eP6AMV5cX0CeuHjv6D64Q+7byY//X9kLR/jZ20e2Dh9diazCyxM4xubIhwytY6wbbHfJdzu+FHeuKXXX44clZUbYeP6AMV5cX0CeuHhktKgzxxzEJ0/Uh1wHeDB6ecJUhXu4JLI6aVVV9iRTudrmSP4yOs2bgcwvKQ/lYkDfsCXj8+AvKNShQhqvLC+hTmHHAEoKOk+sBj0aNZiZB09c0a9blcxabvYkyz5YLj7nPbf7Bshk4zEMB+aCmY5WjniDAzuPq8gPKcHX54dqbvfUWB+wGiC55QYFX4JmcP6IZD1ps5ikSr75BLtT37grXyocOACPlvEEAOWmvKwi69Aou3jJAGa4uP9zYObv+4tCTlLRs9oJnfYh3Ut7z+bHqCovdTiourvkyzdBhe4EbOlc53L4AzLKKdj4nwizQb0w56guCNh3CTzbKcHX5IXld3ccFR56sF8C76zs5+0764M1EIvF5i+0XiBL+ZM+IA9Mbm5zKEr741A11W/l2cArMCzBrC6v4evyAMtlO5Xac2lfI1hMGnXokXUYKeJg5fNZC0wdZbE9T+gLF6Vib+IjTVETF2TyEQQHFba/bD1B0XB1BwClJL3CHsboAukfWlxMmSEaEZrwLiWOxn1Z/TO9rz4CtKM8kToX2PPUBZG1QSwi+Ha6OIEBZrk4Z8AH5OtpCYsFc5wKDM08+6Fk+I5Oa0ozstic+NsNpQ2MbQePb89QXj07LfhiDO5hzYwRFy6Qu9m7Ofuaoi5nrBzgDIa7tbcyY7jzokb7dZnI/L576hT0BsvPUfufqhyVkz5ML4IgPB529HTtOk0zG3TBXNgxgSHhdBEFH4CaMK1dfyLsPPJV1WV5F9U9xnYgAqNof7xzgtJ8P7SjKek1XH/QeUCm2vFJSKzfBFLir62rmcsCh6fmF5bUWHXw/uLS/tXtudBqHVrT7sIjsvOzZTzKnNf32JrQV5tl/fOJxp2iY+Wh2H0kuANcu5DBcwlx6ruDpQm4AQLHbefnEY06XChk+T9LJ1xk6gvAPeyEcMuzpCsExcKhTmmCnS3k2wvVw0P6j7OmsbNewK/JKRnV752EQ4tyeTjtgP4kgp/0vm5+QZfZ0heCABWfnJXjryKMZZ7JOQPL6iyczrzTE2zrdLuwE0B++Iqh3/9yboP8vwB2JnZesCJKVsHz1BqvInq4QHIhLtfOSV8LpyLbaH2fNdJ6Cj+5q2HPAlYw9m53SRDZDafHPcR3EYHbaCwEwp+x5FLLj9l5JFx/dB7HqLk0iCf1q+4+weuSjO+tSVfDFuhedUSNwd7vc6tHqq0xnnBz3w0UtTJmkdEFQjBjl9sJCHzjyacZO0xkHimhGH3siYlzkmzBEg8GxZc+n4EaiJmXel9t5h3BM2R1doBm9LPanQw/l8wDnS9+7pTi0LwWOsNmk2GFdvbWlSLz2col4alY0J57OXAF9QXgl+gb3NawVGCNhb//gskdslMw35i7lA1dYO1lDo+2ZYPlw0WDb1xUHdpgNHZHwDXhdvbRUtL7p0h30cG/MMSwDeE0HDXOHmHAAvxY/W+aqY/fGItddCi32URbbLxB3KY8LdCgPudI1y0uzuihw6+UXsJsBXLZ39HVaB2DMppdKTNc0Is7GjouHuhBC3nEPxM1DJaITUJc80bD2ZFHBAQtIvljngF0ul4UYZ0I0DyL2ymK7k/IT+vVSZtG5B89IhHOXGN6T8Owzwe99cUTHhTbKITgKJ0Y5D1ZqkJ2HPGtXuFc16syU5y7P/eB3XwzrUHY7A5h43K24ymjGdRa7eSKL6DG5EMLtuEnYub7E9HfI+QGkyfn9gJ2GcBfE63PpAB7X+R0Kkbbmb94iBa9d4N0NE5UBQOxy7cFY2bCKiY6jnTt6DHuXPdNiszdZoYlb5cL9BlWYlpDc2Nv/LGSto7ATAKxcXOYZ/JrBAw96X9LjoQVXJgMYAS8uccvpbMAjPrktiBaIRzkvVj7MUDk/iffNgZ+6IjiXlPIRuRKEacvXbACiwvoNdm43TiHlAogw4EIIcZsWRqyEAa4z7W3hGpXbRTA3Wa+Bph8K/UkEnJBJW7vC03HJsGuDO9IAd7p4G5aRs5gQOU+ugDtjuV/4jcubC9w1MM1UjG3+nKgr7gdAhDgnCUikH2se139msTUc4TMD3CTgSI1X6FzkGToCnwdCQrgtmgugXfsugDjg+pILIDQGirZX/0rP8eBBSlm120CIxPXjeGdhsbNuhO8l4NgsVw4gANbrCQ/OEDhwcWm5AKysTD8WzQ9ucYUF3oJ5vY7BEyXoRjtPaqEZO+r8OkamZtGar5IcW8Y1hN0A31FYy6K+gLwvqtJNsRDmuVMugPb8HunRyl8SSSS+YrEvN4SHyDQJQ8lCYp+pwteBF+ZBDl+5AmQzwKU1BGDhQCF7PlPV9I9I5g9p0EfbLRL677xEEoC40sdnxgKdMusLfP4AuohLyyVg3UD5+j/g0LeDNxabGpbMTxXQbqCt9j7fmbTFcP/YeOj3YGEAV4N8h51L4NyAwxv3AjIDkwfEi5y9Cw5D+HQLdWImdcD3Kyntbq0yI+w4F0NjA745BM8oHlxwY6lFeswzG8Xna/ITqV8jxJFM1k9dHZUAkxHu2Q2rS9iT9cUGwuTxjiDzuRquz3aQjP+EmD8XY7aG33gIpz3SD1PkuwUvIHDptp6VZng4Hn5jh0DRcYzKBXBWOLKrSKxaWmqKlq53hvhgk2acoXFNuiw+8pc2W6u70EpZyw7GB5gUPOTDSxNcg0LR4iU6Lklw5gADYfLazd7M/5GGPMiLCYXiRB24l8ADcpitXJu+wBhoLBiTNbzLi1poVT+ngdwLZ5RrcI0T56mvr9G/I9F3axhXBjXXjO8iDIYG+Bzn4rhUQF/QJzwbCv1ZgcuZ8EIkL5bqSNscH1FdT7b0aY5BuQQx+h2S5+vQJto2X6koukD4pgI+M0wT0pUYNtKcHFqdJtPSny7eByaajLQx1fr/PjMPvvtplkl/uhgyXH26WJEiRYoUKVKkSJEiRYoUKVKkSJEiRYoUKVKkSJGii09NmvwPuyUXlvjKo4YAAAAASUVORK5CYII=\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/common/image/default/default.png\n// module id = KQb1\n// module chunks = 10","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-header\"},[_c('div',{staticClass:\"icon\"}),_vm._v(\" \"),_c('div',{staticClass:\"text\"},[_vm._v(\"Sonar Music\")]),_vm._v(\" \"),_c('router-link',{staticClass:\"user-center\",attrs:{\"to\":\"/user\",\"tag\":\"div\"}},[_c('i',{staticClass:\"icon-mine\"})])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-92919daa\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/app-header/app-header.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-92919daa\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./app-header.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./app-header.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./app-header.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-92919daa\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./app-header.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-92919daa\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/app-header/app-header.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-tab\"},[_c('router-link',{staticClass:\"tab-recommend\",attrs:{\"tag\":\"div\",\"to\":\"/recommend\"}},[_c('span',{staticClass:\"tab-item\"},[_vm._v(\"推荐\")])]),_vm._v(\" \"),_c('router-link',{staticClass:\"tab-artist\",attrs:{\"tag\":\"div\",\"to\":\"/artist\"}},[_c('span',{staticClass:\"tab-item\"},[_vm._v(\"歌手\")])]),_vm._v(\" \"),_c('router-link',{staticClass:\"tab-ranking\",attrs:{\"tag\":\"div\",\"to\":\"/ranking\"}},[_c('span',{staticClass:\"tab-item\"},[_vm._v(\"排行\")])]),_vm._v(\" \"),_c('router-link',{staticClass:\"tab-search\",attrs:{\"tag\":\"div\",\"to\":\"/search\"}},[_c('span',{staticClass:\"tab-item\"},[_vm._v(\"搜索\")])])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-36d59958\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/app-tab/app-tab.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-36d59958\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./app-tab.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./app-tab.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./app-tab.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-36d59958\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./app-tab.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-36d59958\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/app-tab/app-tab.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"progress-bar\" ref=\"progressBar\" @click=\"progressClick\">\r\n    <div class=\"bar-inner\">\r\n\r\n      <div class=\"progress\" ref=\"progress\"></div>\r\n\r\n      <div\r\n        class=\"progress-btn-wrapper\" ref=\"progressBtn\"\r\n        @touchstart.prevent=\"progressTouchStart\"\r\n        @touchmove.prevent=\"progressTouchMove\"\r\n        @touchend=\"progressTouchEnd\"\r\n      ><!-- .prevent 修饰符防止浏览器的默认行为 -->\r\n        <div class=\"progress-btn\"></div>\r\n      </div>\r\n\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { prefixStyle } from 'common/js/control-dom'\r\n\r\nconst PROGRESS_BTN_WIDTH = 16\r\nconst TRANSFORM = prefixStyle('transform')\r\n\r\nexport default {\r\n  props: {\r\n    currentPercent: {\r\n      type: Number,\r\n      default: 0\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    progressClick (evt) {\r\n      const rect = this.$refs.progressBar.getBoundingClientRect()\r\n      console.info('Click point: %O', rect)\r\n      const offsetWidth = evt.pageX - rect.left\r\n\r\n      /**\r\n       * 1. _offset() 本可传入参数 evt.offsetX，offsetX 规定了事件对象与目标节点的\r\n       * padding edge 在 X 轴方向上的偏移量\r\n       * 2. 不使用 offsetX 的原因是，在点击小圆点时，偏移量计算错误\r\n       */\r\n\r\n      this._offset(offsetWidth)\r\n      this._triggerPercent()\r\n    },\r\n\r\n    progressTouchStart (evt) {\r\n      this.touch.initiated = true\r\n      this.touch.startX = evt.touches[0].pageX\r\n      this.touch.left = this.$refs.progress.clientWidth\r\n    },\r\n\r\n    progressTouchMove (evt) {\r\n      if (!this.touch.initiated) { return }\r\n\r\n      // 当前位移\r\n      const displacement = evt.touches[0].pageX - this.touch.startX\r\n      // 总移动长度\r\n      const progressLength = this.$refs.progressBar.clientWidth - PROGRESS_BTN_WIDTH\r\n      const offsetLength = Math.min(progressLength, Math.max(0, this.touch.left + displacement))\r\n\r\n      this._offset(offsetLength)\r\n    },\r\n\r\n    progressTouchEnd (evt) {\r\n      this.touch.initiated = false\r\n      this._triggerPercent()\r\n    },\r\n\r\n    _offset (length) { // 修改当前显示进度的样式\r\n      this.$refs.progress.style.width = `${length}px`\r\n      this.$refs.progressBtn.style[TRANSFORM] = `translateX(${length}px)`\r\n    },\r\n\r\n    _triggerPercent () { // 派发事件，修改当前进度\r\n      const progressLength = this.$refs.progressBar.clientWidth - PROGRESS_BTN_WIDTH\r\n      const percent = this.$refs.progress.clientWidth / progressLength\r\n\r\n      // 根据位移得到 percent ，传递出 percent 得到目标时间\r\n      this.$emit('percentChange', percent) // 不处理业务逻辑\r\n    }\r\n  },\r\n\r\n  watch: {\r\n    currentPercent (newPercent) {\r\n      // 实际中，存在超过 1 的情况\r\n      // this.touch.initiated 排除拖动的情况\r\n      if (newPercent > 1 || newPercent < 0 || this.touch.initiated) { return }\r\n\r\n      const progressLength = this.$refs.progressBar.clientWidth - PROGRESS_BTN_WIDTH\r\n      const offsetLength = newPercent * progressLength\r\n\r\n      this._offset(offsetLength)\r\n    }\r\n  },\r\n\r\n  computed: {\r\n    // 以下为给 .progress 和 .progress-wrapper 添加样式的计算属性\r\n\r\n    /**\r\n     * currentProgress 可使用，但与 currentPercent 的 watcher 度量标准不同，watch\r\n     * 减掉了 PROGRESS_BTN_WIDTH，最后歌曲结束时 $refs.progress 有轻微出头\r\n     * 原因：实际操作中，width 百分比 > 1\r\n     */\r\n\r\n    // currentProgress () {\r\n    //   return {\r\n    //     width: `${this.currentPercent * 100}%`\r\n    //   }\r\n    // }\r\n\r\n    /**\r\n     * https://cn.vuejs.org/v2/api/#ref\r\n     * https://cn.vuejs.org/v2/guide/components.html#子组件引用\r\n     * 1. $refs 本身是作为渲染结果存在的，故在 mounted 之前 $refs 是不存在的，故查询\r\n     * $refs.bar 的宽度只能使用 watcher 时查询。\r\n     * 2. 经试验，computed 属性中的方法是在 created 之后 mounted 之前调用\r\n     */\r\n\r\n    // currentBtn () {\r\n    //   const progressLength = this.$refs.bar.clientWidth // 报错\r\n    //   return {\r\n    //     transform: `translateX(${this.currentPercent * progressLength}px)`\r\n    //   }\r\n    // }\r\n  },\r\n\r\n  created () {\r\n    this.touch = {} // 不同 touch 事件之间共享数据的容器\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '~scss/variables';\r\n\r\n.progress-bar {\r\n  height: 30px;\r\n  .bar-inner {\r\n    position: relative;\r\n    top: 13px;\r\n    height: 4px;\r\n    background-color: $color-background-d;\r\n    .progress { // 动态宽度即是当前播放进度\r\n      position: absolute;\r\n      top: 0;\r\n      left: 0;\r\n      height: 100%;\r\n      background-color: $color-theme;\r\n    }\r\n    .progress-btn-wrapper {\r\n      position: absolute;\r\n      top: -13px;\r\n      left: -8px; // 控件半径\r\n      height: 30px;\r\n      width: 30px;\r\n      .progress-btn {\r\n        position: relative;\r\n        top: 7px;\r\n        left: 7px;\r\n        box-sizing: border-box;\r\n        width: 16px;\r\n        height: 16px;\r\n        border: 3px solid $color-text;\r\n        border-radius: 50%;\r\n        background-color: $color-theme;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/base/base-progress-bar.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"progressBar\",staticClass:\"progress-bar\",on:{\"click\":_vm.progressClick}},[_c('div',{staticClass:\"bar-inner\"},[_c('div',{ref:\"progress\",staticClass:\"progress\"}),_vm._v(\" \"),_c('div',{ref:\"progressBtn\",staticClass:\"progress-btn-wrapper\",on:{\"touchstart\":function($event){$event.preventDefault();return _vm.progressTouchStart($event)},\"touchmove\":function($event){$event.preventDefault();return _vm.progressTouchMove($event)},\"touchend\":_vm.progressTouchEnd}},[_c('div',{staticClass:\"progress-btn\"})])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-d90d7b66\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/base/base-progress-bar.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-d90d7b66\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./base-progress-bar.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./base-progress-bar.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./base-progress-bar.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-d90d7b66\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./base-progress-bar.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-d90d7b66\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/base/base-progress-bar.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"progress-circle\">\r\n    <svg :width=\"radius\" :height=\"radius\" viewBox=\"0 0 100 100\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\">\r\n      <circle class=\"progress-background\" r=\"50\" cx=\"50\" cy=\"50\" fill=\"transparent\"/><!-- 底层圆 -->\r\n      <circle class=\"progress-bar\" r=\"46\" cx=\"50\" cy=\"50\" fill=\"transparent\" :stroke-dasharray=\"dashArray\" :stroke-dashoffset=\"dashoffset\"/><!-- 上层圆，1 - dashoffset 定义显示的部分 -->\r\n    </svg>\r\n    <slot></slot>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    radius: {\r\n      type: Number,\r\n      default: 100\r\n    },\r\n\r\n    percent: {\r\n      type: Number,\r\n      default: 0\r\n    }\r\n  },\r\n\r\n  data () {\r\n    return {\r\n      dashArray: Math.PI * 100\r\n    }\r\n  },\r\n\r\n  computed: {\r\n    dashoffset () {\r\n      return this.dashArray * (1 - this.percent)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '~scss/variables';\r\n\r\n.progress-circle {\r\n  position: relative;\r\n  circle {\r\n    stroke-width: 8px; // 描边宽度\r\n    transform-origin: center;\r\n    &.progress-background {\r\n      transform: scale(0.9);\r\n      stroke: $color-theme-d;\r\n    }\r\n    &.progress-bar {\r\n      transform: scale(0.9) rotate(-90deg);\r\n      stroke: $color-theme;\r\n    }\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/base/base-progress-circle.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"progress-circle\"},[_c('svg',{attrs:{\"width\":_vm.radius,\"height\":_vm.radius,\"viewBox\":\"0 0 100 100\",\"version\":\"1.1\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('circle',{staticClass:\"progress-background\",attrs:{\"r\":\"50\",\"cx\":\"50\",\"cy\":\"50\",\"fill\":\"transparent\"}}),_vm._v(\" \"),_c('circle',{staticClass:\"progress-bar\",attrs:{\"r\":\"46\",\"cx\":\"50\",\"cy\":\"50\",\"fill\":\"transparent\",\"stroke-dasharray\":_vm.dashArray,\"stroke-dashoffset\":_vm.dashoffset}})]),_vm._v(\" \"),_vm._t(\"default\")],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-f447e776\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/base/base-progress-circle.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-f447e776\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./base-progress-circle.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./base-progress-circle.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./base-progress-circle.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-f447e776\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./base-progress-circle.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-f447e776\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/base/base-progress-circle.vue\n// module id = null\n// module chunks = ","<template>\r\n  <transition name=\"drop\">\r\n    <div class=\"top-tip\" v-show=\"showFlag\" @click.stop=\"hideTopTip\">\r\n      <slot></slot>\r\n    </div>\r\n  </transition>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    hideDelay: {\r\n      type: Number,\r\n      default: 2000\r\n    }\r\n  },\r\n\r\n  data () {\r\n    return {\r\n      showFlag: false\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    showTopTip () {\r\n      this.showFlag = true\r\n\r\n      clearTimeout(this.timer)\r\n      this.timer = setTimeout(() => {\r\n        this.hideTopTip()\r\n      }, this.hideDelay)\r\n    },\r\n\r\n    hideTopTip () {\r\n      this.showFlag = false\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '~scss/variables';\r\n\r\n.top-tip {\r\n  position: fixed;\r\n  top: 0;\r\n  width: 100%;\r\n  z-index: 500;\r\n  background-color: $color-dialog-background;\r\n  &.drop-enter, &.drop-leave-to {\r\n    transform: translateY(-100%);\r\n  }\r\n  &.drop-enter-active, &.drop-leave-active {\r\n    transition: all .3s;\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/base/base-top-tip/base-top-tip.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"drop\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showFlag),expression:\"showFlag\"}],staticClass:\"top-tip\",on:{\"click\":function($event){$event.stopPropagation();return _vm.hideTopTip($event)}}},[_vm._t(\"default\")],2)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-20331496\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/base/base-top-tip/base-top-tip.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-20331496\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./base-top-tip.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./base-top-tip.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./base-top-tip.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-20331496\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./base-top-tip.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-20331496\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/base/base-top-tip/base-top-tip.vue\n// module id = null\n// module chunks = ","<template>\r\n  <transition name=\"slide\">\r\n    <div class=\"add-to-list\" v-show=\"hasShowComponent\">\r\n\r\n      <div class=\"header\">\r\n        <h1 class=\"title\">添加歌曲到列表</h1>\r\n        <div class=\"close-btn\" @click=\"hideComponent\">\r\n          <i class=\"icon-close\"></i>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"search-box-wrapper\">\r\n        <BaseSearchBox\r\n          ref=\"searchBox\" placeholder=\"搜索歌曲\"\r\n          @queryChange=\"getQueryKey\"\r\n        />\r\n      </div>\r\n\r\n      <div class=\"shortcut\" v-show=\"!queryKey\">\r\n        <BaseSwitches\r\n          :switchOptions=\"switchOptions\"\r\n          :currentSwitchIndex=\"switchIndex\"\r\n          @selectSwitch=\"toggleSwitchIndex\"\r\n        />\r\n\r\n        <div class=\"list-wrapper\">\r\n          <!-- 最近播放 -->\r\n          <BaseScroll\r\n            class=\"scroll-wrapper\"\r\n            ref=\"scrollPlayedList\"\r\n            v-if=\"switchIndex === 0\"\r\n            :data=\"playedHistory\"\r\n          >\r\n            <div class=\"currentPlay-list\">\r\n              <BaseSongsList :songsData=\"playedHistory\" @select=\"selectedSong\"/>\r\n            </div>\r\n          </BaseScroll>\r\n          <!-- 搜索历史 -->\r\n          <BaseScroll\r\n            class=\"scroll-wrapper\"\r\n            ref=\"scrollSearchList\"\r\n            v-if=\"switchIndex === 1\"\r\n            :data=\"searchHistory\"\r\n            :refreshDelay=\"refreshScrollDelay\"\r\n          >\r\n          <!-- better-scroll 组件封装，其子元素不能直接是另一个组件，子组件必须有一个包裹，否则无法正确挂载 -->\r\n            <div class=\"result-wrapper\">\r\n              <BaseSearchList\r\n                :searchData=\"searchHistory\"\r\n                @selectItem=\"selectQueryRecord\"\r\n                @deleteItem=\"deleteSearchHistory\"\r\n              />\r\n            </div>\r\n          </BaseScroll>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"search-result-wrapper\" v-show=\"queryKey\">\r\n        <PartsResult\r\n          :query=\"queryKey\"\r\n          :showArtist=\"false\"\r\n          @selectQuery=\"saveSearch\"\r\n          @listScrolling=\"blurInputBox\"\r\n        />\r\n      </div>\r\n\r\n      <BaseTopTip ref=\"topTip\" :hideDelay=\"topTipDelay\">\r\n        <div class=\"tip-title\">\r\n          <i class=\"icon-ok\"></i>\r\n          <span class=\"text\">一首歌曲已经添加到列表</span>\r\n        </div>\r\n      </BaseTopTip>\r\n\r\n    </div>\r\n  </transition>\r\n</template>\r\n\r\n<script>\r\nimport BaseSearchBox from 'base/base-search-box'\r\nimport BaseScroll from 'base/base-scroll'\r\nimport BaseSearchList from 'base/base-search-list'\r\nimport BaseSwitches from 'base/base-switches/base-switches'\r\nimport BaseSongsList from 'base/base-songs-list/base-songs-list'\r\nimport BaseTopTip from 'base/base-top-tip/base-top-tip'\r\nimport PartsResult from 'components/parts-search-result/parts-search-result'\r\nimport { mapGetters, mapActions } from 'vuex'\r\nimport { searchMixin } from 'common/js/mixin'\r\nimport Song from 'common/js/normalize-song'\r\n\r\nexport default {\r\n  mixins: [searchMixin],\r\n\r\n  data () {\r\n    return {\r\n      hasShowComponent: false,\r\n      switchOptions: [{ name: '最近播放' }, { name: '搜索历史' }],\r\n      switchIndex: 0,\r\n      topTipDelay: 2000\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    showTopTip () {\r\n      this.$refs.topTip.showTopTip()\r\n    },\r\n\r\n    selectedSong (song, index) {\r\n      // song 来自 localeStorage ,转换为 Song 的实例，这样才会具有 lyric 方法\r\n      if (index) {\r\n        this.insertSong(new Song(song))\r\n        this.showTopTip()\r\n      }\r\n    },\r\n\r\n    saveSearch () {\r\n      this.saveSearchItem()\r\n      this.showTopTip()\r\n    },\r\n\r\n    toggleSwitchIndex (index) {\r\n      this.switchIndex = index\r\n    },\r\n\r\n    showComponent () {\r\n      this.hasShowComponent = true\r\n      setTimeout(() => { // this.$nextTick 的一种实现\r\n        if (this.switchIndex === 0) {\r\n          this.$refs.scrollPlayedList.refresh()\r\n        } else {\r\n          this.$refs.scrollSearchList.refresh()\r\n        }\r\n      }, 20)\r\n    },\r\n\r\n    hideComponent () {\r\n      this.hasShowComponent = false\r\n    },\r\n\r\n    ...mapActions([\r\n      'insertSong'\r\n    ])\r\n  },\r\n\r\n  computed: {\r\n    ...mapGetters([\r\n      'playedHistory'\r\n    ])\r\n  },\r\n\r\n  components: {\r\n    BaseSearchBox,\r\n    BaseScroll,\r\n    BaseSearchList,\r\n    BaseSwitches,\r\n    BaseSongsList,\r\n    BaseTopTip,\r\n    PartsResult\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '~scss/variables';\r\n@import '~scss/mixin';\r\n\r\n.add-to-list {\r\n  position: fixed;\r\n  top: 0;\r\n  bottom: 0;\r\n  width: 100%;\r\n  background-color: $color-background;\r\n  z-index: 200;\r\n  &.slide-enter, &.slide-leave-to {\r\n    transform: translateX(100%)\r\n  }\r\n  &.slide-enter-active, &.slide-leave-active {\r\n    transition: all .3s;\r\n  }\r\n  .header {\r\n    position: relative;\r\n    height: 44px;\r\n    text-align: center;\r\n    .title {\r\n      line-height: 44px;\r\n      font-size: $font-size-large;\r\n      color: $color-text;\r\n    }\r\n    .close-btn {\r\n      position: absolute;\r\n      top: 0;\r\n      right: 8px;\r\n      .icon-close {\r\n        display: block;\r\n        padding: 12px;\r\n        font-size: 20px;\r\n        color: $color-theme;\r\n      }\r\n    }\r\n  }\r\n  .list-wrapper {\r\n    position: absolute;\r\n    top: 165px;\r\n    bottom: 0;\r\n    width: 100%;\r\n    .scroll-wrapper {\r\n      height: 100%;\r\n      overflow: hidden;\r\n      .search-list {\r\n        padding: 20px 30px;\r\n      }\r\n    }\r\n  }\r\n  .search-box-wrapper {\r\n    margin: 20px;\r\n  }\r\n  .search-result-wrapper {\r\n    position: fixed;\r\n    top: 124px;\r\n    bottom: 0;\r\n    width: 100%;\r\n  }\r\n  .tip-title {\r\n    text-align: center;\r\n    padding: 18px 0;\r\n    .icon-ok {\r\n      font-size: $font-size-medium;\r\n      color: $color-theme;\r\n      margin-right: 4px;\r\n    }\r\n    .text {\r\n      font-size: $font-size-medium;\r\n      color: $color-text;\r\n    }\r\n  }\r\n}\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/parts-add-to-list/parts-add-to-list.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"slide\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.hasShowComponent),expression:\"hasShowComponent\"}],staticClass:\"add-to-list\"},[_c('div',{staticClass:\"header\"},[_c('h1',{staticClass:\"title\"},[_vm._v(\"添加歌曲到列表\")]),_vm._v(\" \"),_c('div',{staticClass:\"close-btn\",on:{\"click\":_vm.hideComponent}},[_c('i',{staticClass:\"icon-close\"})])]),_vm._v(\" \"),_c('div',{staticClass:\"search-box-wrapper\"},[_c('BaseSearchBox',{ref:\"searchBox\",attrs:{\"placeholder\":\"搜索歌曲\"},on:{\"queryChange\":_vm.getQueryKey}})],1),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.queryKey),expression:\"!queryKey\"}],staticClass:\"shortcut\"},[_c('BaseSwitches',{attrs:{\"switchOptions\":_vm.switchOptions,\"currentSwitchIndex\":_vm.switchIndex},on:{\"selectSwitch\":_vm.toggleSwitchIndex}}),_vm._v(\" \"),_c('div',{staticClass:\"list-wrapper\"},[(_vm.switchIndex === 0)?_c('BaseScroll',{ref:\"scrollPlayedList\",staticClass:\"scroll-wrapper\",attrs:{\"data\":_vm.playedHistory}},[_c('div',{staticClass:\"currentPlay-list\"},[_c('BaseSongsList',{attrs:{\"songsData\":_vm.playedHistory},on:{\"select\":_vm.selectedSong}})],1)]):_vm._e(),_vm._v(\" \"),(_vm.switchIndex === 1)?_c('BaseScroll',{ref:\"scrollSearchList\",staticClass:\"scroll-wrapper\",attrs:{\"data\":_vm.searchHistory,\"refreshDelay\":_vm.refreshScrollDelay}},[_c('div',{staticClass:\"result-wrapper\"},[_c('BaseSearchList',{attrs:{\"searchData\":_vm.searchHistory},on:{\"selectItem\":_vm.selectQueryRecord,\"deleteItem\":_vm.deleteSearchHistory}})],1)]):_vm._e()],1)],1),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.queryKey),expression:\"queryKey\"}],staticClass:\"search-result-wrapper\"},[_c('PartsResult',{attrs:{\"query\":_vm.queryKey,\"showArtist\":false},on:{\"selectQuery\":_vm.saveSearch,\"listScrolling\":_vm.blurInputBox}})],1),_vm._v(\" \"),_c('BaseTopTip',{ref:\"topTip\",attrs:{\"hideDelay\":_vm.topTipDelay}},[_c('div',{staticClass:\"tip-title\"},[_c('i',{staticClass:\"icon-ok\"}),_vm._v(\" \"),_c('span',{staticClass:\"text\"},[_vm._v(\"一首歌曲已经添加到列表\")])])])],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-95cccd42\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/parts-add-to-list/parts-add-to-list.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-95cccd42\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./parts-add-to-list.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./parts-add-to-list.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./parts-add-to-list.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-95cccd42\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./parts-add-to-list.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-95cccd42\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/parts-add-to-list/parts-add-to-list.vue\n// module id = null\n// module chunks = ","<template>\r\n  <transition name=\"list-fade\">\r\n    <div class=\"playlist\" v-show=\"hasShowPlaylist\" @click.self=\"closePlaylist\">\r\n      <div class=\"list-wrapper\">\r\n\r\n        <div class=\"list-header\">\r\n          <h1 class=\"title\">\r\n            <i :class=\"['icon', iconMode]\" @click=\"togglePlayMode\"></i>\r\n            <span class=\"text\">{{ playModeText }}</span>\r\n            <span class=\"clean-playlist\" @click=\"showConfirm\">\r\n              <i class=\"icon-clear\"></i>\r\n            </span>\r\n          </h1>\r\n        </div>\r\n\r\n        <BaseScroll\r\n          ref=\"contentScroll\"\r\n          class=\"list-content\"\r\n          :data=\"sequenceList\"\r\n          :refreshDelay=\"refreshScrollDelay\"\r\n        >\r\n          <transition-group name=\"list\" tag=\"ul\">\r\n            <!-- li 的 key 值必须是绑定 song.id，若绑定 index 则动画始终出现在列表末端 -->\r\n            <li\r\n              ref=\"playlistItem\"\r\n              class=\"content-item\"\r\n              v-for=\"(song, index) of sequenceList\"\r\n              :key=\"song.id\"\r\n              @click=\"selectSong(song, index)\"\r\n            >\r\n              <i :class=\"['current', getCurrentIcon(song)]\"></i>\r\n              <span class=\"item-text\">{{ song.name }}</span>\r\n              <span class=\"like-btn\" @click.stop=\"toggleIsFavorite(song)\">\r\n                <i :class=\"getFavoriteIcon(song)\"></i>\r\n              </span>\r\n              <span class=\"delete-btn\" @click.stop=\"deleteSong(song, index)\">\r\n                <i class=\"icon-close\"></i>\r\n              </span>\r\n            </li>\r\n          </transition-group>\r\n        </BaseScroll>\r\n\r\n        <div class=\"list-operate\">\r\n          <div class=\"add-song\"  @click=\"showAddToList\">\r\n            <i class=\"icon-add\"></i>\r\n            <span class=\"text\">添加歌曲到队列</span>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"list-close\" @click=\"closePlaylist\">\r\n          <span>关闭</span>\r\n        </div>\r\n\r\n        <BaseConfirm\r\n          ref=\"confirm\"\r\n          title=\"是否清空播放列表\"\r\n          confirmBtnText=\"清空\"\r\n          @confirmSubmit=\"deleteAllSongs\"\r\n        />\r\n\r\n      </div>\r\n\r\n      <PartsAddToList ref=\"addToList\"/>\r\n    </div>\r\n  </transition>\r\n</template>\r\n\r\n<script>\r\nimport BaseScroll from 'base/base-scroll'\r\nimport BaseConfirm from 'base/base-confirm'\r\nimport PartsAddToList from 'components/parts-add-to-list/parts-add-to-list'\r\nimport { mapActions } from 'vuex'\r\nimport { playMode } from 'common/js/config'\r\nimport { playerMixin } from 'common/js/mixin'\r\n\r\nexport default {\r\n  mixins: [playerMixin],\r\n  data () {\r\n    return {\r\n      hasShowPlaylist: false,\r\n      refreshScrollDelay: 100 // 值大于等于 transition-group 动画的值\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    showAddToList () {\r\n      this.$refs.addToList.showComponent()\r\n    },\r\n\r\n    deleteAllSongs () {\r\n      this.deleteAllSongsFromList()\r\n      this.closePlaylist()\r\n    },\r\n\r\n    deleteSong (song, index) {\r\n      // 传入的 Index 即是展示性列表 sequenceList 中的 Index\r\n      this.deleteSongFromList({song, index})\r\n\r\n      if (!this.playlist.length) {\r\n        this.closePlaylist()\r\n      }\r\n    },\r\n\r\n    scrollToCurrentSong (current) {\r\n      const index = this.sequenceList.findIndex((song) => {\r\n        return song.id === current.id\r\n      })\r\n      this.$refs.contentScroll.scrollToElement(this.$refs.playlistItem[index], 300)\r\n    },\r\n\r\n    getCurrentIcon (item) {\r\n      if (this.currentSong.id === item.id) {\r\n        return 'icon-play'\r\n      } else {\r\n        return ''\r\n      }\r\n    },\r\n\r\n    selectSong (song, index) {\r\n      // 传入的 Index 即是展示性列表 sequenceList 中的 Index\r\n      if (this.mode === playMode.random) {\r\n        index = this.playlist.findIndex(item => {\r\n          return song.id === item.id\r\n        })\r\n      }\r\n      this.setCurrentIndex(index)\r\n      this.setPlayingState(true)\r\n    },\r\n\r\n    showConfirm () {\r\n      this.$refs.confirm.showConfirm()\r\n    },\r\n\r\n    showPlaylist () {\r\n      this.hasShowPlaylist = true\r\n      // 只有在 display 非 none 值之后才是正确的计算元素高度的时机\r\n      setTimeout(() => { // this.$nextTick\r\n        this.$refs.contentScroll.refresh()\r\n        this.scrollToCurrentSong(this.currentSong)\r\n      }, 20)\r\n    },\r\n\r\n    closePlaylist () {\r\n      this.hasShowPlaylist = false\r\n    },\r\n\r\n    ...mapActions([\r\n      'deleteSongFromList',\r\n      'deleteAllSongsFromList'\r\n    ])\r\n  },\r\n\r\n  watch: {\r\n    currentSong (newSong, oldSong) {\r\n      if (!this.hasShowPlaylist || newSong.id === oldSong.id) {\r\n        return\r\n      }\r\n\r\n      this.scrollToCurrentSong(newSong)\r\n    }\r\n  },\r\n\r\n  computed: {\r\n    playModeText () {\r\n      return this.mode === playMode.sequence ? '列表循环' : this.mode === playMode.loop ? '单曲循环' : '随机播放'\r\n    }\r\n  },\r\n\r\n  components: {\r\n    BaseScroll,\r\n    BaseConfirm,\r\n    PartsAddToList\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '~scss/variables';\r\n@import '~scss/mixin';\r\n\r\n.playlist {\r\n  position: fixed;\r\n  top: 0;\r\n  bottom: 0;\r\n  width: 100%;\r\n  z-index: 200;\r\n  background-color: $color-background-d;\r\n  &.list-fade-enter, &.list-fade-leave-to {\r\n    opacity: 0;\r\n    .list-wrapper {\r\n      transform: translateY(100%);\r\n    }\r\n  }\r\n  &.list-fade-enter-active, &.list-fade-leave-active {\r\n    transition: opacity .3s;\r\n    .list-wrapper {\r\n      transition: all .3s\r\n    }\r\n  }\r\n  .list-wrapper {\r\n    position: absolute;\r\n    bottom: 0;\r\n    width: 100%;\r\n    background-color: $color-highlight-background;\r\n  }\r\n  .list-header {\r\n    position: relative;\r\n    padding: 20px 30px 10px 20px;\r\n    .title {\r\n      display: flex;\r\n      align-items: center;\r\n      .icon {\r\n        margin-right: 10px;\r\n        font-size: 30px;\r\n        color: $color-theme-d;\r\n      }\r\n      .text, .clean-playlist {\r\n        font-size: $font-size-medium;\r\n        color: $color-text-l;\r\n      }\r\n      .text {\r\n        flex: 1;\r\n      }\r\n      .clean-playlist {\r\n        @include extend-click();\r\n        position: relative;\r\n      }\r\n    }\r\n  }\r\n  .list-content {\r\n    padding: 0 30px 0 20px;\r\n    max-height: 240px;\r\n    overflow: hidden;\r\n    .content-item {\r\n      display: flex;\r\n      align-items: center;\r\n      height: 40px;\r\n      overflow: hidden;\r\n      &.list-enter, &.list-leave-to {\r\n        height: 0;\r\n      }\r\n      &.list-enter-active, &.list-leave-active {\r\n        transition: all 0.1s linear;\r\n      }\r\n      .current {\r\n        flex: 0 0 20px;\r\n        width: 20px;\r\n        font-size: $font-size-small;\r\n        color: $color-theme-d;\r\n      }\r\n      .item-text {\r\n        flex: 1;\r\n        @include ellipsis();\r\n        font-size: $font-size-medium;\r\n        color: $color-text-l;\r\n      }\r\n      .like-btn, .delete-btn {\r\n        position: relative;\r\n        font-size: $font-size-small;\r\n        color: $color-theme;\r\n        @include extend-click();\r\n      }\r\n      .like-btn {\r\n        margin-right: 15px;\r\n        .icon-like {\r\n          color: $color-sub-theme;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .list-operate {\r\n    width: 140px;\r\n    margin: 20px auto 30px;\r\n    .add-song {\r\n      display: flex;\r\n      align-items: center;\r\n      padding: 8px 16px;\r\n      border: 1px solid $color-text-l;\r\n      border-radius: 100px;\r\n      color: $color-text-l;\r\n      .icon-add {\r\n        margin-right: 5px;\r\n        font-size: $font-size-small-s;\r\n      }\r\n      .text {\r\n        font-size: $font-size-small;\r\n      }\r\n    }\r\n  }\r\n  .list-close {\r\n    height: 50px;\r\n    background-color: $color-background;\r\n    line-height: 50px;\r\n    text-align: center;\r\n    font-size: $font-size-medium-x;\r\n    color: $color-text-l;\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/parts-playlist/parts-playlist.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"list-fade\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.hasShowPlaylist),expression:\"hasShowPlaylist\"}],staticClass:\"playlist\",on:{\"click\":function($event){if($event.target !== $event.currentTarget){ return null; }return _vm.closePlaylist($event)}}},[_c('div',{staticClass:\"list-wrapper\"},[_c('div',{staticClass:\"list-header\"},[_c('h1',{staticClass:\"title\"},[_c('i',{class:['icon', _vm.iconMode],on:{\"click\":_vm.togglePlayMode}}),_vm._v(\" \"),_c('span',{staticClass:\"text\"},[_vm._v(_vm._s(_vm.playModeText))]),_vm._v(\" \"),_c('span',{staticClass:\"clean-playlist\",on:{\"click\":_vm.showConfirm}},[_c('i',{staticClass:\"icon-clear\"})])])]),_vm._v(\" \"),_c('BaseScroll',{ref:\"contentScroll\",staticClass:\"list-content\",attrs:{\"data\":_vm.sequenceList,\"refreshDelay\":_vm.refreshScrollDelay}},[_c('transition-group',{attrs:{\"name\":\"list\",\"tag\":\"ul\"}},_vm._l((_vm.sequenceList),function(song,index){return _c('li',{key:song.id,ref:\"playlistItem\",refInFor:true,staticClass:\"content-item\",on:{\"click\":function($event){_vm.selectSong(song, index)}}},[_c('i',{class:['current', _vm.getCurrentIcon(song)]}),_vm._v(\" \"),_c('span',{staticClass:\"item-text\"},[_vm._v(_vm._s(song.name))]),_vm._v(\" \"),_c('span',{staticClass:\"like-btn\",on:{\"click\":function($event){$event.stopPropagation();_vm.toggleIsFavorite(song)}}},[_c('i',{class:_vm.getFavoriteIcon(song)})]),_vm._v(\" \"),_c('span',{staticClass:\"delete-btn\",on:{\"click\":function($event){$event.stopPropagation();_vm.deleteSong(song, index)}}},[_c('i',{staticClass:\"icon-close\"})])])}))],1),_vm._v(\" \"),_c('div',{staticClass:\"list-operate\"},[_c('div',{staticClass:\"add-song\",on:{\"click\":_vm.showAddToList}},[_c('i',{staticClass:\"icon-add\"}),_vm._v(\" \"),_c('span',{staticClass:\"text\"},[_vm._v(\"添加歌曲到队列\")])])]),_vm._v(\" \"),_c('div',{staticClass:\"list-close\",on:{\"click\":_vm.closePlaylist}},[_c('span',[_vm._v(\"关闭\")])]),_vm._v(\" \"),_c('BaseConfirm',{ref:\"confirm\",attrs:{\"title\":\"是否清空播放列表\",\"confirmBtnText\":\"清空\"},on:{\"confirmSubmit\":_vm.deleteAllSongs}})],1),_vm._v(\" \"),_c('PartsAddToList',{ref:\"addToList\"})],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-740f2738\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/parts-playlist/parts-playlist.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-740f2738\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./parts-playlist.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./parts-playlist.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./parts-playlist.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-740f2738\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./parts-playlist.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-740f2738\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/parts-playlist/parts-playlist.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"music-player\" v-show=\"playlist.length > 0\">\r\n    <!-- @leave=\"leave\" 是与我定义的样式无关，因为删除样式一样 leave-to 类名会卡住 -->\r\n    <transition\r\n      name=\"normal\"\r\n      @enter=\"enter\"\r\n      @after-enter=\"afterEnter\"\r\n      @after-leave=\"afterLeave\"\r\n      type=\"transition\"\r\n    ><!-- FIXME: @leave=\"leave\" 与 leave-active leave-to 冲突 -->\r\n      <div class=\"normal-player\" v-show=\"fullScreen\">\r\n        <div class=\"background\">\r\n          <img\r\n            :src=\"currentSong.image\"\r\n            width=\"100%\" height=\"100%\" alt=\"player-background\"\r\n          >\r\n        </div>\r\n        <!-- 头部组件 -->\r\n        <div class=\"parts-top\">\r\n          <div class=\"back-btn\" @click=\"closeFullScreen\">\r\n            <i class=\"icon-back\"></i>\r\n          </div>\r\n          <h2 class=\"top-title\" v-html=\"currentSong.name\"></h2>\r\n          <div class=\"top-subtitle\" v-html=\"currentSong.artist\"></div>\r\n        </div>\r\n\r\n        <!-- 中间旋转组件 -->\r\n        <div\r\n          class=\"parts-middle\"\r\n          @touchstart.prevent=\"middleTouchStart\"\r\n          @touchmove.prevent=\"middleTouchMove\"\r\n          @touchend.prevent=\"middleTouchEnd\"\r\n        >\r\n          <div class=\"middle-album\" ref=\"album\">\r\n            <div class=\"cd-wrapper\" ref=\"cdWrapper\">\r\n              <div :class=\"['cd', rotateCD]\">\r\n                <img\r\n                  :src=\"currentSong.image\"\r\n                  class=\"cd-img\"\r\n                  width=\"100%\" height=\"100%\" alt=\"cd-img\"\r\n                >\r\n              </div>\r\n            </div>\r\n            <div class=\"playing-lyric-wrapper\">\r\n              <p class=\"playing-lyric\">{{ playingLyric }}</p>\r\n            </div>\r\n          </div>\r\n\r\n          <BaseScroll\r\n            class=\"middle-lyric\" ref=\"lyricList\"\r\n            :data=\"currentLyric && currentLyric.lines\"\r\n          >\r\n            <div class=\"lyric-wrapper\">\r\n              <div v-if=\"currentLyric\">\r\n                <p\r\n                  ref=\"lyricLine\"\r\n                  v-for=\"(item, index) of currentLyric.lines\"\r\n                  :class=\"['lyric-text', currentLineNum === index ? 'current' : '']\"\r\n                  :key=\"index\"\r\n                >{{ item.txt }}</p>\r\n              </div>\r\n            </div>\r\n          </BaseScroll>\r\n        </div>\r\n\r\n        <!-- 底部控制组件 -->\r\n        <div class=\"parts-bottom\">\r\n          <div class=\"dot-wrapper\">\r\n            <span :class=\"['dot', currentShow === 'cd' ? 'active' : '']\"></span>\r\n            <span :class=\"['dot', currentShow === 'lyric' ? 'active' : '']\"></span>\r\n          </div>\r\n          <!-- 进度条时间 -->\r\n          <div class=\"progress-wrapper\">\r\n            <span class=\"time time-l\">{{ currentTime | formatTime }}</span>\r\n            <div class=\"progress-bar-wrapper\">\r\n              <BaseProgressBar :currentPercent=\"playPercent\" @percentChange=\"onProgressChange\"/>\r\n            </div>\r\n            <span class=\"time time-r\">{{ currentSong.duration | formatTime }}</span>\r\n          </div>\r\n          <!-- 播放控件 -->\r\n          <div class=\"player-operators\">\r\n\r\n            <div class=\"icon icon-left\" @click=\"togglePlayMode\">\r\n              <i :class=\"iconMode\"></i>\r\n            </div>\r\n            <div :class=\"['icon', 'icon-left', disableBtn]\">\r\n              <i class=\"icon-prev\" @click=\"prevSong\"></i>\r\n            </div>\r\n\r\n            <div\r\n              :class=\"['icon', 'icon-center', disableBtn]\"\r\n              @click=\"togglePlaying\"\r\n            >\r\n              <i :class=\"[playing ? 'icon-pause' : 'icon-play']\"></i>\r\n            </div>\r\n\r\n            <div :class=\"['icon', 'icon-right', disableBtn]\">\r\n              <i class=\"icon-next\" @click=\"nextSong\"></i>\r\n            </div>\r\n            <div class=\"icon icon-right\">\r\n              <i :class=\"['icon', getFavoriteIcon(currentSong)]\" @click=\"toggleIsFavorite(currentSong)\"></i>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </transition>\r\n\r\n    <transition name=\"mini\">\r\n      <div class=\"mini-player\" v-show=\"!fullScreen\" @click=\"openFullScreen\">\r\n\r\n        <div class=\"mini-icon\">\r\n          <div :class=\"['img-wrapper', rotateCD]\"><!-- 用于按重心旋转 -->\r\n            <img\r\n              :src=\"currentSong.image\"\r\n              width=\"40\" height=\"40\" alt=\"mini-icon\"\r\n            >\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"mini-detail\">\r\n          <h2 class=\"detail-title\" v-html=\"currentSong.name\"></h2>\r\n          <div class=\"detail-artist\" v-html=\"currentSong.artist\"></div>\r\n        </div>\r\n\r\n        <div class=\"mini-control-btn\" @click.stop.prevent=\"togglePlaying\">\r\n          <BaseProgressCircle :radius=\"radius\" :percent=\"playPercent\">\r\n            <i :class=\"['icon-mini', playing ? 'icon-pause-mini' : 'icon-play-mini']\"></i>\r\n          </BaseProgressCircle>\r\n        </div>\r\n\r\n        <div class=\"mini-play-list\" @click.stop=\"showPlaylist\">\r\n          <i class=\"icon-playlist\"></i>\r\n        </div>\r\n      </div>\r\n    </transition>\r\n\r\n    <PartsPlaylist ref=\"playlist\"/>\r\n\r\n    <!-- w3c audio:canplay 事件在资源可播放时触发 -->\r\n    <audio\r\n      ref=\"audio\"\r\n      :src=\"currentSong.url\"\r\n      @play=\"audioPlay\"\r\n      @error=\"errorPlay\"\r\n      @timeupdate=\"timeUpdate\"\r\n      @ended=\"endPlay\"\r\n    ></audio>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport BaseScroll from 'base/base-scroll'\r\nimport BaseProgressBar from 'base/base-progress-bar'\r\nimport BaseProgressCircle from 'base/base-progress-circle'\r\nimport PartsPlaylist from 'components/parts-playlist/parts-playlist'\r\nimport { mapGetters, mapMutations, mapActions } from 'vuex'\r\nimport { prefixStyle } from 'common/js/control-dom'\r\nimport { playMode } from 'common/js/config'\r\nimport { playerMixin } from 'common/js/mixin'\r\nimport animations from 'create-keyframe-animation'\r\nimport LyricParser from 'lyric-parser'\r\n\r\nconst transform = prefixStyle('transform')\r\nconst transitionDuration = prefixStyle('transitionDuration')\r\n\r\nexport default {\r\n  mixins: [playerMixin],\r\n  data () {\r\n    return {\r\n      songReady: false, // 用于限制点击行为\r\n      currentTime: 0,\r\n      radius: 32,\r\n      currentLyric: null,\r\n      currentLineNum: 0,\r\n      currentShow: 'cd',\r\n      playingLyric: ''\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    /**\r\n     * 监听 play 事件是为防止 DOMException: The play() request was\r\n     * interrupted by a new load request (原因：play()方法执行应在资源加载完成之后)\r\n     */\r\n\r\n    // audio play 事件定义写入播放历史记录\r\n    audioPlay () {\r\n      this.songReady = true\r\n      this.savePlayedHistory(this.currentSong)\r\n    },\r\n\r\n    errorPlay () {\r\n      this.songReady = true // 保证在无法加载资源的情况下，其他按键的功能正常\r\n    },\r\n\r\n    togglePlaying () {\r\n      if (!this.songReady) { return }\r\n      this.setPlayingState(!this.playing)\r\n\r\n      if (this.currentLyric) {\r\n        this.currentLyric.togglePlay()\r\n      }\r\n    },\r\n\r\n    closeFullScreen () {\r\n      // 点击关闭按钮一定是关闭全屏，而不是 !this.fullScreen 切换状态\r\n      this.setFullScreen(false)\r\n    },\r\n\r\n    openFullScreen () {\r\n      this.setFullScreen(true)\r\n    },\r\n\r\n    showPlaylist () {\r\n      this.$refs.playlist.showPlaylist()\r\n    },\r\n\r\n    // 修复暂停时，点击下一曲或上一曲的错误显示\r\n    fixPlayingStatus () {\r\n      if (!this.playing) {\r\n        this.togglePlaying()\r\n      }\r\n    },\r\n\r\n    prevSong () {\r\n      if (!this.songReady) { return }\r\n\r\n      if (this.playlist.length === 1) {\r\n        this.loopPlay()\r\n        // 只有一首歌在播放列表中时，不设置 songReady，因为是设置 currentTime = 0 的原理来循环歌曲的，所以不会触发 play 事件\r\n        return\r\n      } else {\r\n        // 因为只能是 mutations 修改 state ，故不能写 this.currentIndex--\r\n        const index = this.currentIndex === 0 ? this.playlist.length - 1 : this.currentIndex - 1\r\n        this.setCurrentIndex(index)\r\n      }\r\n      this.fixPlayingStatus()\r\n      this.songReady = false // songReady 复位\r\n    },\r\n\r\n    nextSong () {\r\n      if (!this.songReady) { return }\r\n      // 原因同 prevSong, this.currentIndex++ 存在赋值行为\r\n\r\n      if (this.playlist.length === 1) {\r\n        this.loopPlay()\r\n        // 只有一首歌在播放列表中时，不设置 songReady，因为是设置 currentTime = 0 的原理来循环歌曲的，所以不会触发 play 事件\r\n        return\r\n      } else {\r\n        const index = this.currentIndex === this.playlist.length - 1 ? 0 : this.currentIndex + 1\r\n        this.setCurrentIndex(index)\r\n        this.fixPlayingStatus()\r\n      }\r\n      this.songReady = false // songReady 复位\r\n    },\r\n\r\n    timeUpdate (evt) {\r\n      this.currentTime = evt.target.currentTime\r\n    },\r\n\r\n    // 根据位移得到 percent ，传递出 percent 得到目标时间\r\n    // currentTime 是可读写的属性\r\n    onProgressChange (percent) {\r\n      const currentTime = this.currentSong.duration * percent\r\n      this.$refs.audio.currentTime = currentTime\r\n\r\n      if (!this.playing) {\r\n        this.togglePlaying()\r\n      }\r\n\r\n      if (this.currentLyric) {\r\n        this.currentLyric.seek(currentTime * 1000)\r\n      }\r\n    },\r\n\r\n    endPlay () {\r\n      if (this.mode === playMode.loop) {\r\n        this.loopPlay()\r\n        return\r\n      }\r\n\r\n      this.nextSong()\r\n    },\r\n\r\n    loopPlay () {\r\n      this.$refs.audio.currentTime = 0\r\n      this.$refs.audio.play()\r\n\r\n      if (this.currentLyric) {\r\n        this.currentLyric.seek(0)\r\n      }\r\n    },\r\n\r\n    getSongLyric () {\r\n      // getLyric 详见 common/js/normalize-song\r\n      this.currentSong.getLyric().then(lyric => {\r\n        if (this.currentSong.lyric !== lyric) return\r\n\r\n        this.currentLyric = new LyricParser(lyric, this.handleLyric)\r\n        if (this.playing) {\r\n          this.currentLyric.play() // play() 是 LyricParser 的实例方法\r\n        }\r\n      }).catch(() => {\r\n        this.currentLyric = null\r\n        this.playingLyric = ''\r\n        this.currentLineNum = 0\r\n      })\r\n    },\r\n\r\n    handleLyric ({ lineNum, txt }) {\r\n      this.currentLineNum = lineNum\r\n\r\n      if (lineNum > 5) {\r\n        let lineElement = this.$refs.lyricLine[lineNum - 5]\r\n        this.$refs.lyricList.scrollToElement(lineElement, 1000)\r\n      } else {\r\n        this.$refs.lyricList.scrollToElement(0, 0, 1000)\r\n      }\r\n\r\n      this.playingLyric = txt\r\n    },\r\n\r\n    // vue transition 动画 hook\r\n    enter (el, done) {\r\n      const { x, y, scale } = this._getPositionAndScale()\r\n\r\n      let animation = {\r\n        0: {\r\n          transform: `translate3d(${x}px, ${y}px, 0) scale(${scale})`\r\n        },\r\n        60: {\r\n          transform: `translate3d(0, 0, 0) scale(1.1)`\r\n        },\r\n        100: {\r\n          transform: `translate3d(0, 0, 0) scale(1)`\r\n        }\r\n      }\r\n\r\n      animations.registerAnimation({\r\n        name: 'move',\r\n        animation,\r\n        presets: {\r\n          duration: 400,\r\n          easing: 'linear'\r\n        }\r\n      })\r\n      // done 为 enter 钩子的回调函数，执行效果是调用下一阶段钩子，这里是 afterEnter\r\n      animations.runAnimation(this.$refs.cdWrapper, 'move', done)\r\n    },\r\n\r\n    afterEnter () {\r\n      animations.unregisterAnimation('move')\r\n      this.$refs.cdWrapper.style.animation = ''\r\n    },\r\n\r\n    leave (el, done) {\r\n      this.$refs.cdWrapper.style.transition = `all 0.4s`\r\n\r\n      const { x, y, scale } = this._getPositionAndScale()\r\n\r\n      // const transform = prefixStyle('transform')\r\n      this.$refs.cdWrapper.style[transform] = `translate3d(${x}, ${y}, 0) scale(${scale})`\r\n      this.$refs.cdWrapper.addEventListener('transitionend', done)\r\n      done()\r\n    },\r\n\r\n    afterLeave () {\r\n      this.$refs.cdWrapper.style.transition = ''\r\n      this.$refs.cdWrapper.style[transform] = ''\r\n    },\r\n\r\n    middleTouchStart (evt) {\r\n      this.touch.initiated = true\r\n      this.touch.startX = evt.touches[0].pageX\r\n      this.touch.startY = evt.touches[0].pageY\r\n    },\r\n\r\n    middleTouchMove (evt) {\r\n      if (!this.touch.initiated) return\r\n\r\n      const displaceX = evt.touches[0].pageX - this.touch.startX\r\n      const displaceY = evt.touches[0].pageY - this.touch.startY\r\n\r\n      // 排除纵向滚动\r\n      if (Math.abs(displaceY) > Math.abs(displaceX)) return\r\n\r\n      const left = this.currentShow === 'cd' ? 0 : -window.innerWidth\r\n      const offsetWidth = Math.min(0, Math.max(-window.innerWidth, left + displaceX))\r\n\r\n      this.touch.percent = Math.abs(offsetWidth / window.innerWidth)\r\n\r\n      this.$refs.album.style.opacity = `${1 - this.touch.percent}`\r\n      this.$refs.album.style[transitionDuration] = `0ms`\r\n\r\n      this.$refs.lyricList.$el.style[transform] = `translate(${offsetWidth}px)`\r\n      this.$refs.lyricList.$el.style[transitionDuration] = `0ms`\r\n    },\r\n\r\n    middleTouchEnd (evt) {\r\n      let offsetWidth = 0\r\n      let offsetOpacity = 0\r\n\r\n      if (this.currentShow === 'cd') {\r\n        if (this.touch.percent > 0.1) {\r\n          offsetWidth = -window.innerWidth\r\n          offsetOpacity = 0\r\n          this.currentShow = 'lyric'\r\n          this.touch.percent = 1 // touch 容器中的 percent 要处在正确的位置\r\n        } else {\r\n          offsetWidth = 0\r\n          offsetOpacity = 1\r\n        }\r\n      } else {\r\n        if (this.touch.percent < 0.9) {\r\n          offsetWidth = 0\r\n          offsetOpacity = 1\r\n          this.currentShow = 'cd'\r\n          this.touch.percent = 0 // touch 容器中的 percent 要处在正确的位置\r\n        } else {\r\n          offsetWidth = -window.innerWidth\r\n          offsetOpacity = 0\r\n        }\r\n      }\r\n\r\n      const durationTime = 300\r\n\r\n      this.$refs.lyricList.$el.style[transform] = `translateX(${offsetWidth}px)`\r\n      this.$refs.lyricList.$el.style[transitionDuration] = `${durationTime}ms`\r\n\r\n      this.$refs.album.style.opacity = `${offsetOpacity}`\r\n      this.$refs.album.style[transitionDuration] = `${durationTime}ms`\r\n\r\n      this.touch.initiated = false\r\n    },\r\n\r\n    _getPositionAndScale () {\r\n      const targetWidth = 40\r\n      const paddingLeft = 40\r\n      const paddingBottom = 30 // mini logo 距底边的距离\r\n      const paddingTop = 80 // .parts-top {top: 80px}\r\n      // window.innerWidth 视口（含滚动条）宽度\r\n      const width = window.innerWidth * 0.8\r\n      const scale = targetWidth / width\r\n      const x = -(window.innerWidth / 2 - paddingLeft)\r\n      const y = window.innerHeight - paddingTop - width / 2 - paddingBottom\r\n\r\n      return { x, y, scale }\r\n    },\r\n\r\n    ...mapMutations({\r\n      setFullScreen: 'SET_FULL_SCREEN'\r\n    }),\r\n\r\n    ...mapActions([\r\n      'savePlayedHistory'\r\n    ])\r\n  },\r\n\r\n  filters: {\r\n    formatTime (value) {\r\n      value = value | 0 // 等同于 Math.floor\r\n      const min = value / 60 | 0\r\n      // Number.prototype.toLocaleString() 格式化数字，结果为字符串\r\n      const sec = (value % 60).toLocaleString('zh', { minimumIntegerDigits: 2 })\r\n      return `${min}:${sec}`\r\n    }\r\n  },\r\n\r\n  watch: {\r\n    // nextTick 防止报错 DOMException: The play() request was interrupted by a new load request (原因：异步请求)\r\n    currentSong (newSong, oldSong) {\r\n      // 当列表清空时检验 !newSong.id\r\n      if (!newSong.id || newSong.id === oldSong.id) return // 防止暂停时切模式自动播放问题\r\n\r\n      if (this.currentLyric) {\r\n        this.currentLyric.stop() // 暂停之前 LyricParser 实例\r\n        console.info('%c Lyric timer has been clean', 'color: dodgerblue')\r\n        this.currentTime = 0\r\n        this.playingLyric = ''\r\n        this.currentLineNum = 0\r\n      }\r\n\r\n      clearTimeout(this.timer)\r\n      this.timer = setTimeout(() => {\r\n        this.$refs.audio.play()\r\n        this.getSongLyric()\r\n      }, 1000)\r\n    },\r\n\r\n    playing (newPlaying) {\r\n      const audio = this.$refs.audio\r\n      this.$nextTick(() => { // 同 currentSong（执行 DOM 方法时在数据更新之后）\r\n        newPlaying ? audio.play() : audio.pause()\r\n      })\r\n    }\r\n  },\r\n\r\n  computed: {\r\n    rotateCD () {\r\n      return this.playing ? 'play' : 'play pause'\r\n    },\r\n\r\n    disableBtn () {\r\n      return this.songReady ? '' : 'disable'\r\n    },\r\n\r\n    playPercent () {\r\n      return this.currentTime / this.currentSong.duration\r\n    },\r\n\r\n    ...mapGetters([\r\n      'fullScreen',\r\n      'playing',\r\n      'currentIndex'\r\n    ])\r\n  },\r\n\r\n  created () {\r\n    this.touch = {}\r\n  },\r\n\r\n  components: {\r\n    BaseProgressBar,\r\n    BaseProgressCircle,\r\n    BaseScroll,\r\n    PartsPlaylist\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '~scss/variables';\r\n@import '~scss/mixin';\r\n\r\n@keyframes rotate {\r\n  from {\r\n    transform: rotate(0);\r\n  }\r\n  to {\r\n    transform: rotate(360deg)\r\n  }\r\n}\r\n\r\n%rotate {\r\n  &.play {\r\n    animation: rotate 20s linear infinite;\r\n  }\r\n  &.pause {\r\n    animation-play-state: paused\r\n  }\r\n}\r\n\r\n.music-player {\r\n  font-size: 0;\r\n  .normal-player {\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    z-index: 150;\r\n    background-color: $color-background;\r\n    .background {\r\n      position: absolute;\r\n      top: 0;\r\n      left: 0;\r\n      width: 100%;\r\n      height: 100%;\r\n      z-index: -1;\r\n      filter: blur(20px);\r\n    }\r\n    .parts-top {\r\n      position: relative;\r\n      margin-bottom: 25px;\r\n      text-align: center;\r\n      .back-btn {\r\n        position: absolute;\r\n        top: 0;\r\n        left: 6px;\r\n        width: 40px;\r\n        height: 40px;\r\n        text-align: center;\r\n        .icon-back {\r\n          display: block;\r\n          transform: rotate(0.75turn); // 只能旋转块级元素\r\n          line-height: 40px;\r\n          color: $color-theme;\r\n          font-size: $font-size-large-x;\r\n        }\r\n      }\r\n      .top-title {\r\n        @include ellipsis();\r\n        font-size: $font-size-large;\r\n        color: $color-text;\r\n        line-height: 40px;\r\n      }\r\n      .top-subtitle {\r\n        line-height: 20px;\r\n        font-size: $font-size-medium;\r\n        color: $color-text;\r\n      }\r\n    }\r\n    .parts-middle {\r\n      position: absolute;\r\n      top: 80px;\r\n      bottom: 170px;\r\n      width: 100%;\r\n      // 使得 .middle-album 与 .middle-lyric 并排排列，即使空间不够\r\n      white-space: nowrap;\r\n      .middle-album {\r\n        display: inline-block;\r\n        position: relative;\r\n        vertical-align: top;\r\n        padding-top: 80%;\r\n        width: 100%;\r\n        height: 0;\r\n        .cd-wrapper {\r\n          position: absolute;\r\n          top: 0;\r\n          left: 10%;\r\n          height: 100%;\r\n          width: 80%;\r\n          .cd {\r\n            box-sizing: border-box;\r\n            width: 100%;\r\n            height: 100%;\r\n            border: 10px solid rgba(255, 255, 255, 0.1);\r\n            border-radius: 50%;\r\n            @extend %rotate;\r\n            .cd-img {\r\n              width: 100%;\r\n              height: 100%;\r\n              border-radius: 50%;\r\n            }\r\n          }\r\n        }\r\n        .playing-lyric-wrapper {\r\n          width: 80%;\r\n          margin: 30px auto 0 auto;\r\n          overflow: hidden;\r\n          text-align: center;\r\n          .playing-lyric {\r\n            height: 20px;\r\n            line-height: 20px;\r\n            font-size: $font-size-medium;\r\n            color: $color-text-ll;\r\n          }\r\n        }\r\n      }\r\n      .middle-lyric {\r\n        display: inline-block;\r\n        vertical-align: top;\r\n        width: 100%;\r\n        height: 100%;\r\n        overflow: hidden;\r\n        .lyric-wrapper {\r\n          width: 80%;\r\n          margin: 0 auto;\r\n          overflow: hidden;\r\n          text-align: center;\r\n          .lyric-text {\r\n            line-height: 32px;\r\n            color: $color-text-l;\r\n            font-size: $font-size-medium;\r\n            &.current {\r\n              color: $color-text;\r\n              font-size: $font-size-medium-x;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n    .parts-bottom {\r\n      position: absolute;\r\n      bottom: 50px;\r\n      width: 100%;\r\n      .dot-wrapper {\r\n        text-align: center;\r\n        .dot {\r\n          display: inline-block;\r\n          margin: 0 4px;\r\n          width: 8px;\r\n          height: 8px;\r\n          border-radius: 50%;\r\n          background-color: $color-text-l;\r\n          &.active {\r\n            width: 20px;\r\n            border-radius: 4px;\r\n            background-color: $color-text-ll;\r\n          }\r\n        }\r\n      }\r\n      .progress-wrapper {\r\n        display: flex;\r\n        margin: 0 auto;\r\n        width: 80%;\r\n        padding: 10px 0;\r\n        .time {\r\n          color: $color-text;\r\n          font-size: $font-size-small;\r\n          flex: 0 0 30px;\r\n          line-height: 30px;\r\n          width: 30px;\r\n        }\r\n        .time-r {\r\n          text-align: right;\r\n        }\r\n        .progress-bar-wrapper {\r\n          flex: 1;\r\n        }\r\n      }\r\n      .player-operators {\r\n        display: flex;\r\n        align-items: center;\r\n        color: $color-theme;\r\n        .icon {\r\n          flex: 1;\r\n          &.disable {\r\n            color: rgba(255, 205, 49, 0.5); // $color-theme-d;\r\n          }\r\n        }\r\n        .icon-left {\r\n          text-align: right;\r\n        }\r\n        .icon-center {\r\n          padding: 0 20px;\r\n          text-align: center;\r\n          i {\r\n            font-size: 40px;\r\n          }\r\n        }\r\n        .icon-right {\r\n          text-align: left;\r\n        }\r\n        .icon-like {\r\n          color: $color-sub-theme;\r\n        }\r\n        i {\r\n          font-size: 30px;\r\n        }\r\n      }\r\n    }\r\n    &.normal-enter-active, &.normal-leave-active {\r\n      transition: all .4s;\r\n      .parts-top, .parts-bottom {\r\n        transition: all .4s cubic-bezier(0.86, 0.18, 0.82, 1.32);\r\n      }\r\n    }\r\n    &.normal-enter, &.normal-leave-to {\r\n      opacity: 0;\r\n      .parts-top {\r\n        transform: translate3d(0, -100px, 0);\r\n      }\r\n      .parts-bottom {\r\n        transform: translate3d(0, 100px, 0);\r\n      }\r\n    }\r\n  }\r\n  .mini-player {\r\n    position: fixed;\r\n    bottom: 0;\r\n    display: flex;\r\n    align-items: center;\r\n    width: 100%;\r\n    height: 60px;\r\n    z-index: 180;\r\n    background-color: $color-highlight-background;\r\n    &.mini-enter-active, &.mini-leave-active {\r\n      transition: all .4s;\r\n    }\r\n    &.mini-enter, &.mini-leave-to {\r\n      opacity: 0;\r\n    }\r\n    .mini-icon {\r\n      flex: 0 0 40px;\r\n      width: 40px;\r\n      padding: 0 10px 0 20px;\r\n      .img-wrapper {\r\n        @extend %rotate;\r\n        img {\r\n          border-radius: 50%;\r\n        }\r\n      }\r\n    }\r\n    .mini-detail {\r\n      flex: 1;\r\n      display: flex;\r\n      flex-direction: column;\r\n      justify-content: center;\r\n      line-height: 20px;\r\n      overflow: hidden;\r\n      .detail-title {\r\n        margin-bottom: 2px;\r\n        @include ellipsis();\r\n        font-size: $font-size-medium;\r\n        color: $color-text;\r\n      }\r\n      .detail-artist {\r\n        @include ellipsis();\r\n        font-size: $font-size-small;\r\n        color: $color-text-d;\r\n      }\r\n    }\r\n    .mini-control-btn {\r\n      flex: 0 0 30px;\r\n      width: 30px;\r\n      padding: 0 10px;\r\n      .icon-mini {\r\n        position: absolute; // 相对于 base-progress-circle 中容器元素定位\r\n        top: 0;\r\n        left: 0;\r\n        font-size: 32px;\r\n        color: $color-theme-d;\r\n      }\r\n    }\r\n    .mini-play-list {\r\n      @extend .mini-control-btn;\r\n      .icon-playlist {\r\n        font-size: 30px;\r\n        color: $color-theme-d;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/app-player/app-player.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.playlist.length > 0),expression:\"playlist.length > 0\"}],staticClass:\"music-player\"},[_c('transition',{attrs:{\"name\":\"normal\",\"type\":\"transition\"},on:{\"enter\":_vm.enter,\"after-enter\":_vm.afterEnter,\"after-leave\":_vm.afterLeave}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.fullScreen),expression:\"fullScreen\"}],staticClass:\"normal-player\"},[_c('div',{staticClass:\"background\"},[_c('img',{attrs:{\"src\":_vm.currentSong.image,\"width\":\"100%\",\"height\":\"100%\",\"alt\":\"player-background\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"parts-top\"},[_c('div',{staticClass:\"back-btn\",on:{\"click\":_vm.closeFullScreen}},[_c('i',{staticClass:\"icon-back\"})]),_vm._v(\" \"),_c('h2',{staticClass:\"top-title\",domProps:{\"innerHTML\":_vm._s(_vm.currentSong.name)}}),_vm._v(\" \"),_c('div',{staticClass:\"top-subtitle\",domProps:{\"innerHTML\":_vm._s(_vm.currentSong.artist)}})]),_vm._v(\" \"),_c('div',{staticClass:\"parts-middle\",on:{\"touchstart\":function($event){$event.preventDefault();return _vm.middleTouchStart($event)},\"touchmove\":function($event){$event.preventDefault();return _vm.middleTouchMove($event)},\"touchend\":function($event){$event.preventDefault();return _vm.middleTouchEnd($event)}}},[_c('div',{ref:\"album\",staticClass:\"middle-album\"},[_c('div',{ref:\"cdWrapper\",staticClass:\"cd-wrapper\"},[_c('div',{class:['cd', _vm.rotateCD]},[_c('img',{staticClass:\"cd-img\",attrs:{\"src\":_vm.currentSong.image,\"width\":\"100%\",\"height\":\"100%\",\"alt\":\"cd-img\"}})])]),_vm._v(\" \"),_c('div',{staticClass:\"playing-lyric-wrapper\"},[_c('p',{staticClass:\"playing-lyric\"},[_vm._v(_vm._s(_vm.playingLyric))])])]),_vm._v(\" \"),_c('BaseScroll',{ref:\"lyricList\",staticClass:\"middle-lyric\",attrs:{\"data\":_vm.currentLyric && _vm.currentLyric.lines}},[_c('div',{staticClass:\"lyric-wrapper\"},[(_vm.currentLyric)?_c('div',_vm._l((_vm.currentLyric.lines),function(item,index){return _c('p',{key:index,ref:\"lyricLine\",refInFor:true,class:['lyric-text', _vm.currentLineNum === index ? 'current' : '']},[_vm._v(_vm._s(item.txt))])})):_vm._e()])])],1),_vm._v(\" \"),_c('div',{staticClass:\"parts-bottom\"},[_c('div',{staticClass:\"dot-wrapper\"},[_c('span',{class:['dot', _vm.currentShow === 'cd' ? 'active' : '']}),_vm._v(\" \"),_c('span',{class:['dot', _vm.currentShow === 'lyric' ? 'active' : '']})]),_vm._v(\" \"),_c('div',{staticClass:\"progress-wrapper\"},[_c('span',{staticClass:\"time time-l\"},[_vm._v(_vm._s(_vm._f(\"formatTime\")(_vm.currentTime)))]),_vm._v(\" \"),_c('div',{staticClass:\"progress-bar-wrapper\"},[_c('BaseProgressBar',{attrs:{\"currentPercent\":_vm.playPercent},on:{\"percentChange\":_vm.onProgressChange}})],1),_vm._v(\" \"),_c('span',{staticClass:\"time time-r\"},[_vm._v(_vm._s(_vm._f(\"formatTime\")(_vm.currentSong.duration)))])]),_vm._v(\" \"),_c('div',{staticClass:\"player-operators\"},[_c('div',{staticClass:\"icon icon-left\",on:{\"click\":_vm.togglePlayMode}},[_c('i',{class:_vm.iconMode})]),_vm._v(\" \"),_c('div',{class:['icon', 'icon-left', _vm.disableBtn]},[_c('i',{staticClass:\"icon-prev\",on:{\"click\":_vm.prevSong}})]),_vm._v(\" \"),_c('div',{class:['icon', 'icon-center', _vm.disableBtn],on:{\"click\":_vm.togglePlaying}},[_c('i',{class:[_vm.playing ? 'icon-pause' : 'icon-play']})]),_vm._v(\" \"),_c('div',{class:['icon', 'icon-right', _vm.disableBtn]},[_c('i',{staticClass:\"icon-next\",on:{\"click\":_vm.nextSong}})]),_vm._v(\" \"),_c('div',{staticClass:\"icon icon-right\"},[_c('i',{class:['icon', _vm.getFavoriteIcon(_vm.currentSong)],on:{\"click\":function($event){_vm.toggleIsFavorite(_vm.currentSong)}}})])])])])]),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"mini\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.fullScreen),expression:\"!fullScreen\"}],staticClass:\"mini-player\",on:{\"click\":_vm.openFullScreen}},[_c('div',{staticClass:\"mini-icon\"},[_c('div',{class:['img-wrapper', _vm.rotateCD]},[_c('img',{attrs:{\"src\":_vm.currentSong.image,\"width\":\"40\",\"height\":\"40\",\"alt\":\"mini-icon\"}})])]),_vm._v(\" \"),_c('div',{staticClass:\"mini-detail\"},[_c('h2',{staticClass:\"detail-title\",domProps:{\"innerHTML\":_vm._s(_vm.currentSong.name)}}),_vm._v(\" \"),_c('div',{staticClass:\"detail-artist\",domProps:{\"innerHTML\":_vm._s(_vm.currentSong.artist)}})]),_vm._v(\" \"),_c('div',{staticClass:\"mini-control-btn\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.togglePlaying($event)}}},[_c('BaseProgressCircle',{attrs:{\"radius\":_vm.radius,\"percent\":_vm.playPercent}},[_c('i',{class:['icon-mini', _vm.playing ? 'icon-pause-mini' : 'icon-play-mini']})])],1),_vm._v(\" \"),_c('div',{staticClass:\"mini-play-list\",on:{\"click\":function($event){$event.stopPropagation();return _vm.showPlaylist($event)}}},[_c('i',{staticClass:\"icon-playlist\"})])])]),_vm._v(\" \"),_c('PartsPlaylist',{ref:\"playlist\"}),_vm._v(\" \"),_c('audio',{ref:\"audio\",attrs:{\"src\":_vm.currentSong.url},on:{\"play\":_vm.audioPlay,\"error\":_vm.errorPlay,\"timeupdate\":_vm.timeUpdate,\"ended\":_vm.endPlay}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-dc34fdee\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/app-player/app-player.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-dc34fdee\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./app-player.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./app-player.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./app-player.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-dc34fdee\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./app-player.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-dc34fdee\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/app-player/app-player.vue\n// module id = null\n// module chunks = ","<template>\n  <div id=\"app\">\n    <app-header/>\n\n    <app-tab/>\n\n    <keep-alive>\n      <router-view/>\n    </keep-alive>\n\n    <AppPlayer/>\n  </div>\n</template>\n\n<script>\nimport AppHeader from 'components/app-header/app-header'\nimport AppTab from 'components/app-tab/app-tab'\nimport AppPlayer from 'components/app-player/app-player'\n\nexport default {\n  name: 'App',\n\n  components: {\n    AppHeader,\n    AppTab,\n    AppPlayer\n  }\n}\n</script>\n\n<style lang=\"scss\">\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('app-header'),_vm._v(\" \"),_c('app-tab'),_vm._v(\" \"),_c('keep-alive',[_c('router-view')],1),_vm._v(\" \"),_c('AppPlayer')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-a1d5e70e\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-a1d5e70e\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-a1d5e70e\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","import Vue from 'vue'\nimport Router from 'vue-router'\n// import Recommend from 'components/the-recommend/recommend'\n// import RecommendItem from 'components/parts-recom-item/parts-recom-item'\n// import Artist from 'components/the-artist/artist'\n// import ArtistItem from 'components/parts-artist-item/parts-artist-item'\n// import Ranking from 'components/the-ranking/ranking'\n// import RankingItem from 'components/parts-ranking-item/parts-ranking-item'\n// import Search from 'components/the-search/search'\n// import UserCenter from 'components/the-user-center/the-user-center'\n\nVue.use(Router)\n\n/**\n * 路由懒加载(原理：webpack 代码分割)\n * 1. https://doc.webpack-china.org/guides/code-splitting/#%E5%8A%A8%E6%80%81%E5%AF%BC%E5%85%A5-dynamic-imports-\n * 2. https://router.vuejs.org/zh-cn/advanced/lazy-loading.html\n */\n\nconst Recommend = (resolve) => {\n  import('components/the-recommend/recommend').then(module => {\n    resolve(module)\n  })\n}\n\nconst RecommendItem = (resolve) => {\n  import('components/parts-recom-item/parts-recom-item').then(module => {\n    resolve(module)\n  })\n}\n\nconst Artist = (resolve) => {\n  import('components/the-artist/artist').then(module => {\n    resolve(module)\n  })\n}\n\nconst ArtistItem = (resolve) => {\n  import('components/parts-artist-item/parts-artist-item').then(module => {\n    resolve(module)\n  })\n}\n\nconst Ranking = (resolve) => {\n  import('components/the-ranking/ranking').then(module => {\n    resolve(module)\n  })\n}\n\nconst RankingItem = (resolve) => {\n  import('components/parts-ranking-item/parts-ranking-item').then(module => {\n    resolve(module)\n  })\n}\n\nconst Search = (resolve) => {\n  import('components/the-search/search').then(module => {\n    resolve(module)\n  })\n}\n\nconst UserCenter = (resolve) => {\n  import('components/the-user-center/the-user-center').then(module => {\n    resolve(module)\n  })\n}\n\nexport default new Router({\n  routes: [\n    {\n      path: '/',\n      redirect: '/recommend'\n    },\n    {\n      path: '/recommend',\n      component: Recommend,\n      children: [\n        {\n          path: ':id',\n          component: RecommendItem\n        }\n      ]\n    },\n    {\n      path: '/artist',\n      component: Artist,\n      children: [\n        {\n          path: ':id',\n          component: ArtistItem\n        }\n      ]\n    },\n    {\n      path: '/ranking',\n      component: Ranking,\n      children: [\n        {\n          path: ':id',\n          component: RankingItem\n        }\n      ]\n    },\n    {\n      path: '/search',\n      component: Search,\n      children: [\n        {\n          path: ':id',\n          component: ArtistItem\n        }\n      ]\n    },\n    {\n      path: '/user',\n      component: UserCenter\n    }\n  ]\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","// localStorage 仓库\r\n\r\n/**\r\n * 弃用 localforage 原因：\r\n * 1. localforage 库是异步本地储存的，因异步读取机制。\r\n * 2. 除非将整个 state 对象包裹在异步函数中，否则 state 中依赖 localStorage 的值属性\r\n * 无法异步被赋值为 localStorage 的值，故弃用，转而使用 store.js 进行同步存储和读取数\r\n * 据\r\n * 3. 个人认为将 state 包裹在回调中，代码相对于同步取值来说不够简洁\r\n */\r\n\r\nimport localStorage from 'store/dist/store.modern'\r\n\r\nconst SEARCH_KEY = '__search__'\r\nconst HAS_PLAYED_KEY = '__has_played__'\r\nconst FAVORITE_SONGS_KEY = '__favorite_songs__'\r\n\r\nconst SEARCH_MAX_LENGTH = 15\r\nconst HAS_PLAYED_MAX_LENGTH = 200\r\nconst FAVORITE_SONGS_MAX_LENGTH = 200\r\n\r\n/**\r\n *  Save search record to localStorage\r\n */\r\n\r\n// 去重、插入数据\r\nfunction insertItem (arr, value, compare, maxLength) {\r\n  const index = arr.findIndex(compare)\r\n\r\n  if (index === 0) { // 若是第一个数据\r\n    return\r\n  }\r\n\r\n  if (index > 0) {\r\n    arr.splice(index, 1)\r\n  }\r\n\r\n  arr.unshift(value) // 将传入的 value 数据置于数组之首\r\n\r\n  if (maxLength && arr.length > maxLength) {\r\n    arr.pop() // 超过限定长度时，删除最后一项\r\n  }\r\n}\r\n\r\nfunction deleteItem (arr, compare) {\r\n  const index = arr.findIndex(compare)\r\n\r\n  if (index >= 0) {\r\n    arr.splice(index, 1)\r\n  }\r\n}\r\n\r\n// export function\r\n\r\nexport function saveSearchItem (query) {\r\n  let searches = localStorage.get(SEARCH_KEY) || []\r\n\r\n  insertItem(searches, query, item => {\r\n    return item === query\r\n  }, SEARCH_MAX_LENGTH)\r\n\r\n  localStorage.set(SEARCH_KEY, searches)\r\n  return searches\r\n}\r\n\r\nexport function loadSearchData () {\r\n  return localStorage.get(SEARCH_KEY) || []\r\n}\r\n\r\nexport function deleteSearchItem (query) {\r\n  let searches = localStorage.get(SEARCH_KEY)\r\n\r\n  deleteItem(searches, item => {\r\n    return item === query\r\n  })\r\n\r\n  localStorage.set(SEARCH_KEY, searches)\r\n\r\n  return searches\r\n}\r\n\r\nexport function deleteAllSearchItem () {\r\n  localStorage.remove(SEARCH_KEY)\r\n  return []\r\n}\r\n\r\n/**\r\n * 1. localforage 异步存储 search data\r\n * 2. localforage 库可指定存储驱动，默认优先级为 IndexedDB、WebSQL、localStorage\r\n */\r\n\r\n// import localforage from 'localforage'\r\n\r\n// localforage.setDriver(localforage.LOCALSTORAGE)\r\n\r\n// export async function saveSearch (query) {\r\n//   let searches = []\r\n\r\n//   await localforage.getItem(SEARCH_KEY).then(value => {\r\n//     searches = value || []\r\n//   })\r\n\r\n//   insertItem(searches, query, item => {\r\n//     return item === query\r\n//   }, SEARCH_MAX_LENGTH)\r\n\r\n//   await localforage.setItem(SEARCH_KEY, searches)\r\n\r\n//   return searches\r\n// }\r\n\r\n/**\r\n *  Save played song record to localStorage\r\n */\r\n\r\nexport function savePlayedSongs (query) {\r\n  let played = localStorage.get(HAS_PLAYED_KEY) || []\r\n\r\n  insertItem(played, query, item => {\r\n    return item.id === query.id\r\n  }, HAS_PLAYED_MAX_LENGTH)\r\n\r\n  localStorage.set(HAS_PLAYED_KEY, played)\r\n\r\n  return played\r\n}\r\n\r\nexport function loadPlayedSongs () {\r\n  return localStorage.get(HAS_PLAYED_KEY) || []\r\n}\r\n\r\n/**\r\n * Save my favorite songs to localStorage\r\n */\r\n\r\nexport function saveFavoriteSongs (song) {\r\n  let favorite = localStorage.get(FAVORITE_SONGS_KEY) || []\r\n\r\n  insertItem(favorite, song, item => {\r\n    return item.id === song.id\r\n  }, FAVORITE_SONGS_MAX_LENGTH)\r\n\r\n  localStorage.set(FAVORITE_SONGS_KEY, favorite)\r\n\r\n  return favorite\r\n}\r\n\r\nexport function deleteFavoriteSong (song) {\r\n  let favorite = localStorage.get(FAVORITE_SONGS_KEY)\r\n\r\n  deleteItem(favorite, item => {\r\n    return item.id === song.id\r\n  })\r\n\r\n  localStorage.set(FAVORITE_SONGS_KEY, favorite)\r\n\r\n  return favorite\r\n}\r\n\r\nexport function loadFavoriteSongs () {\r\n  return localStorage.get(FAVORITE_SONGS_KEY) || []\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/js/cache.js","import { playMode } from 'common/js/config'\r\nimport { loadSearchData, loadPlayedSongs, loadFavoriteSongs } from 'common/js/cache'\r\n\r\nconst state = { // 只保留最基础的数据，由基础数据可计算得到的数据放置到 getters 中\r\n  artist: {},\r\n  playing: false, // 播放/暂停\r\n  fullScreen: false, // 全屏\r\n  playlist: [], // 当前播放列表，其中的顺序即是播放顺序\r\n  sequenceList: [], // 展示性播放列表\r\n  mode: playMode.sequence, // 语义化值，而不是直接写属性值\r\n  currentIndex: -1, // 当前播放歌曲的索引，驱动歌曲的播放行为\r\n  recommendItem: [], // 用户点击的推荐歌单项\r\n  selectedTopList: [], // 用户点击的排行榜\r\n  searchHistory: loadSearchData(),\r\n  playedHistory: loadPlayedSongs(),\r\n  myFavoriteSongs: loadFavoriteSongs()\r\n}\r\n\r\nexport default state\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/state.js","export const artist = state => state.artist\r\n\r\nexport const playing = state => state.playing\r\n\r\nexport const fullScreen = state => state.fullScreen\r\n\r\nexport const playlist = state => state.playlist\r\n\r\nexport const sequenceList = state => state.sequenceList\r\n\r\nexport const mode = state => state.mode\r\n\r\nexport const currentIndex = state => state.currentIndex\r\n\r\nexport const currentSong = state => { // 经试验，修改 playlist 不会导致 currentSong 重新计算\r\n  return state.playlist[state.currentIndex] || {}\r\n}\r\n\r\nexport const recommendItem = state => state.recommendItem\r\n\r\nexport const selectedTopList = state => state.selectedTopList\r\n\r\nexport const searchHistory = state => state.searchHistory\r\n\r\nexport const playedHistory = state => state.playedHistory\r\n\r\nexport const myFavoriteSongs = state => state.myFavoriteSongs\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/getters.js","import * as types from './mutation-types'\r\n\r\nconst mutations = {\r\n  [types.SET_ARTIST] (state, artist) {\r\n    state.artist = artist\r\n  },\r\n\r\n  [types.SET_PLAYING_STATE] (state, playing) {\r\n    state.playing = playing\r\n  },\r\n\r\n  [types.SET_FULL_SCREEN] (state, fullScreen) {\r\n    state.fullScreen = fullScreen\r\n  },\r\n\r\n  [types.SET_PLAYLIST] (state, playlist) {\r\n    state.playlist = playlist\r\n  },\r\n\r\n  [types.SET_SEQUENCE_LIST] (state, sequenceList) {\r\n    state.sequenceList = sequenceList\r\n  },\r\n\r\n  [types.SET_PLAY_MODE] (state, mode) {\r\n    state.mode = mode\r\n  },\r\n\r\n  [types.SET_CURRENT_INDEX] (state, currentIndex) {\r\n    state.currentIndex = currentIndex\r\n  },\r\n\r\n  [types.SET_RECOMMEND_ITEM] (state, recommendItem) {\r\n    state.recommendItem = recommendItem\r\n  },\r\n\r\n  [types.SET_SELECTED_TOP_LIST] (state, selectedTopList) {\r\n    state.selectedTopList = selectedTopList\r\n  },\r\n\r\n  [types.SET_SEARCH_HISTORY] (state, searchHistory) {\r\n    state.searchHistory = searchHistory\r\n  },\r\n\r\n  [types.SET_PLAYED_HISTORY] (state, playedHistory) {\r\n    state.playedHistory = playedHistory\r\n  },\r\n\r\n  [types.SET_MY_FAVORITE_SONGS] (state, myFavoriteSongs) {\r\n    state.myFavoriteSongs = myFavoriteSongs\r\n  }\r\n}\r\n\r\nexport default mutations\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/mutations.js","// mutation 常量\r\nexport const SET_ARTIST = 'SET_ARTIST'\r\n\r\nexport const SET_PLAYING_STATE = 'SET_PLAYING_STATE'\r\n\r\nexport const SET_FULL_SCREEN = 'SET_FULL_SCREEN'\r\n\r\nexport const SET_PLAYLIST = 'SET_PLAYLIST'\r\n\r\nexport const SET_SEQUENCE_LIST = 'SET_SEQUENCE_LIST'\r\n\r\nexport const SET_PLAY_MODE = 'SET_PLAY_MODE'\r\n\r\nexport const SET_CURRENT_INDEX = 'SET_CURRENT_INDEX'\r\n\r\nexport const SET_RECOMMEND_ITEM = 'SET_RECOMMEND_ITEM'\r\n\r\nexport const SET_SELECTED_TOP_LIST = 'SET_SELECTED_TOP_LIST'\r\n\r\nexport const SET_SEARCH_HISTORY = 'SET_SEARCH_HISTORY'\r\n\r\nexport const SET_PLAYED_HISTORY = 'SET_PLAYED_HISTORY'\r\n\r\nexport const SET_MY_FAVORITE_SONGS = 'SET_MY_FAVORITE_SONGS'\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/mutation-types.js","// 异步操作或对 mutations 的封装（封装需要一次触发多个 mutations 的操作）\r\n\r\nimport * as types from './mutation-types'\r\nimport { playMode } from 'common/js/config'\r\nimport { shuffle } from 'common/js/util'\r\nimport { saveSearchItem, deleteSearchItem, deleteAllSearchItem, savePlayedSongs, saveFavoriteSongs, deleteFavoriteSong } from 'common/js/cache'\r\n\r\nfunction findIndex (list, song) {\r\n  return list.findIndex(item => {\r\n    return item.id === song.id\r\n  })\r\n}\r\n\r\n// 歌单（主页，歌手，排行榜）中点击歌曲播放整个歌单\r\n\r\nexport const selectedPlay = ({ commit, state }, { list, index }) => {\r\n  commit(types.SET_SEQUENCE_LIST, list)\r\n\r\n  if (state.mode === playMode.random) {\r\n    let randomList = shuffle(list)\r\n    commit(types.SET_PLAYLIST, randomList)\r\n    index = findIndex(randomList, list[index])\r\n  } else {\r\n    commit(types.SET_PLAYLIST, list)\r\n  }\r\n\r\n  commit(types.SET_CURRENT_INDEX, index)\r\n  commit(types.SET_FULL_SCREEN, true) // 默认点击歌曲后全屏播放\r\n  commit(types.SET_PLAYING_STATE, true)\r\n}\r\n\r\nexport const randomPlay = ({ commit }, { list }) => {\r\n  let randomList = shuffle(list)\r\n\r\n  commit(types.SET_PLAY_MODE, playMode.random)\r\n  commit(types.SET_SEQUENCE_LIST, list)\r\n  commit(types.SET_PLAYLIST, randomList)\r\n  commit(types.SET_CURRENT_INDEX, 0)\r\n  commit(types.SET_FULL_SCREEN, true)\r\n  commit(types.SET_PLAYING_STATE, true)\r\n}\r\n\r\n// 将单曲插入当前播放列表中\r\n\r\nexport const insertSong = ({ commit, state }, song) => {\r\n  /**\r\n   * 为了在之后使用 Array.prototype.splice() 方法，这里使用拓展运算符浅复制数组\r\n   * 原因：\r\n   * 1. 因为在 JavaScript 中操作对象的实质是操作对象指针，那么在不复制数组的情况下使\r\n   * 用数组 splice() 方法将会修改原数组。\r\n   * 2. 第一点的这个行为与在 vuex 中必须通过mutation 来修改 state 的原则相悖。继而报\r\n   * 错 Do not mutate vuex store state outside mutation handlers。\r\n   */\r\n\r\n  let playlist = [...state.playlist]\r\n  let sequenceList = [...state.sequenceList]\r\n  let currentIndex = state.currentIndex // 当前在 playlist 中的索引\r\n\r\n  // 记录当前歌曲\r\n  let currentSong = playlist[currentIndex]\r\n  // 判断当前歌曲是否已存在，若存在则返回索引\r\n  let fqIndex = findIndex(playlist, song)\r\n  // 因为是插入歌曲，所以索引 +1\r\n  currentIndex++\r\n  // 插入目标歌曲到当前索引位置\r\n  playlist.splice(currentIndex, 0, song)\r\n  // 查找结果是存在目标歌曲\r\n  if (fqIndex > -1) {\r\n    if (currentIndex > fqIndex) {\r\n      // 若当前插入索引大于列表中的索引，即在原索引之后\r\n      playlist.splice(fqIndex, 1)\r\n      currentIndex-- // 因为原单项已被删除，所以 -1\r\n    } else {\r\n      // 若当前插入索引不大于列表中的索引，即在原索引之前\r\n      playlist.splice(fqIndex + 1, 1)\r\n    }\r\n  }\r\n\r\n  let sequenceCurrentIndex = findIndex(sequenceList, currentSong) + 1\r\n\r\n  let fsIndex = findIndex(sequenceList, song)\r\n\r\n  sequenceList.splice(sequenceCurrentIndex, 0, song)\r\n\r\n  if (fsIndex > -1) {\r\n    if (sequenceCurrentIndex > fsIndex) {\r\n      sequenceList.splice(fsIndex, 1)\r\n    } else {\r\n      sequenceList.splice(fsIndex + 1, 1)\r\n    }\r\n  }\r\n\r\n  commit(types.SET_PLAYLIST, playlist)\r\n  commit(types.SET_SEQUENCE_LIST, sequenceList)\r\n  commit(types.SET_CURRENT_INDEX, currentIndex)\r\n  commit(types.SET_FULL_SCREEN, true)\r\n  commit(types.SET_PLAYING_STATE, true)\r\n}\r\n\r\n// 搜索记录\r\n\r\nexport const saveSearchHistory = function ({ commit }, query) {\r\n  commit(types.SET_SEARCH_HISTORY, saveSearchItem(query))\r\n}\r\n\r\nexport const deleteSearchHistory = function ({ commit }, query) {\r\n  commit(types.SET_SEARCH_HISTORY, deleteSearchItem(query))\r\n}\r\n\r\nexport const clearAllHistory = function ({ commit }) {\r\n  commit(types.SET_SEARCH_HISTORY, deleteAllSearchItem())\r\n}\r\n\r\n// 播放列表\r\n\r\nexport const deleteSongFromList = function ({ commit, state }, {song, index}) {\r\n  // 传入的 Index 即是展示性列表 sequenceList 中的 Index\r\n  let playlist = [...state.playlist]\r\n  let sequenceList = [...state.sequenceList]\r\n  let currentIndex = state.currentIndex\r\n\r\n  const indexInPlaylist = findIndex(playlist, song)\r\n  // const indexInSequenceList = findIndex(sequenceList, song) // 即为 index\r\n\r\n  playlist.splice(indexInPlaylist, 1)\r\n  sequenceList.splice(index, 1)\r\n\r\n  if (currentIndex > indexInPlaylist || currentIndex === playlist.length) {\r\n    currentIndex--\r\n  }\r\n\r\n  commit(types.SET_PLAYLIST, playlist)\r\n  commit(types.SET_SEQUENCE_LIST, sequenceList)\r\n  commit(types.SET_CURRENT_INDEX, currentIndex)\r\n\r\n  const playingState = playlist.length > 0\r\n\r\n  commit(types.SET_PLAYING_STATE, playingState)\r\n}\r\n\r\nexport const deleteAllSongsFromList = function ({ commit }) {\r\n  commit(types.SET_PLAYING_STATE, false)\r\n  commit(types.SET_PLAYLIST, [])\r\n  commit(types.SET_SEQUENCE_LIST, [])\r\n  commit(types.SET_CURRENT_INDEX, -1)\r\n}\r\n\r\n// 最近播放列表\r\n\r\nexport const savePlayedHistory = function ({ commit }, song) {\r\n  commit(types.SET_PLAYED_HISTORY, savePlayedSongs(song))\r\n}\r\n\r\n// 保存我喜欢的歌曲\r\n\r\nexport const saveMyFavoriteSong = function ({ commit }, song) {\r\n  commit(types.SET_MY_FAVORITE_SONGS, saveFavoriteSongs(song))\r\n}\r\n\r\nexport const deleteMyFavoriteSong = function ({ commit }, song) {\r\n  commit(types.SET_MY_FAVORITE_SONGS, deleteFavoriteSong(song))\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/actions.js","import Vue from 'vue'\r\nimport Vuex from 'vuex'\r\nimport state from './state'\r\nimport * as getters from './getters.js'\r\nimport mutations from './mutations'\r\nimport * as actions from './actions'\r\nimport createLogger from 'vuex/dist/logger' // 每次修改 state ，都会打印新旧 state\r\n\r\nVue.use(Vuex)\r\n\r\nconst debug = process.env.NODE_ENV !== 'production'\r\n\r\nexport default new Vuex.Store({\r\n  state,\r\n  getters,\r\n  mutations,\r\n  actions,\r\n  strict: debug, // 检测是否是 mutations 修改 state,非法修改将报错。因有性能损失，则不能在生产环境开启\r\n  plugins: debug ? [createLogger()] : []\r\n})\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/index.js","import 'babel-polyfill' // 必须写在第一位，babel-polyfill 不用引入源码\nimport 'common/js/hack-next-tick' // 必须在初始化 vue 之前，详情见文件\nimport Vue from 'vue'\nimport App from './App'\nimport router from './router'\nimport store from './store'\nimport fastclick from 'fastclick'\nimport VueLazyLoad from 'vue-lazyload'\n\nimport 'scss/index.scss'\n\nfastclick.attach(document.body)\n\nVue.use(VueLazyLoad, {\n  loading: require('@/common/image/default/default.png')\n})\n\nVue.config.productionTip = false\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  store,\n  render: h => h(App)\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","import { getLyric } from 'api/get-lyric'\r\nimport { ERR_OK } from 'api/config'\r\nimport { Base64 } from 'js-base64'\r\n\r\nexport default class Song {\r\n  constructor ({ id, mid, artist, name, album, duration, image, url }) {\r\n    this.id = id\r\n    this.mid = mid\r\n    this.artist = artist\r\n    this.name = name\r\n    this.album = album\r\n    this.duration = duration\r\n    this.image = image\r\n    this.url = url\r\n  }\r\n\r\n  getLyric () {\r\n    if (this.lyric) { // 存在 this.lyric 忽略请求\r\n      return Promise.resolve(this.lyric) // 保证返回的是一个 promise 对象\r\n    }\r\n\r\n    /**\r\n     * 因为需要对 this.lyric 进行数据处理，那么需要 getSongLyric() 返回一个 promise\r\n     * 对象。返回 promise 对象，而不直接返回值的原因是，需要对 retcode 不为 ERR_OK\r\n     * 的情况处理。\r\n     */\r\n\r\n    return new Promise((resolve, reject) => {\r\n      getLyric(this.mid).then(res => {\r\n        if (res.retcode === ERR_OK) {\r\n          this.lyric = Base64.decode(res.lyric)\r\n          resolve(this.lyric)\r\n        } else {\r\n          reject(new Error('No lyric'))\r\n        }\r\n      })\r\n    })\r\n  }\r\n}\r\n\r\nexport function createSong (musicData) {\r\n  return new Song({\r\n    id: musicData.songid,\r\n    mid: musicData.songmid,\r\n    artist: filterArtist(musicData.singer),\r\n    name: musicData.songname,\r\n    album: musicData.albumname,\r\n    duration: musicData.interval,\r\n    image: `https://y.gtimg.cn/music/photo_new/T002R300x300M000${musicData.albummid}.jpg?max_age=2592000`,\r\n    url: `http://isure.stream.qqmusic.qq.com/C100${musicData.songmid}.m4a?fromtag=32`\r\n  })\r\n}\r\n\r\nfunction filterArtist (artist) {\r\n  let ret = []\r\n  if (!artist) {\r\n    return ''\r\n  }\r\n  artist.forEach(item => {\r\n    ret.push(item.name)\r\n  })\r\n  return ret.join('/')\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/js/normalize-song.js","import { commonParams, LYRIC_URL } from './config'\r\nimport axios from 'axios'\r\n\r\nexport function getLyric (mid) {\r\n  const data = {\r\n    ...commonParams,\r\n    ...{\r\n      songmid: mid,\r\n      pcachetime: +new Date(),\r\n      platform: 'yqq',\r\n      hostUin: 0,\r\n      needNewCode: 0,\r\n      g_tk: 5381,\r\n      format: 'json'\r\n    }\r\n  }\r\n\r\n  return axios.get(LYRIC_URL, {\r\n    params: data\r\n  }).then(res => res.data)\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/get-lyric.js","import jsonp from 'common/js/jsonp'\r\nimport { HOTKEY_URL, SEARCH_URL, commonParams, options } from './config'\r\nimport axios from 'axios'\r\n\r\nexport function getHotKey () {\r\n  const data = {\r\n    ...commonParams,\r\n    uin: 0,\r\n    format: 'json',\r\n    platform: 'h5',\r\n    needNewCode: 1,\r\n    _: +new Date()\r\n  }\r\n\r\n  return jsonp(HOTKEY_URL, data, options)\r\n}\r\n\r\nexport function searchKey (key, page, zhida, perPage) {\r\n  const data = {\r\n    ...commonParams,\r\n    w: key,\r\n    p: page, // 第几页\r\n    catZhida: zhida ? 1 : 0, // 是否解锁显示歌手\r\n    perpage: perPage, // 每次返回的结果长度（每页结果数）\r\n    n: perPage,\r\n    uin: 0,\r\n    format: 'json',\r\n    platform: 'yqq',\r\n    needNewCode: 1,\r\n    zhidaqu: 1,\r\n    t: 0,\r\n    flag: 1,\r\n    ie: 'utf-8',\r\n    sem: 1,\r\n    aggr: 0,\r\n    remoteplace: 'txt.mqq.all',\r\n    _: +new Date()\r\n  }\r\n\r\n  // return jsonp(SEARCH_URL, data, options)\r\n  return axios.get(SEARCH_URL, {\r\n    params: data\r\n  }).then(res => res.data)\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/the-search.js","<template>\r\n  <transition name=\"confirm-fade\">\r\n    <div class=\"confirm\" v-show=\"showFlag\" @click.stop.self=\"chooseCancel\">\r\n      <div class=\"confirm-wrapper\">\r\n        <div class=\"confirm-content\">\r\n          <p class=\"text\">{{ title }}</p>\r\n          <div class=\"operate\">\r\n            <div class=\"operate-btn left\" @click=\"chooseCancel\">{{ cancelBtnText }}</div>\r\n            <div class=\"operate-btn\" @click=\"chooseSubmit\"> {{ confirmBtnText }}</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </transition>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    title: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n\r\n    confirmBtnText: {\r\n      type: String,\r\n      default: '确定'\r\n    },\r\n\r\n    cancelBtnText: {\r\n      type: String,\r\n      default: '取消'\r\n    }\r\n  },\r\n\r\n  data () {\r\n    return {\r\n      showFlag: false\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    chooseCancel () {\r\n      this.hideConfirm()\r\n      this.$emit('confirmCancel')\r\n    },\r\n\r\n    chooseSubmit () {\r\n      this.hideConfirm()\r\n      this.$emit('confirmSubmit')\r\n    },\r\n\r\n    showConfirm () {\r\n      this.showFlag = true\r\n    },\r\n\r\n    hideConfirm () {\r\n      this.showFlag = false\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '~scss/variables';\r\n\r\n@keyframes confirm-fade-in {\r\n  from {\r\n    opacity: 0;\r\n  }\r\n  to {\r\n    opacity: 1;\r\n  }\r\n}\r\n\r\n@keyframes confirm-zoom {\r\n  0% {\r\n    transform: scale(0)\r\n  }\r\n  50% {\r\n    transform: scale(1.1)\r\n  }\r\n  100% {\r\n    transform: scale(1)\r\n  }\r\n}\r\n\r\n.confirm {\r\n  position: fixed;\r\n  left: 0;\r\n  right: 0;\r\n  top: 0;\r\n  bottom: 0;\r\n  z-index: 998;\r\n  background-color: $color-background-d;\r\n  &.confirm-fade-enter-active {\r\n    animation: confirm-fade-in .3s;\r\n    .confirm-content {\r\n      animation: confirm-zoom .3s;\r\n    }\r\n  }\r\n  .confirm-wrapper {\r\n    position: absolute;\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%);\r\n    z-index: 999;\r\n    .confirm-content {\r\n      width: 270px;\r\n      border-radius: 13px;\r\n      background: $color-highlight-background;\r\n      .text {\r\n        padding: 19px 15px;\r\n        line-height: 22px;\r\n        text-align: center;\r\n        font-size: $font-size-large;\r\n        color: $color-text-l;\r\n      }\r\n      .operate {\r\n        display: flex;\r\n        align-items: center;\r\n        text-align: center;\r\n        font-size: $font-size-large;\r\n        .operate-btn {\r\n          flex: 1;\r\n          line-height: 22px;\r\n          padding: 10px 0;\r\n          border-top: 1px solid $color-background-d;\r\n          color: $color-text-d;\r\n          &.left {\r\n            border-right: 1px solid $color-background-d;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/base/base-confirm.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"confirm-fade\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showFlag),expression:\"showFlag\"}],staticClass:\"confirm\",on:{\"click\":function($event){$event.stopPropagation();if($event.target !== $event.currentTarget){ return null; }return _vm.chooseCancel($event)}}},[_c('div',{staticClass:\"confirm-wrapper\"},[_c('div',{staticClass:\"confirm-content\"},[_c('p',{staticClass:\"text\"},[_vm._v(_vm._s(_vm.title))]),_vm._v(\" \"),_c('div',{staticClass:\"operate\"},[_c('div',{staticClass:\"operate-btn left\",on:{\"click\":_vm.chooseCancel}},[_vm._v(_vm._s(_vm.cancelBtnText))]),_vm._v(\" \"),_c('div',{staticClass:\"operate-btn\",on:{\"click\":_vm.chooseSubmit}},[_vm._v(\" \"+_vm._s(_vm.confirmBtnText))])])])])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-bc34d5ec\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/base/base-confirm.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-bc34d5ec\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./base-confirm.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./base-confirm.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./base-confirm.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-bc34d5ec\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./base-confirm.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-bc34d5ec\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/base/base-confirm.vue\n// module id = null\n// module chunks = ","<template>\r\n  <ul class=\"switches\">\r\n    <li\r\n      :class=\"['switch-item', {active: currentSwitchIndex === index}]\"\r\n      v-for=\"(item, index) of switchOptions\" :key=\"index\"\r\n      @click=\"selectedSwitch(index)\"\r\n    >{{ item.name }}</li>\r\n  </ul>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    switchOptions: {\r\n      type: Array,\r\n      default () {\r\n        return []\r\n      }\r\n    },\r\n\r\n    currentSwitchIndex: {\r\n      type: Number,\r\n      default: 0\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    selectedSwitch (index) {\r\n      this.$emit('selectSwitch', index)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '~scss/variables';\r\n\r\n.switches {\r\n  display: flex;\r\n  align-items: center;\r\n  margin: 0 auto;\r\n  width: 240px;\r\n  border: 1px solid $color-highlight-background;\r\n  border-radius: 5px;\r\n  text-align: center;\r\n  .switch-item {\r\n    flex: 1;\r\n    padding: 8px;\r\n    font-size: $font-size-medium;\r\n    color: $color-text-d;\r\n    &.active {\r\n      background-color: $color-highlight-background;\r\n      color: $color-text;\r\n    }\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/base/base-switches/base-switches.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{staticClass:\"switches\"},_vm._l((_vm.switchOptions),function(item,index){return _c('li',{key:index,class:['switch-item', {active: _vm.currentSwitchIndex === index}],on:{\"click\":function($event){_vm.selectedSwitch(index)}}},[_vm._v(_vm._s(item.name))])}))}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-11e715bc\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/base/base-switches/base-switches.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-11e715bc\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./base-switches.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./base-switches.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./base-switches.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-11e715bc\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./base-switches.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-11e715bc\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/base/base-switches/base-switches.vue\n// module id = null\n// module chunks = ","export const commonParams = {\r\n  g_tk: 5381,\r\n  inCharset: 'utf-8',\r\n  outCharset: 'utf-8',\r\n  notice: 0,\r\n  format: 'jsonp'\r\n}\r\n\r\nexport const options = {\r\n  param: 'jsonpCallback'\r\n}\r\n\r\nexport const ERR_OK = 0\r\n\r\n// 部分 ajax 接口接受 jsonp 请求\r\n\r\nexport const RECOMMEND_URL = 'https://c.y.qq.com/musichall/fcgi-bin/fcg_yqqhomepagerecommend.fcg'\r\n\r\nexport const PLAYLIST_URL = '/api/getPlayList'\r\n\r\nexport const ARTIST_URL = 'https://c.y.qq.com/v8/fcg-bin/v8.fcg'\r\n\r\nexport const ARTIST_DETAIL_URL = 'https://c.y.qq.com/v8/fcg-bin/fcg_v8_singer_track_cp.fcg'\r\n\r\nexport const LYRIC_URL = '/api/getLyric'\r\n\r\nexport const RECOMMEND_ITEM_URL = '/api/getRecommendItem'\r\n\r\n// 移动端 ranking-list url\r\nexport const RANKING_LIST_URL = 'https://c.y.qq.com/v8/fcg-bin/fcg_myqq_toplist.fcg'\r\n\r\n// 桌面端 ranking-list url\r\n// export const RANKING_LIST_URL = 'https://c.y.qq.com/v8/fcg-bin/fcg_v8_toplist_opt.fcg'\r\n\r\n// 桌面端 url（jsonp 请求），若是移动端则是 ajax 请求\r\nexport const FULL_RANKING_LIST_URL = 'https://c.y.qq.com/v8/fcg-bin/fcg_v8_toplist_cp.fcg'\r\n\r\nexport const HOTKEY_URL = 'https://c.y.qq.com/splcloud/fcgi-bin/gethotkey.fcg'\r\n\r\n// 移动端 search url\r\n// export const SEARCH_URL = 'https://c.y.qq.com/soso/fcgi-bin/search_for_qq_cp'\r\n\r\nexport const SEARCH_URL = '/api/search'\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/config.js","// 整个项目的配置文件\r\n\r\n// 语义化播放模式的值\r\nexport const playMode = {\r\n  sequence: 0,\r\n  loop: 1,\r\n  random: 2\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/js/config.js","module.exports = \"data:image/gif;base64,R0lGODlhZABkAKIEAN7e3rq6uv///5mZmQAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/wtYTVAgRGF0YVhNUDw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpBRjA4RUZDMDI3MjA2ODExODA4M0Y1OTQyMzVDRDM3MyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpCMzE0Rjk3NDdDRTgxMUUzOUJCRjk0NjAxMUE1NzRBMCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpCMzE0Rjk3MzdDRTgxMUUzOUJCRjk0NjAxMUE1NzRBMCIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M2IChNYWNpbnRvc2gpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6RDVBMTZDQjczOTIwNjgxMTgwODNGNTk0MjM1Q0QzNzMiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6QUYwOEVGQzAyNzIwNjgxMTgwODNGNTk0MjM1Q0QzNzMiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+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\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/base/base-loading/loading.gif\n// module id = YDRX\n// module chunks = 10","<template>\r\n<div ref=\"wrapper\">\r\n  <slot></slot>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport BetterScroll from 'better-scroll'\r\nexport default {\r\n  props: {\r\n    probeType: {\r\n      type: Number,\r\n      default: 1\r\n    },\r\n\r\n    click: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n\r\n    data: { // 用于跟踪父组件数据对象的变化，即 ajax 是否返回了 slot 插槽中所需的数据，即确定刷新滚动组件的时机\r\n      type: Array,\r\n      default: null\r\n    },\r\n\r\n    listenScroll: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n\r\n    pullUp: { // 是否开启上拉刷新\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n\r\n    beforeScroll: { // 用于移动端 input 失焦时机的判断，以在滚动时收起键盘\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n\r\n    refreshDelay: {\r\n      type: Number,\r\n      default: 20\r\n    }\r\n  },\r\n  methods: {\r\n    _initScroll () {\r\n      if (!this.$refs.wrapper) { return }\r\n      this.scroll = new BetterScroll(this.$refs.wrapper, {\r\n        probeType: this.probeType,\r\n        click: this.click\r\n      })\r\n\r\n      if (this.listenScroll) {\r\n        let that = this // 若不设置，那么当外部调用时，this 将不是指向本组件\r\n        this.scroll.on('scroll', pos => { // 监听原生滚动事件，派发一个滚动事件\r\n          that.$emit('scroll', pos)\r\n        })\r\n      }\r\n\r\n      if (this.pullUp) {\r\n        this.scroll.on('scrollEnd', () => {\r\n          if (this.scroll.y <= (this.scroll.maxScrollY + 50)) {\r\n            this.$emit('scrollToEnd') // 派发滚动到达底部事件\r\n          }\r\n        })\r\n      }\r\n\r\n      if (this.beforeScroll) {\r\n        this.scroll.on('beforeScrollStart', () => {\r\n          this.$emit('beforeScroll')\r\n        })\r\n      }\r\n    },\r\n\r\n    scrollTo () {\r\n      this.scroll && this.scroll.scrollTo.apply(this.scroll, arguments)\r\n    },\r\n\r\n    scrollToElement () {\r\n      this.scroll && this.scroll.scrollToElement.apply(this.scroll, arguments)\r\n    },\r\n    // 代理执行的方法，意在组件外部调用内部方法更新组件状态\r\n    enable () {\r\n      this.scroll && this.scroll.enable()\r\n    },\r\n\r\n    disable () {\r\n      this.scroll && this.scroll.disable()\r\n    },\r\n\r\n    refresh () {\r\n      this.scroll && this.scroll.refresh()\r\n    }\r\n  },\r\n\r\n  watch: {\r\n    data () { // 自身根据 ajax 数据（props 中的 data 属性）返回刷新滚动组件\r\n      // this.$nextTick(() => {\r\n      //   this.refresh()\r\n      // })\r\n      setTimeout(() => {\r\n        this.refresh()\r\n      }, this.refreshDelay)\r\n    }\r\n  },\r\n\r\n  mounted () {\r\n    this.$nextTick(() => {\r\n      this._initScroll()\r\n    })\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/base/base-scroll.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"wrapper\"},[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4c1d56de\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/base/base-scroll.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4c1d56de\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./base-scroll.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./base-scroll.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./base-scroll.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4c1d56de\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./base-scroll.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/base/base-scroll.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"search-box\">\r\n    <i class=\"icon-search\"></i>\r\n    <input type=\"text\" v-model=\"query\" class=\"input-box\" ref=\"inputBox\" :placeholder=\"placeholder\">\r\n    <i class=\"icon-dismiss\" v-show=\"query\" @click=\"cleanInputBox\"></i>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { debounce } from 'common/js/util'\r\n\r\nexport default {\r\n  props: {\r\n    placeholder: {\r\n      type: String,\r\n      default: ''\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    blurInputBar () {\r\n      this.$refs.inputBox.blur()\r\n    },\r\n\r\n    cleanInputBox () {\r\n      this.query = ''\r\n    },\r\n\r\n    setQuery (query) {\r\n      this.query = query\r\n    }\r\n  },\r\n\r\n  created () {\r\n    this.$watch('query', debounce(newQuery => {\r\n      this.$emit('queryChange', newQuery)\r\n    }, 200))\r\n  },\r\n\r\n  data () {\r\n    return {\r\n      query: ''\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '~scss/variables';\r\n\r\n.search-box {\r\n  display: flex;\r\n  padding: 0 6px;\r\n  align-items: center;\r\n  box-sizing: border-box;\r\n  width: 100%;\r\n  height: 40px;\r\n  background-color: $color-highlight-background;\r\n  border-radius: 6px;\r\n  color: $color-background;\r\n  .icon-search {\r\n    font-size: 24px;\r\n  }\r\n  .input-box {\r\n    flex: 1;\r\n    margin: 0 5px;\r\n    line-height: 18px;\r\n    background-color: transparent;\r\n    border: transparent;\r\n    font-size: $font-size-medium;\r\n    color: $color-text;\r\n  }\r\n  .icon-dismiss {\r\n    font-size: $font-size-large;\r\n  }\r\n}\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/base/base-search-box.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"search-box\"},[_c('i',{staticClass:\"icon-search\"}),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.query),expression:\"query\"}],ref:\"inputBox\",staticClass:\"input-box\",attrs:{\"type\":\"text\",\"placeholder\":_vm.placeholder},domProps:{\"value\":(_vm.query)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.query=$event.target.value}}}),_vm._v(\" \"),_c('i',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.query),expression:\"query\"}],staticClass:\"icon-dismiss\",on:{\"click\":_vm.cleanInputBox}})])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-be1d8cb4\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/base/base-search-box.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-be1d8cb4\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./base-search-box.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./base-search-box.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./base-search-box.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-be1d8cb4\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./base-search-box.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-be1d8cb4\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/base/base-search-box.vue\n// module id = null\n// module chunks = ","// hack for global nextTick\r\n// 解决 ios 不能播放的问题（ios 网页播放需要用户交互）\r\n// https://github.com/DDFE/DDFE-blog/issues/24\r\nfunction noop () {\r\n}\r\n\r\nwindow.MessageChannel = noop\r\nwindow.setImmediate = noop\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/js/hack-next-tick.js","<template>\r\n  <div class=\"no-result\">\r\n    <div class=\"no-result-icon\"></div>\r\n    <div class=\"no-result-text\">{{ title }}</div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    title: {\r\n      type: String,\r\n      default: ''\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '~scss/variables';\r\n@import '~scss/mixin';\r\n\r\n.no-result {\r\n  text-align: center;\r\n  .no-result-icon {\r\n    width: 50px;\r\n    height: 50px;\r\n    margin: 0 auto;\r\n    @include bg-img('no-result');\r\n    background-size: 50px 50px;\r\n  }\r\n  .no-result-text {\r\n    margin-top: 10px;\r\n    font-size: $font-size-medium;\r\n    color: $color-text-d;\r\n  }\r\n}\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/base/base-no-result/base-no-result.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"no-result\"},[_c('div',{staticClass:\"no-result-icon\"}),_vm._v(\" \"),_c('div',{staticClass:\"no-result-text\"},[_vm._v(_vm._s(_vm.title))])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-b351034a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/base/base-no-result/base-no-result.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-b351034a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./base-no-result.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./base-no-result.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./base-no-result.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-b351034a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./base-no-result.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-b351034a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/base/base-no-result/base-no-result.vue\n// module id = null\n// module chunks = ","function getRandomInt (min, max) { // 产生介于 min 和 max 之间的随机数，包含上下限\r\n  return Math.floor(Math.random() * (max - min + 1) + min)\r\n}\r\n\r\nexport function shuffle (arr) { // 经典打乱数组算法\r\n  let _arr = [...arr]\r\n  for (let i = 0; i < _arr.length; i++) {\r\n    let j = getRandomInt(0, i)\r\n    let t = _arr[i]\r\n    _arr[i] = _arr[j]\r\n    _arr[j] = t\r\n  }\r\n  return _arr\r\n}\r\n\r\nexport function debounce (fn, delay) {\r\n  let timer\r\n  return function (...args) {\r\n    if (timer) {\r\n      clearTimeout(timer)\r\n    }\r\n    timer = setTimeout(() => {\r\n      fn.apply(this, args)\r\n    }, delay)\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/js/util.js","<template>\r\n  <div class=\"search-list\">\r\n    <transition-group name=\"slide\" tag=\"ul\">\r\n      <li\r\n        class=\"search-item\"\r\n        v-for=\"item of searchData\"\r\n        :key=\"item\"\r\n        @click=\"selectItem(item)\"\r\n      >\r\n        <span class=\"text\">{{ item }}</span>\r\n        <div class=\"icon\" @click.stop=\"deleteItem(item)\">\r\n          <i class=\"icon-close\"></i>\r\n        </div>\r\n      </li>\r\n    </transition-group>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    searchData: {\r\n      type: Array,\r\n      default () {\r\n        return []\r\n      }\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    selectItem (item) {\r\n      this.$emit('selectItem', item)\r\n    },\r\n\r\n    deleteItem (item) {\r\n      this.$emit('deleteItem', item)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '~scss/variables';\r\n@import '~scss/mixin';\r\n\r\n.search-item {\r\n  display: flex;\r\n  align-items: center;\r\n  height: 40px;\r\n  overflow: hidden;\r\n  color: $color-text-l;\r\n  &.slide-enter, &.slide-leave-to {\r\n    height: 0;\r\n  }\r\n  &.slide-enter-active, &.slide-leave-active {\r\n    transition: all .1s;\r\n  }\r\n  .text {\r\n    flex: 1;\r\n    font-size: $font-size-medium-x;\r\n    @include ellipsis();\r\n  }\r\n  .icon {\r\n    @include extend-click();\r\n    .icon-close {\r\n      font-size: $font-size-small;\r\n      color: $color-text-d;\r\n    }\r\n  }\r\n}\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/base/base-search-list.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"search-list\"},[_c('transition-group',{attrs:{\"name\":\"slide\",\"tag\":\"ul\"}},_vm._l((_vm.searchData),function(item){return _c('li',{key:item,staticClass:\"search-item\",on:{\"click\":function($event){_vm.selectItem(item)}}},[_c('span',{staticClass:\"text\"},[_vm._v(_vm._s(item))]),_vm._v(\" \"),_c('div',{staticClass:\"icon\",on:{\"click\":function($event){$event.stopPropagation();_vm.deleteItem(item)}}},[_c('i',{staticClass:\"icon-close\"})])])}))],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6c4a613e\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/base/base-search-list.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6c4a613e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./base-search-list.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./base-search-list.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./base-search-list.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6c4a613e\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./base-search-list.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6c4a613e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/base/base-search-list.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}