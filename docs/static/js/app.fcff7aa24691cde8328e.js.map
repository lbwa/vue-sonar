{"version":3,"sources":["webpack:///./src/common/image/default/default.png","webpack:///./src/components/app-header/app-header.vue?3adb","webpack:///./src/components/app-header/app-header.vue","webpack:///./src/components/app-tab/app-tab.vue?a1aa","webpack:///./src/components/app-tab/app-tab.vue","webpack:///src/base/base-scroll.vue","webpack:///./src/base/base-scroll.vue?3b6f","webpack:///./src/base/base-scroll.vue","webpack:///./src/common/js/control-dom.js","webpack:///src/base/base-progress-bar.vue","webpack:///./src/base/base-progress-bar.vue?c86b","webpack:///./src/base/base-progress-bar.vue","webpack:///src/base/base-progress-circle.vue","webpack:///./src/base/base-progress-circle.vue?a0e6","webpack:///./src/base/base-progress-circle.vue","webpack:///src/base/base-confirm.vue","webpack:///./src/base/base-confirm.vue?fb54","webpack:///./src/base/base-confirm.vue","webpack:///./src/common/js/util.js","webpack:///src/base/base-search-box.vue","webpack:///./src/base/base-search-box.vue?69b0","webpack:///./src/base/base-search-box.vue","webpack:///src/base/base-search-list.vue","webpack:///./src/base/base-search-list.vue?fa1d","webpack:///./src/base/base-search-list.vue","webpack:///src/base/base-switches/base-switches.vue","webpack:///./src/base/base-switches/base-switches.vue?3697","webpack:///./src/base/base-switches/base-switches.vue","webpack:///src/base/base-songs-list/base-songs-list.vue","webpack:///./src/base/base-songs-list/base-songs-list.vue?856c","webpack:///./src/base/base-songs-list/base-songs-list.vue","webpack:///src/base/base-top-tip/base-top-tip.vue","webpack:///./src/base/base-top-tip/base-top-tip.vue?f6a5","webpack:///./src/base/base-top-tip/base-top-tip.vue","webpack:///src/base/base-loading/base-loading.vue","webpack:///./src/base/base-loading/base-loading.vue?f2df","webpack:///./src/base/base-loading/base-loading.vue","webpack:///src/base/base-no-result/base-no-result.vue","webpack:///./src/base/base-no-result/base-no-result.vue?e883","webpack:///./src/base/base-no-result/base-no-result.vue","webpack:///./src/common/js/jsonp.js","webpack:///./src/api/config.js","webpack:///./src/api/the-search.js","webpack:///./src/common/js/normalize-song.js","webpack:///./src/api/get-lyric.js","webpack:///./src/common/js/normalize-artist.js","webpack:///src/components/parts-search-result/parts-search-result.vue","webpack:///./src/components/parts-search-result/parts-search-result.vue?8513","webpack:///./src/components/parts-search-result/parts-search-result.vue","webpack:///./src/common/js/config.js","webpack:///./src/common/js/mixin.js","webpack:///src/components/parts-add-to-list/parts-add-to-list.vue","webpack:///./src/components/parts-add-to-list/parts-add-to-list.vue?0300","webpack:///./src/components/parts-add-to-list/parts-add-to-list.vue","webpack:///src/components/parts-playlist/parts-playlist.vue","webpack:///./src/components/parts-playlist/parts-playlist.vue?ce83","webpack:///./src/components/parts-playlist/parts-playlist.vue","webpack:///src/components/app-player/app-player.vue","webpack:///./src/components/app-player/app-player.vue?6f19","webpack:///./src/components/app-player/app-player.vue","webpack:///src/App.vue","webpack:///./src/App.vue?8316","webpack:///./src/App.vue","webpack:///src/base/base-slider.vue","webpack:///./src/base/base-slider.vue?4f27","webpack:///./src/base/base-slider.vue","webpack:///src/components/the-recommend/recommend.vue","webpack:///./src/api/the-recommend.js","webpack:///./src/components/the-recommend/recommend.vue?09b2","webpack:///./src/components/the-recommend/recommend.vue","webpack:///src/components/parts-music-list/parts-music-list.vue","webpack:///./src/components/parts-music-list/parts-music-list.vue?b660","webpack:///./src/components/parts-music-list/parts-music-list.vue","webpack:///src/components/parts-recom-item/parts-recom-item.vue","webpack:///./src/components/parts-recom-item/parts-recom-item.vue?63b0","webpack:///./src/components/parts-recom-item/parts-recom-item.vue","webpack:///src/base/base-artist-list.vue","webpack:///./src/base/base-artist-list.vue?2b9b","webpack:///./src/base/base-artist-list.vue","webpack:///src/components/the-artist/artist.vue","webpack:///./src/api/the-artist.js","webpack:///./src/components/the-artist/artist.vue?01d2","webpack:///./src/components/the-artist/artist.vue","webpack:///src/components/parts-artist-item/parts-artist-item.vue","webpack:///./src/components/parts-artist-item/parts-artist-item.vue?73d6","webpack:///./src/components/parts-artist-item/parts-artist-item.vue","webpack:///src/components/the-ranking/ranking.vue","webpack:///./src/api/the-ranking.js","webpack:///./src/components/the-ranking/ranking.vue?6913","webpack:///./src/components/the-ranking/ranking.vue","webpack:///src/components/parts-ranking-item/parts-ranking-item.vue","webpack:///./src/components/parts-ranking-item/parts-ranking-item.vue?1515","webpack:///./src/components/parts-ranking-item/parts-ranking-item.vue","webpack:///src/components/the-search/search.vue","webpack:///./src/components/the-search/search.vue?7b7d","webpack:///./src/components/the-search/search.vue","webpack:///src/components/the-user-center/the-user-center.vue","webpack:///./src/components/the-user-center/the-user-center.vue?df22","webpack:///./src/components/the-user-center/the-user-center.vue","webpack:///./src/router/index.js","webpack:///./src/common/js/cache.js","webpack:///./src/store/state.js","webpack:///./src/store/getters.js","webpack:///./src/store/mutations.js","webpack:///./src/store/mutation-types.js","webpack:///./src/store/actions.js","webpack:///./src/store/index.js","webpack:///./src/main.js","webpack:///./src/base/base-loading/loading.gif","webpack:///./src/common/js/hack-next-tick.js"],"names":["module","exports","app_header_app_header","render","_h","this","$createElement","_c","_self","staticClass","_v","attrs","to","tag","staticRenderFns","components_app_header_app_header","__webpack_require__","normalizeComponent","ssrContext","app_tab_app_tab","components_app_tab_app_tab","app_tab_normalizeComponent","base_scroll","Number","Boolean","Array","_this","probeType","click","pos","arguments","enable","disable","refresh","refreshDelay","_this3","_initScroll","base_base_scroll","ref","_t","src_base_base_scroll","base_scroll_normalizeComponent","elementStyle","document","createElement","style","vendor","transformNames","webkit","Moz","O","ms","standard","key","undefined","prefixStyle","charAt","toUpperCase","substr","TRANSFORM","base_progress_bar","getBoundingClientRect","rect","left","offsetWidth","_triggerPercent","pageX","clientWidth","startX","displacement","offsetLength","length","progressLength","base_base_progress_bar","_vm","on","progressClick","touchstart","$event","preventDefault","progressTouchStart","touchmove","progressTouchMove","touchend","progressTouchEnd","src_base_base_progress_bar","base_progress_bar_normalizeComponent","base_progress_circle","percent","base_base_progress_circle","width","radius","height","viewBox","version","xmlns","r","cx","cy","fill","stroke-dasharray","dashArray","stroke-dashoffset","dashoffset","src_base_base_progress_circle","base_progress_circle_normalizeComponent","base_confirm","String","hideConfirm","base_base_confirm","name","directives","rawName","value","expression","stopPropagation","target","currentTarget","chooseCancel","_s","title","cancelBtnText","chooseSubmit","confirmBtnText","src_base_base_confirm","base_confirm_normalizeComponent","shuffle","arr","min","max","_arr","toConsumableArray_default","i","j","Math","floor","random","t","base_search_box","blur","query","fn","delay","timer","newQuery","_len","args","_key","clearTimeout","setTimeout","apply","base_base_search_box","type","placeholder","domProps","input","composing","cleanInputBox","src_base_base_search_box","base_search_box_normalizeComponent","base_search_list","item","base_base_search_list","_l","selectItem","deleteItem","src_base_base_search_list","base_search_list_normalizeComponent","base_switches","index","base_switches_base_switches","class","active","currentSwitchIndex","selectedSwitch","base_base_switches_base_switches","base_switches_normalizeComponent","base_songs_list","album","base_songs_list_base_songs_list","selectedItem","getRank","getRankText","_e","getDescription","base_base_songs_list_base_songs_list","base_songs_list_normalizeComponent","base_top_tip","hideTopTip","hideDelay","base_top_tip_base_top_tip","base_base_top_tip_base_top_tip","base_top_tip_normalizeComponent","base_loading","default","base_loading_base_loading","src","alt","base_base_loading_base_loading","base_loading_normalizeComponent","base_no_result","base_no_result_base_no_result","base_base_no_result_base_no_result","base_no_result_normalizeComponent","jsonp_jsonp","url","data","option","indexOf","encodeURIComponent","substring","param","promise_default","a","resolve","reject","jsonp_default","err","commonParams","g_tk","inCharset","outCharset","notice","format","options","RECOMMEND_URL","PLAYLIST_URL","ARTIST_URL","ARTIST_DETAIL_URL","LYRIC_URL","RECOMMEND_ITEM_URL","RANKING_LIST_URL","FULL_RANKING_LIST_URL","HOTKEY_URL","SEARCH_URL","searchKey","page","zhida","perPage","extends_default","w","p","catZhida","perpage","n","uin","platform","needNewCode","zhidaqu","flag","ie","sem","aggr","remoteplace","_","Date","axios_default","get","params","then","res","normalize_song_Song","Song","_ref","id","mid","artist","duration","image","classCallCheck_default","lyric","songmid","pcachetime","hostUin","retcode","base64","decode","Error","createSong","musicData","songid","ret","forEach","push","join","filterArtist","singer","songname","albumname","interval","albummid","Artist","avatar","parts_search_result","methods","singermid","singername","_this2","song","list","Object","vuex_esm","search","BaseScroll","BaseLoading","BaseNoResult","parts_search_result_parts_search_result","searchResult","pullUp","beforeScroll","scrollToEnd","searchMore","listScrolling","getIconClass","innerHTML","getDisplayName","hasMore","components_parts_search_result_parts_search_result","parts_search_result_normalizeComponent","playMode","playlistMixin","computed","mounted","handlePlaylist","playlist","activated","watch","newList","playerMixin","toggleIsFavorite","isFavoriteSong","deleteMyFavoriteSong","saveMyFavoriteSong","getFavoriteIcon","myFavoriteSongs","findIndex","togglePlayMode","mode","setPlayMode","sequenceList","resetCurrentIndex","setPlaylist","currentSong","setCurrentIndex","setPlayingState","iconMode","searchMixin","queryKey","refreshScrollDelay","selectQueryRecord","$refs","searchBox","setQuery","getQueryKey","blurInputBox","blurInputBar","saveSearchItem","saveSearchHistory","parts_add_to_list","showTopTip","BaseSearchBox","BaseSearchList","BaseSwitches","BaseSongsList","BaseTopTip","PartsResult","parts_add_to_list_parts_add_to_list","hideComponent","queryChange","switchOptions","switchIndex","selectSwitch","toggleSwitchIndex","playedHistory","songsData","select","selectedSong","searchHistory","searchData","deleteSearchHistory","showArtist","selectQuery","saveSearch","topTipDelay","components_parts_add_to_list_parts_add_to_list","parts_add_to_list_normalizeComponent","parts_playlist","showComponent","deleteAllSongsFromList","closePlaylist","showConfirm","newSong","BaseConfirm","PartsAddToList","parts_playlist_parts_playlist","playModeText","refInFor","selectSong","getCurrentIcon","deleteSong","showAddToList","confirmSubmit","deleteAllSongs","components_parts_playlist_parts_playlist","parts_playlist_normalizeComponent","transform","transitionDuration","app_player","playing","togglePlay","showPlaylist","togglePlaying","fixPlayingStatus","loopPlay","currentTime","nextSong","play","handleLyric","lineNum","txt","_getPositionAndScale","animation","done","transition","_getPositionAndScale2","scale","pageY","startY","innerWidth","displaceX","durationTime","offsetOpacity","getSongLyric","audio","pause","BaseProgressBar","BaseProgressCircle","PartsPlaylist","app_player_app_player","enter","after-enter","afterEnter","after-leave","afterLeave","closeFullScreen","middleTouchStart","middleTouchMove","middleTouchEnd","rotateCD","playingLyric","currentLyric","lines","currentLineNum","currentShow","_f","currentPercent","playPercent","percentChange","onProgressChange","disableBtn","prevSong","fullScreen","openFullScreen","audioPlay","error","errorPlay","timeupdate","timeUpdate","ended","endPlay","App","AppHeader","AppTab","AppPlayer","app_player_normalizeComponent","selectortype_template_index_0_src_App","src_App","App_normalizeComponent","base_slider","currentIndex","transformInterval","_sliderData","toArray_default","sliderData","firstItem","innerTimer","screenX","startLocation","scrollWidth","sliderLength","targetLength","startSlider","base_base_slider","startTouch","touching","endTouch","href","linkUrl","picUrl","sliderListLength","src_base_base_slider","base_slider_normalizeComponent","recommend","bottom","dissid","assign_default","slider","sin","ein","sortId","categoryId","rnd","_getRecommend","_getPlaylist","BaseSlider","the_recommend_recommend","songsList","sliderList","showListDetail","creator","dissname","components_the_recommend_recommend","recommend_normalizeComponent","parts_music_list_transform","backdrop","parts_music_list","back","y","songs","newY","bgImageHeight","translate","RESERVED_HEIGHT","blurPercent","scalePercent","bgImage","clientHeight","BaseSongList","parts_music_list_parts_music_list","bgStyle","scrollStyle","randomPlaySong","listenScroll","scroll","scrollSongsList","showRank","components_parts_music_list_parts_music_list","parts_music_list_normalizeComponent","recommendId","json","utf8","onlysong","disstid","loginUin","songlist","imgurl","PartsMusicList","parts_recom_item_parts_recom_item","itemBgImage","itemTitle","itemSongs","components_parts_recom_item_parts_recom_item","parts_recom_item_normalizeComponent","parts_recom_item","base_artist_list","difference","el","setAttribute","getAttribute","anchorIndex","group","_calculateHeight","base_base_artist_list","artistData","childIndex","data-index","onShortcutToTouchStart","onShortcutToTouchMove","scrollY","fixedTitle","src_base_base_artist_list","base_artist_list_normalizeComponent","the_artist_artist","channel","pagesize","pagenum","Fsinger_mid","Fsinger_name","Findex","val","other","BaseArtistList","_getArtistList","components_the_artist_artist","artistList","selectArtist","src_components_the_artist_artist","artist_normalizeComponent","artistId","order","begin","num","songstatus","_getDetail","parts_artist_item_parts_artist_item","components_parts_artist_item_parts_artist_item","parts_artist_item_normalizeComponent","parts_artist_item","tpl","v8debug","prefix","topList","_getRankingList","the_ranking_ranking","listIndex","selectList","songIndex","components_the_ranking_ranking","ranking_normalizeComponent","ranking","topid","song_begin","song_num","parts_ranking_item_parts_ranking_item","selectedTopList","topTitle","components_parts_ranking_item_parts_ranking_item","parts_ranking_item_normalizeComponent","parts_ranking_item","the_search_search","refreshScroll","_getHotKey","components_the_search_search","scrollDependence","k","showConfirmBtn","clearAllHistory","src_components_the_search_search","search_normalizeComponent","the_user_center","the_user_center_the_user_center","prevPage","addAllSongsToList","addSongToList","noResultTitle","components_the_user_center_the_user_center","the_user_center_normalizeComponent","vue_runtime_esm","use","vue_router_esm","router","routes","path","redirect","component","children","SEARCH_KEY","HAS_PLAYED_KEY","FAVORITE_SONGS_KEY","SEARCH_MAX_LENGTH","HAS_PLAYED_MAX_LENGTH","FAVORITE_SONGS_MAX_LENGTH","insertItem","compare","maxLength","splice","unshift","pop","store_state","recommendItem","store_modern_default","getters_artist","state","getters_playlist","getters_sequenceList","getters_mode","getters_currentIndex","getters_currentSong","store_mutations","mutations","defineProperty_default","_mutations","actions_selectedPlay","_ref2","commit","randomList","actions_randomPlay","_ref3","_ref4","actions_insertSong","_ref5","fqIndex","sequenceCurrentIndex","fsIndex","actions_saveSearchHistory","_ref6","searches","set","actions_deleteSearchHistory","_ref7","deleteSearchItem","actions_clearAllHistory","_ref8","remove","actions_deleteSongFromList","_ref9","_ref10","indexInPlaylist","actions_deleteAllSongsFromList","_ref11","actions_savePlayedHistory","_ref12","played","actions_saveMyFavoriteSong","_ref13","favorite","saveFavoriteSongs","actions_deleteMyFavoriteSong","_ref14","deleteFavoriteSong","store","Store","getters","getters_namespaceObject","actions","actions_namespaceObject","strict","plugins","fastclick_default","attach","body","vue_lazyload_default","loading","config","productionTip","h","noop","window","MessageChannel","setImmediate"],"mappings":"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","file":"static/js/app.fcff7aa24691cde8328e.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAA1ESURBVHhe7VxplBTVFYaT5GQ5Odl+5CTnJDnZE80emJ5BmL27umd6umpABhdEFJRFQEBAdkESiIKKB9kFBRVQCAajbAkIigIBZBEIKMgSkDURXCBu8HK/6uqh6tWt6qqZHhjIu+d8h6Hfft979953333VRJEiRYoUKVKkSJEiRYoUKVKkSJEiRYoUKVKkSJEiRReTIonW3ymI69F8rbp7fty4NxI3pkfi+l8J/8iP62/RbwcjmvEO/X2K/hZp6KfSvxkHkQd5USZf06fSbyOpjq6RWKosr7LyW1Yzioia5kerr4poeidi1Ix8zdhATHzvAlMbBpgompxXMTk0MR2al7f5odWfK5+IAd+nwfegVfo8/fsfmTmXDJpxlDA/kjA6t4i1/qbV3SuDCiqMX9HgxtDK28YOvrFB089Rf9dF4qnB1ySqf2QN4/KiAq3tNyJaqiet9E3sIH1Qohvi5q5VYvjIhJg2JSbmzykXq5aUim2vFouD24vE8TeKxHsHWon3DxYKcbKlCfyN347tLjTzbH21xCyDslMna2LYiITo0CVp1s216YPzhJUFmt6+oG3bL1rDa7yUH03+xFSamvGhNBAWYEj3PpVi0iRNvLy8VBzddYGpDYHzJ1qabaCtiRM1s+3gk6Kfpp0x9vfx1t+2htt4iCyWZtTJBeb2ZTufRkHCMFfilMkx8fraEvHpMZ5RFxPoA/oymRYB+oY+cn3PAIuL9Ne0Ai31Y2v4l46aRau+R0yfSx3DVmU7DNzSPSmemRMVJ/c07ArPBdDHeU9GRcduSXYsGdBO/4R2xfjfFBtfs9hx8ai4uPgL1PgwMiHPcp0DYtemzG1+YFsRO9DLAej7IxM0cyzcGE1oxsn8hHFHTU3NZyz2NCzlRfXm1OhOtjOEdrdUiYXzouK/b7diB1VXTJ8aE+eO82l2IA/ycml1xdnDLcWf55WLth39JkJf26BiiVb9Z2nF30Mr/2OuA0b7KrHkL2Xi3Al/xp891Eq8tKxU3D9OM5Uvl4dDqaGL++6Pm4qUSweQhjzIy6VzwC596KG4WL+yVHx0hM+TAcb2wsIyGqvnRHyQF9e7EbuaprmWI2qVTH6dGL+caVBE2+hi7hNR8fFRb8a/u79QPP1UuejWu1JcU5kuh239773BdskZmrRMe36ThrRMPpTh8shAHzIipjiliwFDKsTSReU0Hj4/gLQ5s6OivLXHRJBehJi22Fc/wrYihbOLa+juoRXi5Ju8YsVq3LymRNwzKiFaJd1lFz5dzpbjANteLp8NKMPVxQHiRS6PSXn4YdJhr3vXc4LGjgmTy5ogkVRv31NezPgt5zLAql+xuJTtFLbpskVlpi6Qy2UQv1YXHx4JriM2ri5h6/EDynB1cUBf0CeuHpilPe6qNA93XFlgxQtlJk/ksiSyD0RiqR9Y7AxHzWOtf0kVnJArven2pDi8k18Vr/y91EyXy8jAOYAr7wWIBK4eP6AMV5cX0CeuHjv6D64Q+7byY//X9kLR/jZ20e2Dh9diazCyxM4xubIhwytY6wbbHfJdzu+FHeuKXXX44clZUbYeP6AMV5cX0CeuHhktKgzxxzEJ0/Uh1wHeDB6ecJUhXu4JLI6aVVV9iRTudrmSP4yOs2bgcwvKQ/lYkDfsCXj8+AvKNShQhqvLC+hTmHHAEoKOk+sBj0aNZiZB09c0a9blcxabvYkyz5YLj7nPbf7Bshk4zEMB+aCmY5WjniDAzuPq8gPKcHX54dqbvfUWB+wGiC55QYFX4JmcP6IZD1ps5ikSr75BLtT37grXyocOACPlvEEAOWmvKwi69Aou3jJAGa4uP9zYObv+4tCTlLRs9oJnfYh3Ut7z+bHqCovdTiourvkyzdBhe4EbOlc53L4AzLKKdj4nwizQb0w56guCNh3CTzbKcHX5IXld3ccFR56sF8C76zs5+0764M1EIvF5i+0XiBL+ZM+IA9Mbm5zKEr741A11W/l2cArMCzBrC6v4evyAMtlO5Xac2lfI1hMGnXokXUYKeJg5fNZC0wdZbE9T+gLF6Vib+IjTVETF2TyEQQHFba/bD1B0XB1BwClJL3CHsboAukfWlxMmSEaEZrwLiWOxn1Z/TO9rz4CtKM8kToX2PPUBZG1QSwi+Ha6OIEBZrk4Z8AH5OtpCYsFc5wKDM08+6Fk+I5Oa0ozstic+NsNpQ2MbQePb89QXj07LfhiDO5hzYwRFy6Qu9m7Ofuaoi5nrBzgDIa7tbcyY7jzokb7dZnI/L576hT0BsvPUfufqhyVkz5ML4IgPB529HTtOk0zG3TBXNgxgSHhdBEFH4CaMK1dfyLsPPJV1WV5F9U9xnYgAqNof7xzgtJ8P7SjKek1XH/QeUCm2vFJSKzfBFLir62rmcsCh6fmF5bUWHXw/uLS/tXtudBqHVrT7sIjsvOzZTzKnNf32JrQV5tl/fOJxp2iY+Wh2H0kuANcu5DBcwlx6ruDpQm4AQLHbefnEY06XChk+T9LJ1xk6gvAPeyEcMuzpCsExcKhTmmCnS3k2wvVw0P6j7OmsbNewK/JKRnV752EQ4tyeTjtgP4kgp/0vm5+QZfZ0heCABWfnJXjryKMZZ7JOQPL6iyczrzTE2zrdLuwE0B++Iqh3/9yboP8vwB2JnZesCJKVsHz1BqvInq4QHIhLtfOSV8LpyLbaH2fNdJ6Cj+5q2HPAlYw9m53SRDZDafHPcR3EYHbaCwEwp+x5FLLj9l5JFx/dB7HqLk0iCf1q+4+weuSjO+tSVfDFuhedUSNwd7vc6tHqq0xnnBz3w0UtTJmkdEFQjBjl9sJCHzjyacZO0xkHimhGH3siYlzkmzBEg8GxZc+n4EaiJmXel9t5h3BM2R1doBm9LPanQw/l8wDnS9+7pTi0LwWOsNmk2GFdvbWlSLz2col4alY0J57OXAF9QXgl+gb3NawVGCNhb//gskdslMw35i7lA1dYO1lDo+2ZYPlw0WDb1xUHdpgNHZHwDXhdvbRUtL7p0h30cG/MMSwDeE0HDXOHmHAAvxY/W+aqY/fGItddCi32URbbLxB3KY8LdCgPudI1y0uzuihw6+UXsJsBXLZ39HVaB2DMppdKTNc0Is7GjouHuhBC3nEPxM1DJaITUJc80bD2ZFHBAQtIvljngF0ul4UYZ0I0DyL2ymK7k/IT+vVSZtG5B89IhHOXGN6T8Owzwe99cUTHhTbKITgKJ0Y5D1ZqkJ2HPGtXuFc16syU5y7P/eB3XwzrUHY7A5h43K24ymjGdRa7eSKL6DG5EMLtuEnYub7E9HfI+QGkyfn9gJ2GcBfE63PpAB7X+R0Kkbbmb94iBa9d4N0NE5UBQOxy7cFY2bCKiY6jnTt6DHuXPdNiszdZoYlb5cL9BlWYlpDc2Nv/LGSto7ATAKxcXOYZ/JrBAw96X9LjoQVXJgMYAS8uccvpbMAjPrktiBaIRzkvVj7MUDk/iffNgZ+6IjiXlPIRuRKEacvXbACiwvoNdm43TiHlAogw4EIIcZsWRqyEAa4z7W3hGpXbRTA3Wa+Bph8K/UkEnJBJW7vC03HJsGuDO9IAd7p4G5aRs5gQOU+ugDtjuV/4jcubC9w1MM1UjG3+nKgr7gdAhDgnCUikH2se139msTUc4TMD3CTgSI1X6FzkGToCnwdCQrgtmgugXfsugDjg+pILIDQGirZX/0rP8eBBSlm120CIxPXjeGdhsbNuhO8l4NgsVw4gANbrCQ/OEDhwcWm5AKysTD8WzQ9ucYUF3oJ5vY7BEyXoRjtPaqEZO+r8OkamZtGar5IcW8Y1hN0A31FYy6K+gLwvqtJNsRDmuVMugPb8HunRyl8SSSS+YrEvN4SHyDQJQ8lCYp+pwteBF+ZBDl+5AmQzwKU1BGDhQCF7PlPV9I9I5g9p0EfbLRL677xEEoC40sdnxgKdMusLfP4AuohLyyVg3UD5+j/g0LeDNxabGpbMTxXQbqCt9j7fmbTFcP/YeOj3YGEAV4N8h51L4NyAwxv3AjIDkwfEi5y9Cw5D+HQLdWImdcD3Kyntbq0yI+w4F0NjA745BM8oHlxwY6lFeswzG8Xna/ITqV8jxJFM1k9dHZUAkxHu2Q2rS9iT9cUGwuTxjiDzuRquz3aQjP+EmD8XY7aG33gIpz3SD1PkuwUvIHDptp6VZng4Hn5jh0DRcYzKBXBWOLKrSKxaWmqKlq53hvhgk2acoXFNuiw+8pc2W6u70EpZyw7GB5gUPOTDSxNcg0LR4iU6Lklw5gADYfLazd7M/5GGPMiLCYXiRB24l8ADcpitXJu+wBhoLBiTNbzLi1poVT+ngdwLZ5RrcI0T56mvr9G/I9F3axhXBjXXjO8iDIYG+Bzn4rhUQF/QJzwbCv1ZgcuZ8EIkL5bqSNscH1FdT7b0aY5BuQQx+h2S5+vQJto2X6koukD4pgI+M0wT0pUYNtKcHFqdJtPSny7eByaajLQx1fr/PjMPvvtplkl/uhgyXH26WJEiRYoUKVKkSJEiRYoUKVKkSJEiRYoUKVKkSJGii09NmvwPuyUXlvjKo4YAAAAASUVORK5CYII=\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/common/image/default/default.png\n// module id = KQb1\n// module chunks = 1","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-header\"},[_c('div',{staticClass:\"icon\"}),_vm._v(\" \"),_c('div',{staticClass:\"text\"},[_vm._v(\"Sonar Music\")]),_vm._v(\" \"),_c('router-link',{staticClass:\"user-center\",attrs:{\"to\":\"/user\",\"tag\":\"div\"}},[_c('i',{staticClass:\"icon-mine\"})])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-92919daa\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/app-header/app-header.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-92919daa\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./app-header.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./app-header.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./app-header.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-92919daa\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./app-header.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-92919daa\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/app-header/app-header.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-tab\"},[_c('router-link',{staticClass:\"tab-recommend\",attrs:{\"tag\":\"div\",\"to\":\"/recommend\"}},[_c('span',{staticClass:\"tab-item\"},[_vm._v(\"推荐\")])]),_vm._v(\" \"),_c('router-link',{staticClass:\"tab-artist\",attrs:{\"tag\":\"div\",\"to\":\"/artist\"}},[_c('span',{staticClass:\"tab-item\"},[_vm._v(\"歌手\")])]),_vm._v(\" \"),_c('router-link',{staticClass:\"tab-ranking\",attrs:{\"tag\":\"div\",\"to\":\"/ranking\"}},[_c('span',{staticClass:\"tab-item\"},[_vm._v(\"排行\")])]),_vm._v(\" \"),_c('router-link',{staticClass:\"tab-search\",attrs:{\"tag\":\"div\",\"to\":\"/search\"}},[_c('span',{staticClass:\"tab-item\"},[_vm._v(\"搜索\")])])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-36d59958\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/app-tab/app-tab.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-36d59958\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./app-tab.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./app-tab.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./app-tab.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-36d59958\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./app-tab.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-36d59958\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/app-tab/app-tab.vue\n// module id = null\n// module chunks = ","<template>\r\n<div ref=\"wrapper\">\r\n  <slot></slot>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport BetterScroll from 'better-scroll'\r\nexport default {\r\n  props: {\r\n    probeType: {\r\n      type: Number,\r\n      default: 1\r\n    },\r\n\r\n    click: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n\r\n    data: { // 用于跟踪父组件数据对象的变化，即 ajax 是否返回了 slot 插槽中所需的数据，即确定刷新滚动组件的时机\r\n      type: Array,\r\n      default: null\r\n    },\r\n\r\n    listenScroll: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n\r\n    pullUp: { // 是否开启上拉刷新\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n\r\n    beforeScroll: { // 用于移动端 input 失焦时机的判断，以在滚动时收起键盘\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n\r\n    refreshDelay: {\r\n      type: Number,\r\n      default: 20\r\n    }\r\n  },\r\n  methods: {\r\n    _initScroll () {\r\n      if (!this.$refs.wrapper) { return }\r\n      this.scroll = new BetterScroll(this.$refs.wrapper, {\r\n        probeType: this.probeType,\r\n        click: this.click\r\n      })\r\n\r\n      if (this.listenScroll) {\r\n        let that = this // 若不设置，那么当外部调用时，this 将不是指向本组件\r\n        this.scroll.on('scroll', pos => { // 监听原生滚动事件，派发一个滚动事件\r\n          that.$emit('scroll', pos)\r\n        })\r\n      }\r\n\r\n      if (this.pullUp) {\r\n        this.scroll.on('scrollEnd', () => {\r\n          if (this.scroll.y <= (this.scroll.maxScrollY + 50)) {\r\n            this.$emit('scrollToEnd') // 派发滚动到达底部事件\r\n          }\r\n        })\r\n      }\r\n\r\n      if (this.beforeScroll) {\r\n        this.scroll.on('beforeScrollStart', () => {\r\n          this.$emit('beforeScroll')\r\n        })\r\n      }\r\n    },\r\n\r\n    scrollTo () {\r\n      this.scroll && this.scroll.scrollTo.apply(this.scroll, arguments)\r\n    },\r\n\r\n    scrollToElement () {\r\n      this.scroll && this.scroll.scrollToElement.apply(this.scroll, arguments)\r\n    },\r\n    // 代理执行的方法，意在组件外部调用内部方法更新组件状态\r\n    enable () {\r\n      this.scroll && this.scroll.enable()\r\n    },\r\n\r\n    disable () {\r\n      this.scroll && this.scroll.disable()\r\n    },\r\n\r\n    refresh () {\r\n      this.scroll && this.scroll.refresh()\r\n    }\r\n  },\r\n\r\n  watch: {\r\n    data () { // 自身根据 ajax 数据（props 中的 data 属性）返回刷新滚动组件\r\n      // this.$nextTick(() => {\r\n      //   this.refresh()\r\n      // })\r\n      setTimeout(() => {\r\n        this.refresh()\r\n      }, this.refreshDelay)\r\n    }\r\n  },\r\n\r\n  mounted () {\r\n    this.$nextTick(() => {\r\n      this._initScroll()\r\n    })\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/base/base-scroll.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"wrapper\"},[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4c1d56de\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/base/base-scroll.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4c1d56de\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./base-scroll.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./base-scroll.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./base-scroll.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4c1d56de\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./base-scroll.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/base/base-scroll.vue\n// module id = null\n// module chunks = ","export function addClass (el, className) {\r\n  if (hasClass(el, className)) {\r\n    return\r\n  }\r\n  let newClass = el.className.split(' ')\r\n  newClass.push(className)\r\n  el.className = newClass.join('')\r\n}\r\n\r\nexport function hasClass (el, className) {\r\n  let reg = new RegExp(`(^|\\\\s)${className}(\\\\s|$)`)\r\n  return reg.test(el.className)\r\n}\r\n\r\nexport function getData (el, name, value) {\r\n  const prefix = 'data-'\r\n  name = prefix + name\r\n  if (value) {\r\n    return el.setAttribute(name, value)\r\n  } else {\r\n    return el.getAttribute(name)\r\n  }\r\n}\r\n\r\n// 浏览器能力检测，检测当前浏览器需要添加何种前缀\r\n\r\nlet elementStyle = document.createElement('div').style\r\n\r\nlet vendor = (() => {\r\n  let transformNames = {\r\n    webkit: 'webkitTransform',\r\n    Moz: 'MozTransform',\r\n    O: 'OTransform',\r\n    ms: 'msTransform',\r\n    standard: 'transform'\r\n  }\r\n\r\n  for (let key in transformNames) {\r\n    if (elementStyle[transformNames[key]] !== undefined) {\r\n      return key\r\n    }\r\n  }\r\n\r\n  return false // 没有任何已知前缀能被当前浏览器识别时\r\n})()\r\n\r\nexport function prefixStyle (style) {\r\n  if (vendor === false) {\r\n    return false // 没有任何已知前缀能被当前浏览器识别时\r\n  }\r\n\r\n  if (vendor === 'standard') {\r\n    return style\r\n  }\r\n\r\n  return vendor + style.charAt(0).toUpperCase() + style.substr(1) // 'webkitTransform'\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/js/control-dom.js","<template>\r\n  <div class=\"progress-bar\" ref=\"progressBar\" @click=\"progressClick\">\r\n    <div class=\"bar-inner\">\r\n\r\n      <div class=\"progress\" ref=\"progress\"></div>\r\n\r\n      <div\r\n        class=\"progress-btn-wrapper\" ref=\"progressBtn\"\r\n        @touchstart.prevent=\"progressTouchStart\"\r\n        @touchmove.prevent=\"progressTouchMove\"\r\n        @touchend=\"progressTouchEnd\"\r\n      ><!-- .prevent 修饰符防止浏览器的默认行为 -->\r\n        <div class=\"progress-btn\"></div>\r\n      </div>\r\n\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { prefixStyle } from 'common/js/control-dom'\r\n\r\nconst PROGRESS_BTN_WIDTH = 16\r\nconst TRANSFORM = prefixStyle('transform')\r\n\r\nexport default {\r\n  props: {\r\n    currentPercent: {\r\n      type: Number,\r\n      default: 0\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    progressClick (evt) {\r\n      const rect = this.$refs.progressBar.getBoundingClientRect()\r\n      console.info('Click point: %O', rect)\r\n      const offsetWidth = evt.pageX - rect.left\r\n\r\n      /**\r\n       * 1. _offset() 本可传入参数 evt.offsetX，offsetX 规定了事件对象与目标节点的\r\n       * padding edge 在 X 轴方向上的偏移量\r\n       * 2. 不使用 offsetX 的原因是，在点击小圆点时，偏移量计算错误\r\n       */\r\n\r\n      this._offset(offsetWidth)\r\n      this._triggerPercent()\r\n    },\r\n\r\n    progressTouchStart (evt) {\r\n      this.touch.initiated = true\r\n      this.touch.startX = evt.touches[0].pageX\r\n      this.touch.left = this.$refs.progress.clientWidth\r\n    },\r\n\r\n    progressTouchMove (evt) {\r\n      if (!this.touch.initiated) { return }\r\n\r\n      // 当前位移\r\n      const displacement = evt.touches[0].pageX - this.touch.startX\r\n      // 总移动长度\r\n      const progressLength = this.$refs.progressBar.clientWidth - PROGRESS_BTN_WIDTH\r\n      const offsetLength = Math.min(progressLength, Math.max(0, this.touch.left + displacement))\r\n\r\n      this._offset(offsetLength)\r\n    },\r\n\r\n    progressTouchEnd (evt) {\r\n      this.touch.initiated = false\r\n      this._triggerPercent()\r\n    },\r\n\r\n    _offset (length) { // 修改当前显示进度的样式\r\n      this.$refs.progress.style.width = `${length}px`\r\n      this.$refs.progressBtn.style[TRANSFORM] = `translateX(${length}px)`\r\n    },\r\n\r\n    _triggerPercent () { // 派发事件，修改当前进度\r\n      const progressLength = this.$refs.progressBar.clientWidth - PROGRESS_BTN_WIDTH\r\n      const percent = this.$refs.progress.clientWidth / progressLength\r\n\r\n      // 根据位移得到 percent ，传递出 percent 得到目标时间\r\n      this.$emit('percentChange', percent) // 不处理业务逻辑\r\n    }\r\n  },\r\n\r\n  watch: {\r\n    currentPercent (newPercent) {\r\n      // 实际中，存在超过 1 的情况\r\n      // this.touch.initiated 排除拖动的情况\r\n      if (newPercent > 1 || newPercent < 0 || this.touch.initiated) { return }\r\n\r\n      const progressLength = this.$refs.progressBar.clientWidth - PROGRESS_BTN_WIDTH\r\n      const offsetLength = newPercent * progressLength\r\n\r\n      this._offset(offsetLength)\r\n    }\r\n  },\r\n\r\n  computed: {\r\n    // 以下为给 .progress 和 .progress-wrapper 添加样式的计算属性\r\n\r\n    /**\r\n     * currentProgress 可使用，但与 currentPercent 的 watcher 度量标准不同，watch\r\n     * 减掉了 PROGRESS_BTN_WIDTH，最后歌曲结束时 $refs.progress 有轻微出头\r\n     * 原因：实际操作中，width 百分比 > 1\r\n     */\r\n\r\n    // currentProgress () {\r\n    //   return {\r\n    //     width: `${this.currentPercent * 100}%`\r\n    //   }\r\n    // }\r\n\r\n    /**\r\n     * https://cn.vuejs.org/v2/api/#ref\r\n     * https://cn.vuejs.org/v2/guide/components.html#子组件引用\r\n     * 1. $refs 本身是作为渲染结果存在的，故在 mounted 之前 $refs 是不存在的，故查询\r\n     * $refs.bar 的宽度只能使用 watcher 时查询。\r\n     * 2. 经试验，computed 属性中的方法是在 created 之后 mounted 之前调用\r\n     */\r\n\r\n    // currentBtn () {\r\n    //   const progressLength = this.$refs.bar.clientWidth // 报错\r\n    //   return {\r\n    //     transform: `translateX(${this.currentPercent * progressLength}px)`\r\n    //   }\r\n    // }\r\n  },\r\n\r\n  created () {\r\n    this.touch = {} // 不同 touch 事件之间共享数据的容器\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '~scss/variables';\r\n\r\n.progress-bar {\r\n  height: 30px;\r\n  .bar-inner {\r\n    position: relative;\r\n    top: 13px;\r\n    height: 4px;\r\n    background-color: $color-background-d;\r\n    .progress { // 动态宽度即是当前播放进度\r\n      position: absolute;\r\n      top: 0;\r\n      left: 0;\r\n      height: 100%;\r\n      background-color: $color-theme;\r\n    }\r\n    .progress-btn-wrapper {\r\n      position: absolute;\r\n      top: -13px;\r\n      left: -8px; // 控件半径\r\n      height: 30px;\r\n      width: 30px;\r\n      .progress-btn {\r\n        position: relative;\r\n        top: 7px;\r\n        left: 7px;\r\n        box-sizing: border-box;\r\n        width: 16px;\r\n        height: 16px;\r\n        border: 3px solid $color-text;\r\n        border-radius: 50%;\r\n        background-color: $color-theme;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/base/base-progress-bar.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"progressBar\",staticClass:\"progress-bar\",on:{\"click\":_vm.progressClick}},[_c('div',{staticClass:\"bar-inner\"},[_c('div',{ref:\"progress\",staticClass:\"progress\"}),_vm._v(\" \"),_c('div',{ref:\"progressBtn\",staticClass:\"progress-btn-wrapper\",on:{\"touchstart\":function($event){$event.preventDefault();return _vm.progressTouchStart($event)},\"touchmove\":function($event){$event.preventDefault();return _vm.progressTouchMove($event)},\"touchend\":_vm.progressTouchEnd}},[_c('div',{staticClass:\"progress-btn\"})])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-d90d7b66\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/base/base-progress-bar.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-d90d7b66\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./base-progress-bar.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./base-progress-bar.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./base-progress-bar.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-d90d7b66\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./base-progress-bar.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-d90d7b66\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/base/base-progress-bar.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"progress-circle\">\r\n    <svg :width=\"radius\" :height=\"radius\" viewBox=\"0 0 100 100\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\">\r\n      <circle class=\"progress-background\" r=\"50\" cx=\"50\" cy=\"50\" fill=\"transparent\"/><!-- 底层圆 -->\r\n      <circle class=\"progress-bar\" r=\"46\" cx=\"50\" cy=\"50\" fill=\"transparent\" :stroke-dasharray=\"dashArray\" :stroke-dashoffset=\"dashoffset\"/><!-- 上层圆，1 - dashoffset 定义显示的部分 -->\r\n    </svg>\r\n    <slot></slot>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    radius: {\r\n      type: Number,\r\n      default: 100\r\n    },\r\n\r\n    percent: {\r\n      type: Number,\r\n      default: 0\r\n    }\r\n  },\r\n\r\n  data () {\r\n    return {\r\n      dashArray: Math.PI * 100\r\n    }\r\n  },\r\n\r\n  computed: {\r\n    dashoffset () {\r\n      return this.dashArray * (1 - this.percent)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '~scss/variables';\r\n\r\n.progress-circle {\r\n  position: relative;\r\n  circle {\r\n    stroke-width: 8px; // 描边宽度\r\n    transform-origin: center;\r\n    &.progress-background {\r\n      transform: scale(0.9);\r\n      stroke: $color-theme-d;\r\n    }\r\n    &.progress-bar {\r\n      transform: scale(0.9) rotate(-90deg);\r\n      stroke: $color-theme;\r\n    }\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/base/base-progress-circle.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"progress-circle\"},[_c('svg',{attrs:{\"width\":_vm.radius,\"height\":_vm.radius,\"viewBox\":\"0 0 100 100\",\"version\":\"1.1\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('circle',{staticClass:\"progress-background\",attrs:{\"r\":\"50\",\"cx\":\"50\",\"cy\":\"50\",\"fill\":\"transparent\"}}),_vm._v(\" \"),_c('circle',{staticClass:\"progress-bar\",attrs:{\"r\":\"46\",\"cx\":\"50\",\"cy\":\"50\",\"fill\":\"transparent\",\"stroke-dasharray\":_vm.dashArray,\"stroke-dashoffset\":_vm.dashoffset}})]),_vm._v(\" \"),_vm._t(\"default\")],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-f447e776\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/base/base-progress-circle.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-f447e776\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./base-progress-circle.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./base-progress-circle.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./base-progress-circle.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-f447e776\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./base-progress-circle.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-f447e776\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/base/base-progress-circle.vue\n// module id = null\n// module chunks = ","<template>\r\n  <transition name=\"confirm-fade\">\r\n    <div class=\"confirm\" v-show=\"showFlag\" @click.stop.self=\"chooseCancel\">\r\n      <div class=\"confirm-wrapper\">\r\n        <div class=\"confirm-content\">\r\n          <p class=\"text\">{{ title }}</p>\r\n          <div class=\"operate\">\r\n            <div class=\"operate-btn left\" @click=\"chooseCancel\">{{ cancelBtnText }}</div>\r\n            <div class=\"operate-btn\" @click=\"chooseSubmit\"> {{ confirmBtnText }}</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </transition>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    title: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n\r\n    confirmBtnText: {\r\n      type: String,\r\n      default: '确定'\r\n    },\r\n\r\n    cancelBtnText: {\r\n      type: String,\r\n      default: '取消'\r\n    }\r\n  },\r\n\r\n  data () {\r\n    return {\r\n      showFlag: false\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    chooseCancel () {\r\n      this.hideConfirm()\r\n      this.$emit('confirmCancel')\r\n    },\r\n\r\n    chooseSubmit () {\r\n      this.hideConfirm()\r\n      this.$emit('confirmSubmit')\r\n    },\r\n\r\n    showConfirm () {\r\n      this.showFlag = true\r\n    },\r\n\r\n    hideConfirm () {\r\n      this.showFlag = false\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '~scss/variables';\r\n\r\n@keyframes confirm-fade-in {\r\n  from {\r\n    opacity: 0;\r\n  }\r\n  to {\r\n    opacity: 1;\r\n  }\r\n}\r\n\r\n@keyframes confirm-zoom {\r\n  0% {\r\n    transform: scale(0)\r\n  }\r\n  50% {\r\n    transform: scale(1.1)\r\n  }\r\n  100% {\r\n    transform: scale(1)\r\n  }\r\n}\r\n\r\n.confirm {\r\n  position: fixed;\r\n  left: 0;\r\n  right: 0;\r\n  top: 0;\r\n  bottom: 0;\r\n  z-index: 998;\r\n  background-color: $color-background-d;\r\n  &.confirm-fade-enter-active {\r\n    animation: confirm-fade-in .3s;\r\n    .confirm-content {\r\n      animation: confirm-zoom .3s;\r\n    }\r\n  }\r\n  .confirm-wrapper {\r\n    position: absolute;\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%);\r\n    z-index: 999;\r\n    .confirm-content {\r\n      width: 270px;\r\n      border-radius: 13px;\r\n      background: $color-highlight-background;\r\n      .text {\r\n        padding: 19px 15px;\r\n        line-height: 22px;\r\n        text-align: center;\r\n        font-size: $font-size-large;\r\n        color: $color-text-l;\r\n      }\r\n      .operate {\r\n        display: flex;\r\n        align-items: center;\r\n        text-align: center;\r\n        font-size: $font-size-large;\r\n        .operate-btn {\r\n          flex: 1;\r\n          line-height: 22px;\r\n          padding: 10px 0;\r\n          border-top: 1px solid $color-background-d;\r\n          color: $color-text-d;\r\n          &.left {\r\n            border-right: 1px solid $color-background-d;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/base/base-confirm.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"confirm-fade\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showFlag),expression:\"showFlag\"}],staticClass:\"confirm\",on:{\"click\":function($event){$event.stopPropagation();if($event.target !== $event.currentTarget){ return null; }return _vm.chooseCancel($event)}}},[_c('div',{staticClass:\"confirm-wrapper\"},[_c('div',{staticClass:\"confirm-content\"},[_c('p',{staticClass:\"text\"},[_vm._v(_vm._s(_vm.title))]),_vm._v(\" \"),_c('div',{staticClass:\"operate\"},[_c('div',{staticClass:\"operate-btn left\",on:{\"click\":_vm.chooseCancel}},[_vm._v(_vm._s(_vm.cancelBtnText))]),_vm._v(\" \"),_c('div',{staticClass:\"operate-btn\",on:{\"click\":_vm.chooseSubmit}},[_vm._v(\" \"+_vm._s(_vm.confirmBtnText))])])])])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-bc34d5ec\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/base/base-confirm.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-bc34d5ec\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./base-confirm.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./base-confirm.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./base-confirm.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-bc34d5ec\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./base-confirm.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-bc34d5ec\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/base/base-confirm.vue\n// module id = null\n// module chunks = ","function getRandomInt (min, max) { // 产生介于 min 和 max 之间的随机数，包含上下限\r\n  return Math.floor(Math.random() * (max - min + 1) + min)\r\n}\r\n\r\nexport function shuffle (arr) { // 经典打乱数组算法\r\n  let _arr = [...arr]\r\n  for (let i = 0; i < _arr.length; i++) {\r\n    let j = getRandomInt(0, i)\r\n    let t = _arr[i]\r\n    _arr[i] = _arr[j]\r\n    _arr[j] = t\r\n  }\r\n  return _arr\r\n}\r\n\r\nexport function debounce (fn, delay) {\r\n  let timer\r\n  return function (...args) {\r\n    if (timer) {\r\n      clearTimeout(timer)\r\n    }\r\n    timer = setTimeout(() => {\r\n      fn.apply(this, args)\r\n    }, delay)\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/js/util.js","<template>\r\n  <div class=\"search-box\">\r\n    <i class=\"icon-search\"></i>\r\n    <input type=\"text\" v-model=\"query\" class=\"input-box\" ref=\"inputBox\" :placeholder=\"placeholder\">\r\n    <i class=\"icon-dismiss\" v-show=\"query\" @click=\"cleanInputBox\"></i>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { debounce } from 'common/js/util'\r\n\r\nexport default {\r\n  props: {\r\n    placeholder: {\r\n      type: String,\r\n      default: ''\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    blurInputBar () {\r\n      this.$refs.inputBox.blur()\r\n    },\r\n\r\n    cleanInputBox () {\r\n      this.query = ''\r\n    },\r\n\r\n    setQuery (query) {\r\n      this.query = query\r\n    }\r\n  },\r\n\r\n  created () {\r\n    this.$watch('query', debounce(newQuery => {\r\n      this.$emit('queryChange', newQuery)\r\n    }, 200))\r\n  },\r\n\r\n  data () {\r\n    return {\r\n      query: ''\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '~scss/variables';\r\n\r\n.search-box {\r\n  display: flex;\r\n  padding: 0 6px;\r\n  align-items: center;\r\n  box-sizing: border-box;\r\n  width: 100%;\r\n  height: 40px;\r\n  background-color: $color-highlight-background;\r\n  border-radius: 6px;\r\n  color: $color-background;\r\n  .icon-search {\r\n    font-size: 24px;\r\n  }\r\n  .input-box {\r\n    flex: 1;\r\n    margin: 0 5px;\r\n    line-height: 18px;\r\n    background-color: transparent;\r\n    border: transparent;\r\n    font-size: $font-size-medium;\r\n    color: $color-text;\r\n  }\r\n  .icon-dismiss {\r\n    font-size: $font-size-large;\r\n  }\r\n}\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/base/base-search-box.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"search-box\"},[_c('i',{staticClass:\"icon-search\"}),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.query),expression:\"query\"}],ref:\"inputBox\",staticClass:\"input-box\",attrs:{\"type\":\"text\",\"placeholder\":_vm.placeholder},domProps:{\"value\":(_vm.query)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.query=$event.target.value}}}),_vm._v(\" \"),_c('i',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.query),expression:\"query\"}],staticClass:\"icon-dismiss\",on:{\"click\":_vm.cleanInputBox}})])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-be1d8cb4\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/base/base-search-box.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-be1d8cb4\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./base-search-box.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./base-search-box.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./base-search-box.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-be1d8cb4\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./base-search-box.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-be1d8cb4\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/base/base-search-box.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"search-list\">\r\n    <transition-group name=\"slide\" tag=\"ul\">\r\n      <li\r\n        class=\"search-item\"\r\n        v-for=\"item of searchData\"\r\n        :key=\"item\"\r\n        @click=\"selectItem(item)\"\r\n      >\r\n        <span class=\"text\">{{ item }}</span>\r\n        <div class=\"icon\" @click.stop=\"deleteItem(item)\">\r\n          <i class=\"icon-close\"></i>\r\n        </div>\r\n      </li>\r\n    </transition-group>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    searchData: {\r\n      type: Array,\r\n      default () {\r\n        return []\r\n      }\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    selectItem (item) {\r\n      this.$emit('selectItem', item)\r\n    },\r\n\r\n    deleteItem (item) {\r\n      this.$emit('deleteItem', item)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '~scss/variables';\r\n@import '~scss/mixin';\r\n\r\n.search-item {\r\n  display: flex;\r\n  align-items: center;\r\n  height: 40px;\r\n  overflow: hidden;\r\n  color: $color-text-l;\r\n  &.slide-enter, &.slide-leave-to {\r\n    height: 0;\r\n  }\r\n  &.slide-enter-active, &.slide-leave-active {\r\n    transition: all .1s;\r\n  }\r\n  .text {\r\n    flex: 1;\r\n    font-size: $font-size-medium-x;\r\n    @include ellipsis();\r\n  }\r\n  .icon {\r\n    @include extend-click();\r\n    .icon-close {\r\n      font-size: $font-size-small;\r\n      color: $color-text-d;\r\n    }\r\n  }\r\n}\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/base/base-search-list.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"search-list\"},[_c('transition-group',{attrs:{\"name\":\"slide\",\"tag\":\"ul\"}},_vm._l((_vm.searchData),function(item){return _c('li',{key:item,staticClass:\"search-item\",on:{\"click\":function($event){_vm.selectItem(item)}}},[_c('span',{staticClass:\"text\"},[_vm._v(_vm._s(item))]),_vm._v(\" \"),_c('div',{staticClass:\"icon\",on:{\"click\":function($event){$event.stopPropagation();_vm.deleteItem(item)}}},[_c('i',{staticClass:\"icon-close\"})])])}))],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6c4a613e\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/base/base-search-list.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6c4a613e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./base-search-list.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./base-search-list.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./base-search-list.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6c4a613e\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./base-search-list.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6c4a613e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/base/base-search-list.vue\n// module id = null\n// module chunks = ","<template>\r\n  <ul class=\"switches\">\r\n    <li\r\n      :class=\"['switch-item', {active: currentSwitchIndex === index}]\"\r\n      v-for=\"(item, index) of switchOptions\" :key=\"index\"\r\n      @click=\"selectedSwitch(index)\"\r\n    >{{ item.name }}</li>\r\n  </ul>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    switchOptions: {\r\n      type: Array,\r\n      default () {\r\n        return []\r\n      }\r\n    },\r\n\r\n    currentSwitchIndex: {\r\n      type: Number,\r\n      default: 0\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    selectedSwitch (index) {\r\n      this.$emit('selectSwitch', index)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '~scss/variables';\r\n\r\n.switches {\r\n  display: flex;\r\n  align-items: center;\r\n  margin: 0 auto;\r\n  width: 240px;\r\n  border: 1px solid $color-highlight-background;\r\n  border-radius: 5px;\r\n  text-align: center;\r\n  .switch-item {\r\n    flex: 1;\r\n    padding: 8px;\r\n    font-size: $font-size-medium;\r\n    color: $color-text-d;\r\n    &.active {\r\n      background-color: $color-highlight-background;\r\n      color: $color-text;\r\n    }\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/base/base-switches/base-switches.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{staticClass:\"switches\"},_vm._l((_vm.switchOptions),function(item,index){return _c('li',{key:index,class:['switch-item', {active: _vm.currentSwitchIndex === index}],on:{\"click\":function($event){_vm.selectedSwitch(index)}}},[_vm._v(_vm._s(item.name))])}))}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-11e715bc\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/base/base-switches/base-switches.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-11e715bc\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./base-switches.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./base-switches.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./base-switches.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-11e715bc\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./base-switches.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-11e715bc\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/base/base-switches/base-switches.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"songs-list\">\r\n    <ul>\r\n      <li\r\n        class=\"list-item\"\r\n        v-for=\"(item, index) of songsData\"\r\n        :key=\"index\"\r\n        @click=\"selectedItem(item, index)\"\r\n      >\r\n        <div class=\"item-rank\" v-if=\"showRank\">\r\n          <span :class=\"getRank(index)\">{{ getRankText(index) }}</span>\r\n        </div>\r\n        <div class=\"item-content\">\r\n          <h2 class=\"item-title\">{{ item.name }}</h2>\r\n          <p class=\"item-description\">{{ getDescription(item) }}</p>\r\n        </div>\r\n      </li>\r\n    </ul>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    songsData: {\r\n      type: Array,\r\n      default () {\r\n        return []\r\n      }\r\n    },\r\n\r\n    showRank: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    selectedItem (song, index) {\r\n      this.$emit('select', song, index)\r\n    },\r\n\r\n    getRank (index) {\r\n      if (index <= 2) {\r\n        return `icon icon${index}`\r\n      } else {\r\n        return `text`\r\n      }\r\n    },\r\n\r\n    getRankText (index) {\r\n      return index > 2 ? index + 1 : ''\r\n    },\r\n\r\n    getDescription (item) {\r\n      return `${item.artist} · ${item.album}`\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '~scss/variables';\r\n@import '~scss/mixin';\r\n\r\n.songs-list {\r\n  padding: 20px 30px;\r\n  .list-item {\r\n    display: flex;\r\n    align-items: center;\r\n    box-sizing: border-box;\r\n    height: 64px;\r\n    .item-rank {\r\n      flex: 0 0 25px;\r\n      width: 25px;\r\n      margin-right: 30px;\r\n      text-align: center;\r\n      .text {\r\n        color: $color-theme;\r\n        font-size: $font-size-large;\r\n      }\r\n      .icon {\r\n        display: inline-block;\r\n        width: 25px;\r\n        height: 24px;\r\n        background-size: 25px 24px;\r\n        &.icon0 {\r\n          @include bg-img('first')\r\n        }\r\n        &.icon1 {\r\n          @include bg-img('second')\r\n        }\r\n        &.icon2 {\r\n          @include bg-img('third')\r\n        }\r\n      }\r\n    }\r\n    .item-content {\r\n      flex: 1;\r\n      line-height: 20px;\r\n      overflow: hidden;\r\n      .item-title {\r\n        @include ellipsis();\r\n        font-size: $font-size-medium;\r\n        color: $color-text;\r\n      }\r\n      .item-description {\r\n        @include ellipsis();\r\n        margin-top: 4px;\r\n        font-size: $font-size-medium;\r\n        color: $color-text-d;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/base/base-songs-list/base-songs-list.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"songs-list\"},[_c('ul',_vm._l((_vm.songsData),function(item,index){return _c('li',{key:index,staticClass:\"list-item\",on:{\"click\":function($event){_vm.selectedItem(item, index)}}},[(_vm.showRank)?_c('div',{staticClass:\"item-rank\"},[_c('span',{class:_vm.getRank(index)},[_vm._v(_vm._s(_vm.getRankText(index)))])]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"item-content\"},[_c('h2',{staticClass:\"item-title\"},[_vm._v(_vm._s(item.name))]),_vm._v(\" \"),_c('p',{staticClass:\"item-description\"},[_vm._v(_vm._s(_vm.getDescription(item)))])])])}))])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5d13dc1c\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/base/base-songs-list/base-songs-list.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5d13dc1c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./base-songs-list.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./base-songs-list.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./base-songs-list.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5d13dc1c\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./base-songs-list.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-5d13dc1c\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/base/base-songs-list/base-songs-list.vue\n// module id = null\n// module chunks = ","<template>\r\n  <transition name=\"drop\">\r\n    <div class=\"top-tip\" v-show=\"showFlag\" @click.stop=\"hideTopTip\">\r\n      <slot></slot>\r\n    </div>\r\n  </transition>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    hideDelay: {\r\n      type: Number,\r\n      default: 2000\r\n    }\r\n  },\r\n\r\n  data () {\r\n    return {\r\n      showFlag: false\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    showTopTip () {\r\n      this.showFlag = true\r\n\r\n      clearTimeout(this.timer)\r\n      this.timer = setTimeout(() => {\r\n        this.hideTopTip()\r\n      }, this.hideDelay)\r\n    },\r\n\r\n    hideTopTip () {\r\n      this.showFlag = false\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '~scss/variables';\r\n\r\n.top-tip {\r\n  position: fixed;\r\n  top: 0;\r\n  width: 100%;\r\n  z-index: 500;\r\n  background-color: $color-dialog-background;\r\n  &.drop-enter, &.drop-leave-to {\r\n    transform: translateY(-100%);\r\n  }\r\n  &.drop-enter-active, &.drop-leave-active {\r\n    transition: all .3s;\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/base/base-top-tip/base-top-tip.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"drop\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showFlag),expression:\"showFlag\"}],staticClass:\"top-tip\",on:{\"click\":function($event){$event.stopPropagation();return _vm.hideTopTip($event)}}},[_vm._t(\"default\")],2)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-20331496\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/base/base-top-tip/base-top-tip.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-20331496\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./base-top-tip.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./base-top-tip.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./base-top-tip.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-20331496\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./base-top-tip.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-20331496\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/base/base-top-tip/base-top-tip.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"loading\">\r\n    <img src=\"./loading.gif\" width=\"24\" height=\"24\" alt=\"loading-pic\">\r\n    <p class=\"description\">{{ title }}</p>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    title: {\r\n      type: String,\r\n      default: `正在载入...`\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '~scss/variables';\r\n.loading {\r\n  width: 100%;\r\n  text-align: center;\r\n  font-size: 0;\r\n  .description {\r\n    line-height: 20px;\r\n    font-size: $font-size-small;\r\n    color: $color-text-l;\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/base/base-loading/base-loading.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"loading\"},[_c('img',{attrs:{\"src\":require(\"./loading.gif\"),\"width\":\"24\",\"height\":\"24\",\"alt\":\"loading-pic\"}}),_vm._v(\" \"),_c('p',{staticClass:\"description\"},[_vm._v(_vm._s(_vm.title))])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-d8f67a82\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/base/base-loading/base-loading.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-d8f67a82\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./base-loading.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./base-loading.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./base-loading.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-d8f67a82\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./base-loading.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-d8f67a82\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/base/base-loading/base-loading.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"no-result\">\r\n    <div class=\"no-result-icon\"></div>\r\n    <div class=\"no-result-text\">{{ title }}</div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    title: {\r\n      type: String,\r\n      default: ''\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '~scss/variables';\r\n@import '~scss/mixin';\r\n\r\n.no-result {\r\n  text-align: center;\r\n  .no-result-icon {\r\n    width: 50px;\r\n    height: 50px;\r\n    margin: 0 auto;\r\n    @include bg-img('no-result');\r\n    background-size: 50px 50px;\r\n  }\r\n  .no-result-text {\r\n    margin-top: 10px;\r\n    font-size: $font-size-medium;\r\n    color: $color-text-d;\r\n  }\r\n}\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/base/base-no-result/base-no-result.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"no-result\"},[_c('div',{staticClass:\"no-result-icon\"}),_vm._v(\" \"),_c('div',{staticClass:\"no-result-text\"},[_vm._v(_vm._s(_vm.title))])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-b351034a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/base/base-no-result/base-no-result.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-b351034a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./base-no-result.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./base-no-result.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./base-no-result.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-b351034a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./base-no-result.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-b351034a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/base/base-no-result/base-no-result.vue\n// module id = null\n// module chunks = ","// Promise 封装 JSONP\r\n// 简单 JSONP 的实现 https://github.com/webmodules/jsonp\r\nimport originJSONP from 'jsonp'\r\n\r\nexport default function jsonp (url, data, option) {\r\n  url += (url.indexOf('?') < 0 ? '?' : '&') + param(data)\r\n\r\n  return new Promise((resolve, reject) => {\r\n    originJSONP(url, option, (err, data) => {\r\n      !err ? resolve(data) : reject(err)\r\n    })\r\n  })\r\n}\r\n\r\n// 拼接 url\r\nfunction param (data) {\r\n  let url = ''\r\n  for (let key in data) {\r\n    let value = data[key] !== undefined ? data[key] : '' // 检测 key 是否为空，防止向后端传入 undefined\r\n    url += `&${key}=${encodeURIComponent(value)}`\r\n  }\r\n  // String.prototype.substring(indexStart[, indexEnd])\r\n  return url ? url.substring(1) : ''\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/js/jsonp.js","export const commonParams = {\r\n  g_tk: 5381,\r\n  inCharset: 'utf-8',\r\n  outCharset: 'utf-8',\r\n  notice: 0,\r\n  format: 'jsonp'\r\n}\r\n\r\nexport const options = {\r\n  param: 'jsonpCallback'\r\n}\r\n\r\nexport const ERR_OK = 0\r\n\r\n// 部分 ajax 接口接受 jsonp 请求\r\n\r\nexport const RECOMMEND_URL = 'https://c.y.qq.com/musichall/fcgi-bin/fcg_yqqhomepagerecommend.fcg'\r\n\r\nexport const PLAYLIST_URL = '/api/getPlayList'\r\n\r\nexport const ARTIST_URL = 'https://c.y.qq.com/v8/fcg-bin/v8.fcg'\r\n\r\nexport const ARTIST_DETAIL_URL = 'https://c.y.qq.com/v8/fcg-bin/fcg_v8_singer_track_cp.fcg'\r\n\r\nexport const LYRIC_URL = '/api/getLyric'\r\n\r\nexport const RECOMMEND_ITEM_URL = '/api/getRecommendItem'\r\n\r\n// 移动端 ranking-list url\r\nexport const RANKING_LIST_URL = 'https://c.y.qq.com/v8/fcg-bin/fcg_myqq_toplist.fcg'\r\n\r\n// 桌面端 ranking-list url\r\n// export const RANKING_LIST_URL = 'https://c.y.qq.com/v8/fcg-bin/fcg_v8_toplist_opt.fcg'\r\n\r\n// 桌面端 url（jsonp 请求），若是移动端则是 ajax 请求\r\nexport const FULL_RANKING_LIST_URL = 'https://c.y.qq.com/v8/fcg-bin/fcg_v8_toplist_cp.fcg'\r\n\r\nexport const HOTKEY_URL = 'https://c.y.qq.com/splcloud/fcgi-bin/gethotkey.fcg'\r\n\r\n// 移动端 search url\r\n// export const SEARCH_URL = 'https://c.y.qq.com/soso/fcgi-bin/search_for_qq_cp'\r\n\r\nexport const SEARCH_URL = '/api/search'\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/config.js","import jsonp from 'common/js/jsonp'\r\nimport { HOTKEY_URL, SEARCH_URL, commonParams, options } from './config'\r\nimport axios from 'axios'\r\n\r\nexport function getHotKey () {\r\n  const data = {\r\n    ...commonParams,\r\n    uin: 0,\r\n    format: 'json',\r\n    platform: 'h5',\r\n    needNewCode: 1,\r\n    _: +new Date()\r\n  }\r\n\r\n  return jsonp(HOTKEY_URL, data, options)\r\n}\r\n\r\nexport function searchKey (key, page, zhida, perPage) {\r\n  const data = {\r\n    ...commonParams,\r\n    w: key,\r\n    p: page, // 第几页\r\n    catZhida: zhida ? 1 : 0, // 是否解锁显示歌手\r\n    perpage: perPage, // 每次返回的结果长度（每页结果数）\r\n    n: perPage,\r\n    uin: 0,\r\n    format: 'json',\r\n    platform: 'yqq',\r\n    needNewCode: 1,\r\n    zhidaqu: 1,\r\n    t: 0,\r\n    flag: 1,\r\n    ie: 'utf-8',\r\n    sem: 1,\r\n    aggr: 0,\r\n    remoteplace: 'txt.mqq.all',\r\n    _: +new Date()\r\n  }\r\n\r\n  // return jsonp(SEARCH_URL, data, options)\r\n  return axios.get(SEARCH_URL, {\r\n    params: data\r\n  }).then(res => res.data)\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/the-search.js","import { getLyric } from 'api/get-lyric'\r\nimport { ERR_OK } from 'api/config'\r\nimport { Base64 } from 'js-base64'\r\n\r\nexport default class Song {\r\n  constructor ({ id, mid, artist, name, album, duration, image, url }) {\r\n    this.id = id\r\n    this.mid = mid\r\n    this.artist = artist\r\n    this.name = name\r\n    this.album = album\r\n    this.duration = duration\r\n    this.image = image\r\n    this.url = url\r\n  }\r\n\r\n  getLyric () {\r\n    if (this.lyric) { // 存在 this.lyric 忽略请求\r\n      return Promise.resolve(this.lyric) // 保证返回的是一个 promise 对象\r\n    }\r\n\r\n    /**\r\n     * 因为需要对 this.lyric 进行数据处理，那么需要 getSongLyric() 返回一个 promise\r\n     * 对象。返回 promise 对象，而不直接返回值的原因是，需要对 retcode 不为 ERR_OK\r\n     * 的情况处理。\r\n     */\r\n\r\n    return new Promise((resolve, reject) => {\r\n      getLyric(this.mid).then(res => {\r\n        if (res.retcode === ERR_OK) {\r\n          this.lyric = Base64.decode(res.lyric)\r\n          resolve(this.lyric)\r\n        } else {\r\n          reject(new Error('No lyric'))\r\n        }\r\n      })\r\n    })\r\n  }\r\n}\r\n\r\nexport function createSong (musicData) {\r\n  return new Song({\r\n    id: musicData.songid,\r\n    mid: musicData.songmid,\r\n    artist: filterArtist(musicData.singer),\r\n    name: musicData.songname,\r\n    album: musicData.albumname,\r\n    duration: musicData.interval,\r\n    image: `https://y.gtimg.cn/music/photo_new/T002R300x300M000${musicData.albummid}.jpg?max_age=2592000`,\r\n    url: `http://isure.stream.qqmusic.qq.com/C100${musicData.songmid}.m4a?fromtag=32`\r\n  })\r\n}\r\n\r\nfunction filterArtist (artist) {\r\n  let ret = []\r\n  if (!artist) {\r\n    return ''\r\n  }\r\n  artist.forEach(item => {\r\n    ret.push(item.name)\r\n  })\r\n  return ret.join('/')\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/js/normalize-song.js","import { commonParams, LYRIC_URL } from './config'\r\nimport axios from 'axios'\r\n\r\nexport function getLyric (mid) {\r\n  const data = {\r\n    ...commonParams,\r\n    ...{\r\n      songmid: mid,\r\n      pcachetime: +new Date(),\r\n      platform: 'yqq',\r\n      hostUin: 0,\r\n      needNewCode: 0,\r\n      g_tk: 5381,\r\n      format: 'json'\r\n    }\r\n  }\r\n\r\n  return axios.get(LYRIC_URL, {\r\n    params: data\r\n  }).then(res => res.data)\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/get-lyric.js","export default class Artist {\r\n  constructor ({id, name}) {\r\n    this.id = id\r\n    this.name = name\r\n    this.avatar = `https://y.gtimg.cn/music/photo_new/T001R300x300M000${id}.jpg?max_age=2592000`\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/js/normalize-artist.js","<template>\r\n  <BaseScroll\r\n    class=\"search-result\"\r\n    ref=\"scroll\"\r\n    :data=\"searchResult\" :pullUp=\"pullUp\" :beforeScroll=\"beforeScroll\"\r\n    @scrollToEnd=\"searchMore\"\r\n    @beforeScroll=\"listScrolling\"\r\n  >\r\n    <ul class=\"result-list\">\r\n      <li\r\n        class=\"result-item\"\r\n        v-for=\"(item, index) of searchResult\"\r\n        :key=\"index\"\r\n        @click=\"selectItem(item)\"\r\n      >\r\n        <div class=\"item-icon\">\r\n          <i :class=\"getIconClass(item)\"></i>\r\n        </div>\r\n        <div class=\"item-name\">\r\n          <p class=\"text\" v-html=\"getDisplayName(item)\"></p>\r\n        </div>\r\n      </li>\r\n      <BaseLoading v-show=\"hasMore\" title=\"加载中...\"/>\r\n    </ul>\r\n\r\n    <div class=\"no-result-wrapper\" v-show=\"!hasMore && !searchResult.length\">\r\n      <BaseNoResult title=\"抱歉，暂无搜索结果\"/>\r\n    </div>\r\n  </BaseScroll>\r\n</template>\r\n\r\n<script>\r\nimport BaseScroll from 'base/base-scroll'\r\nimport BaseLoading from 'base/base-loading/base-loading'\r\nimport BaseNoResult from 'base/base-no-result/base-no-result'\r\nimport { searchKey } from 'api/the-search'\r\nimport { ERR_OK } from 'api/config'\r\nimport { createSong } from 'common/js/normalize-song'\r\nimport { mapMutations, mapActions } from 'vuex'\r\nimport Artist from 'common/js/normalize-artist'\r\n\r\nconst TYPE_SINGER = 'singer'\r\nconst PER_PAGE = 20 // 每一页的结果总数\r\n\r\nexport default {\r\n  props: {\r\n    query: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n\r\n    showArtist: {\r\n      type: Boolean,\r\n      default: true\r\n    }\r\n  },\r\n\r\n  data () {\r\n    return {\r\n      page: 1,\r\n      searchResult: [],\r\n      hasMore: true, // 是否还有数据未请求\r\n      pullUp: true,\r\n      beforeScroll: true // 用于移动端 input 失焦时机的判断，以在滚动时收起键盘\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    refreshScroll () {\r\n      this.$refs.scroll.refresh()\r\n    },\r\n\r\n    listScrolling () {\r\n      this.$emit('listScrolling')\r\n    },\r\n\r\n    selectItem (item) {\r\n      if (item.type === TYPE_SINGER) {\r\n        const artist = new Artist({\r\n          id: item.singermid,\r\n          name: item.singername\r\n        })\r\n\r\n        this.setArtist(artist)\r\n        this.$router.push({ path: `/search/${artist.id}` })\r\n      } else {\r\n        this.insertSong(item)\r\n      }\r\n\r\n      // 保存历史记录并不是本组件的职责\r\n      this.$emit('selectQuery')\r\n    },\r\n\r\n    searchMore () {\r\n      if (!this.hasMore) return\r\n\r\n      this.page++\r\n      searchKey(this.query, this.page, this.showArtist, PER_PAGE).then(res => {\r\n        if (res.code === ERR_OK) {\r\n          // / 合并 searchResult\r\n          this.searchResult = [...this.searchResult, ...this._normalizeResult(res.data)]\r\n          this._checkMore(res.data)\r\n        } else {\r\n          throw new Error('Check ERR_OK failed')\r\n        }\r\n      })\r\n    },\r\n\r\n    getDisplayName (item) {\r\n      if (item.type === TYPE_SINGER) {\r\n        return item.singername\r\n      } else {\r\n        return `${item.name} - ${item.artist}`\r\n      }\r\n    },\r\n\r\n    getIconClass (item) {\r\n      if (item.type === TYPE_SINGER) {\r\n        return 'icon-mine'\r\n      } else {\r\n        return 'icon-music'\r\n      }\r\n    },\r\n\r\n    search () {\r\n      this.page = 1 // 未清空输入框就再次执行搜索\r\n      this.hasMore = true\r\n      this.$refs.scroll.scrollTo(0, 0)\r\n      searchKey(this.query, this.page, this.showArtist, PER_PAGE).then(res => {\r\n        if (res.code === ERR_OK) {\r\n          // 重置 searchResult\r\n          this.searchResult = this._normalizeResult(res.data)\r\n          this._checkMore(res.data)\r\n        } else {\r\n          throw new Error('Check ERR_OK failed')\r\n        }\r\n      })\r\n    },\r\n\r\n    _checkMore (data) {\r\n      const song = data.song\r\n\r\n      if (!song.list.length || (song.curnum + song.curpage * PER_PAGE) >= song.totalnum) {\r\n        this.hasMore = false\r\n      }\r\n    },\r\n\r\n    _normalizeResult (data) {\r\n      let ret = []\r\n      if (data.zhida && data.zhida.singermid) {\r\n        ret.push({\r\n          ...data.zhida,\r\n          type: TYPE_SINGER\r\n        })\r\n      }\r\n\r\n      if (data.song) {\r\n        ret = [...ret, ...this._normalizeSongs(data.song.list)]\r\n      }\r\n\r\n      return ret\r\n    },\r\n\r\n    _normalizeSongs (list) {\r\n      let ret = []\r\n      list.forEach(item => {\r\n        if (item.songmid && item.albumid) {\r\n          ret.push(createSong(item))\r\n        }\r\n      })\r\n\r\n      return ret\r\n    },\r\n\r\n    ...mapMutations({\r\n      setArtist: 'SET_ARTIST'\r\n    }),\r\n\r\n    ...mapActions([\r\n      'insertSong'\r\n    ])\r\n  },\r\n\r\n  watch: {\r\n    query (newQuery) {\r\n      if (!newQuery) { // 清空输入框时不请求，且初始化组件数据对象\r\n        this.page = 1\r\n        this.searchResult = []\r\n        return\r\n      }\r\n\r\n      this.search()\r\n    }\r\n  },\r\n\r\n  components: {\r\n    BaseScroll,\r\n    BaseLoading,\r\n    BaseNoResult\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '~scss/variables';\r\n@import '~scss/mixin';\r\n\r\n.search-result {\r\n  height: 100%;\r\n  overflow: hidden;\r\n  font-size: 0;\r\n  .result-list {\r\n    padding: 0 30px;\r\n    .result-item {\r\n      display: flex;\r\n      align-items: center;\r\n      padding-bottom: 20px;\r\n      .item-icon {\r\n        flex: 0 30px;\r\n        width: 30px;\r\n        .icon-music, .icon-mine {\r\n          font-size: $font-size-medium;\r\n          color: $color-text-l;\r\n        }\r\n      }\r\n      .item-name {\r\n        flex: 1;\r\n        overflow: hidden;\r\n        .text {\r\n          @include ellipsis();\r\n          font-size: $font-size-medium;\r\n          color: $color-text-l;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .no-result-wrapper {\r\n    position: absolute;\r\n    top: 50%;\r\n    width: 100%;\r\n    transform: translateY(-90%);\r\n  }\r\n}\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/parts-search-result/parts-search-result.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('BaseScroll',{ref:\"scroll\",staticClass:\"search-result\",attrs:{\"data\":_vm.searchResult,\"pullUp\":_vm.pullUp,\"beforeScroll\":_vm.beforeScroll},on:{\"scrollToEnd\":_vm.searchMore,\"beforeScroll\":_vm.listScrolling}},[_c('ul',{staticClass:\"result-list\"},[_vm._l((_vm.searchResult),function(item,index){return _c('li',{key:index,staticClass:\"result-item\",on:{\"click\":function($event){_vm.selectItem(item)}}},[_c('div',{staticClass:\"item-icon\"},[_c('i',{class:_vm.getIconClass(item)})]),_vm._v(\" \"),_c('div',{staticClass:\"item-name\"},[_c('p',{staticClass:\"text\",domProps:{\"innerHTML\":_vm._s(_vm.getDisplayName(item))}})])])}),_vm._v(\" \"),_c('BaseLoading',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.hasMore),expression:\"hasMore\"}],attrs:{\"title\":\"加载中...\"}})],2),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.hasMore && !_vm.searchResult.length),expression:\"!hasMore && !searchResult.length\"}],staticClass:\"no-result-wrapper\"},[_c('BaseNoResult',{attrs:{\"title\":\"抱歉，暂无搜索结果\"}})],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-624de986\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/parts-search-result/parts-search-result.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-624de986\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./parts-search-result.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./parts-search-result.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./parts-search-result.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-624de986\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./parts-search-result.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-624de986\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/parts-search-result/parts-search-result.vue\n// module id = null\n// module chunks = ","// 整个项目的配置文件\r\n\r\n// 语义化播放模式的值\r\nexport const playMode = {\r\n  sequence: 0,\r\n  loop: 1,\r\n  random: 2\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/js/config.js","/**\r\n * mixin 中方法均会被各个组件中的同名属性方法覆盖\r\n */\r\n\r\nimport { mapGetters, mapMutations, mapActions } from 'vuex'\r\nimport { playMode } from 'common/js/config'\r\nimport { shuffle } from 'common/js/util'\r\n\r\nexport const playlistMixin = {\r\n  computed: {\r\n    ...mapGetters([\r\n      'playlist' // 给各个函数传入 uex 中的 state 更易统一参数\r\n    ])\r\n  },\r\n\r\n  mounted () {\r\n    this.handlePlaylist(this.playlist)\r\n  },\r\n\r\n  activated () {\r\n    this.handlePlaylist(this.playlist)\r\n  },\r\n\r\n  watch: {\r\n    playlist (newList) {\r\n      this.handlePlaylist(newList)\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    // 验证 playlist.length === 0 来判断是否自适应（添加 bottom: 60px）\r\n    handlePlaylist () {\r\n      throw new Error('Component must implement handlePlaylist method')\r\n    }\r\n\r\n    // 组件内实现如下：\r\n\r\n    // handlePlaylist (playlist) {\r\n    //   const bottom = playlist.length > 0 ? '60px' : ''\r\n\r\n    //   this.$refs.scrollWrapper.style.bottom = bottom\r\n    //   // ... refresh component scroll\r\n    // }\r\n  }\r\n}\r\n\r\nexport const playerMixin = {\r\n  methods: {\r\n    toggleIsFavorite (song) {\r\n      this.isFavoriteSong(song) ? this.deleteMyFavoriteSong(song) : this.saveMyFavoriteSong(song)\r\n    },\r\n\r\n    getFavoriteIcon (song) {\r\n      return this.isFavoriteSong(song) ? 'icon-like' : 'icon-not-like'\r\n    },\r\n\r\n    isFavoriteSong (song) {\r\n      return this.myFavoriteSongs.findIndex(item => item.id === song.id) > -1\r\n    },\r\n\r\n    togglePlayMode () {\r\n      const mode = (this.mode + 1) % 3\r\n      this.setPlayMode(mode)\r\n\r\n      let list = null\r\n      if (mode === playMode.random) {\r\n        list = shuffle(this.sequenceList) // 打乱顺序\r\n      } else {\r\n        list = this.sequenceList\r\n      }\r\n      this.resetCurrentIndex(list)\r\n      this.setPlaylist(list)\r\n      /**\r\n       * 经试验，playlist 的改变不会导致 currentSong 的重新计算（在 watch 中设定一\r\n       * 个 console ），currentIndex 会导致触发 watcher ，即 currentSong 会重新计\r\n       * 算。\r\n       */\r\n    },\r\n    // 保证 playlist 改变时不会改变当前播放歌曲\r\n    resetCurrentIndex (list) {\r\n      let index = list.findIndex(item => {\r\n        return item.id === this.currentSong.id\r\n      }) // 在修改后的 list 中找到当前播放的 index\r\n\r\n      this.setCurrentIndex(index)\r\n    },\r\n\r\n    ...mapMutations({\r\n      setPlayingState: 'SET_PLAYING_STATE',\r\n      setCurrentIndex: 'SET_CURRENT_INDEX',\r\n      setPlayMode: 'SET_PLAY_MODE',\r\n      setPlaylist: 'SET_PLAYLIST'\r\n    }),\r\n\r\n    ...mapActions([\r\n      'saveMyFavoriteSong',\r\n      'deleteMyFavoriteSong'\r\n    ])\r\n  },\r\n\r\n  computed: {\r\n    iconMode () {\r\n      return this.mode === playMode.sequence ? 'icon-sequence' : this.mode === playMode.loop ? 'icon-loop' : 'icon-random'\r\n    },\r\n\r\n    ...mapGetters([\r\n      'playlist',\r\n      'mode',\r\n      'sequenceList',\r\n      'currentSong',\r\n      'myFavoriteSongs'\r\n    ])\r\n  }\r\n}\r\n\r\nexport const searchMixin = {\r\n  data () {\r\n    return {\r\n      queryKey: '',\r\n      refreshScrollDelay: 100 // 值大于等于 transition-group 动画的值(源于 search-list 组件)\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    selectQueryRecord (item) {\r\n      /**\r\n       * 调用子组件方法传值的优势在于:\r\n       * 1. 不用设置不必要的 props 和 watch\r\n       * 2. 代码量更少\r\n       * 适用于不需要监听的数据传递，注重传递这一行为\r\n       */\r\n\r\n      this.$refs.searchBox.setQuery(item)\r\n    },\r\n\r\n    getQueryKey (query) {\r\n      this.queryKey = query\r\n    },\r\n\r\n    blurInputBox () {\r\n      this.$refs.searchBox.blurInputBar()\r\n    },\r\n\r\n    saveSearchItem () {\r\n      this.saveSearchHistory(this.queryKey)\r\n    },\r\n\r\n    ...mapActions([\r\n      'saveSearchHistory',\r\n      'deleteSearchHistory' // 自动传入载荷\r\n    ])\r\n  },\r\n\r\n  computed: {\r\n    ...mapGetters([\r\n      'searchHistory'\r\n    ])\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/js/mixin.js","<template>\r\n  <transition name=\"slide\">\r\n    <div class=\"add-to-list\" v-show=\"hasShowComponent\">\r\n\r\n      <div class=\"header\">\r\n        <h1 class=\"title\">添加歌曲到列表</h1>\r\n        <div class=\"close-btn\" @click=\"hideComponent\">\r\n          <i class=\"icon-close\"></i>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"search-box-wrapper\">\r\n        <BaseSearchBox\r\n          ref=\"searchBox\" placeholder=\"搜索歌曲\"\r\n          @queryChange=\"getQueryKey\"\r\n        />\r\n      </div>\r\n\r\n      <div class=\"shortcut\" v-show=\"!queryKey\">\r\n        <BaseSwitches\r\n          :switchOptions=\"switchOptions\"\r\n          :currentSwitchIndex=\"switchIndex\"\r\n          @selectSwitch=\"toggleSwitchIndex\"\r\n        />\r\n\r\n        <div class=\"list-wrapper\">\r\n          <!-- 最近播放 -->\r\n          <BaseScroll\r\n            class=\"scroll-wrapper\"\r\n            ref=\"scrollPlayedList\"\r\n            v-if=\"switchIndex === 0\"\r\n            :data=\"playedHistory\"\r\n          >\r\n            <div class=\"currentPlay-list\">\r\n              <BaseSongsList :songsData=\"playedHistory\" @select=\"selectedSong\"/>\r\n            </div>\r\n          </BaseScroll>\r\n          <!-- 搜索历史 -->\r\n          <BaseScroll\r\n            class=\"scroll-wrapper\"\r\n            ref=\"scrollSearchList\"\r\n            v-if=\"switchIndex === 1\"\r\n            :data=\"searchHistory\"\r\n            :refreshDelay=\"refreshScrollDelay\"\r\n          >\r\n          <!-- better-scroll 组件封装，其子元素不能直接是另一个组件，子组件必须有一个包裹，否则无法正确挂载 -->\r\n            <div class=\"result-wrapper\">\r\n              <BaseSearchList\r\n                :searchData=\"searchHistory\"\r\n                @selectItem=\"selectQueryRecord\"\r\n                @deleteItem=\"deleteSearchHistory\"\r\n              />\r\n            </div>\r\n          </BaseScroll>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"search-result-wrapper\" v-show=\"queryKey\">\r\n        <PartsResult\r\n          :query=\"queryKey\"\r\n          :showArtist=\"false\"\r\n          @selectQuery=\"saveSearch\"\r\n          @listScrolling=\"blurInputBox\"\r\n        />\r\n      </div>\r\n\r\n      <BaseTopTip ref=\"topTip\" :hideDelay=\"topTipDelay\">\r\n        <div class=\"tip-title\">\r\n          <i class=\"icon-ok\"></i>\r\n          <span class=\"text\">一首歌曲已经添加到列表</span>\r\n        </div>\r\n      </BaseTopTip>\r\n\r\n    </div>\r\n  </transition>\r\n</template>\r\n\r\n<script>\r\nimport BaseSearchBox from 'base/base-search-box'\r\nimport BaseScroll from 'base/base-scroll'\r\nimport BaseSearchList from 'base/base-search-list'\r\nimport BaseSwitches from 'base/base-switches/base-switches'\r\nimport BaseSongsList from 'base/base-songs-list/base-songs-list'\r\nimport BaseTopTip from 'base/base-top-tip/base-top-tip'\r\nimport PartsResult from 'components/parts-search-result/parts-search-result'\r\nimport { mapGetters, mapActions } from 'vuex'\r\nimport { searchMixin } from 'common/js/mixin'\r\nimport Song from 'common/js/normalize-song'\r\n\r\nexport default {\r\n  mixins: [searchMixin],\r\n\r\n  data () {\r\n    return {\r\n      hasShowComponent: false,\r\n      switchOptions: [{ name: '最近播放' }, { name: '搜索历史' }],\r\n      switchIndex: 0,\r\n      topTipDelay: 2000\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    showTopTip () {\r\n      this.$refs.topTip.showTopTip()\r\n    },\r\n\r\n    selectedSong (song, index) {\r\n      // song 来自 localeStorage ,转换为 Song 的实例，这样才会具有 lyric 方法\r\n      if (index) {\r\n        this.insertSong(new Song(song))\r\n        this.showTopTip()\r\n      }\r\n    },\r\n\r\n    saveSearch () {\r\n      this.saveSearchItem()\r\n      this.showTopTip()\r\n    },\r\n\r\n    toggleSwitchIndex (index) {\r\n      this.switchIndex = index\r\n    },\r\n\r\n    showComponent () {\r\n      this.hasShowComponent = true\r\n      setTimeout(() => { // this.$nextTick 的一种实现\r\n        if (this.switchIndex === 0) {\r\n          this.$refs.scrollPlayedList.refresh()\r\n        } else {\r\n          this.$refs.scrollSearchList.refresh()\r\n        }\r\n      }, 20)\r\n    },\r\n\r\n    hideComponent () {\r\n      this.hasShowComponent = false\r\n    },\r\n\r\n    ...mapActions([\r\n      'insertSong'\r\n    ])\r\n  },\r\n\r\n  computed: {\r\n    ...mapGetters([\r\n      'playedHistory'\r\n    ])\r\n  },\r\n\r\n  components: {\r\n    BaseSearchBox,\r\n    BaseScroll,\r\n    BaseSearchList,\r\n    BaseSwitches,\r\n    BaseSongsList,\r\n    BaseTopTip,\r\n    PartsResult\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '~scss/variables';\r\n@import '~scss/mixin';\r\n\r\n.add-to-list {\r\n  position: fixed;\r\n  top: 0;\r\n  bottom: 0;\r\n  width: 100%;\r\n  background-color: $color-background;\r\n  z-index: 200;\r\n  &.slide-enter, &.slide-leave-to {\r\n    transform: translateX(100%)\r\n  }\r\n  &.slide-enter-active, &.slide-leave-active {\r\n    transition: all .3s;\r\n  }\r\n  .header {\r\n    position: relative;\r\n    height: 44px;\r\n    text-align: center;\r\n    .title {\r\n      line-height: 44px;\r\n      font-size: $font-size-large;\r\n      color: $color-text;\r\n    }\r\n    .close-btn {\r\n      position: absolute;\r\n      top: 0;\r\n      right: 8px;\r\n      .icon-close {\r\n        display: block;\r\n        padding: 12px;\r\n        font-size: 20px;\r\n        color: $color-theme;\r\n      }\r\n    }\r\n  }\r\n  .list-wrapper {\r\n    position: absolute;\r\n    top: 165px;\r\n    bottom: 0;\r\n    width: 100%;\r\n    .scroll-wrapper {\r\n      height: 100%;\r\n      overflow: hidden;\r\n      .search-list {\r\n        padding: 20px 30px;\r\n      }\r\n    }\r\n  }\r\n  .search-box-wrapper {\r\n    margin: 20px;\r\n  }\r\n  .search-result-wrapper {\r\n    position: fixed;\r\n    top: 124px;\r\n    bottom: 0;\r\n    width: 100%;\r\n  }\r\n  .tip-title {\r\n    text-align: center;\r\n    padding: 18px 0;\r\n    .icon-ok {\r\n      font-size: $font-size-medium;\r\n      color: $color-theme;\r\n      margin-right: 4px;\r\n    }\r\n    .text {\r\n      font-size: $font-size-medium;\r\n      color: $color-text;\r\n    }\r\n  }\r\n}\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/parts-add-to-list/parts-add-to-list.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"slide\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.hasShowComponent),expression:\"hasShowComponent\"}],staticClass:\"add-to-list\"},[_c('div',{staticClass:\"header\"},[_c('h1',{staticClass:\"title\"},[_vm._v(\"添加歌曲到列表\")]),_vm._v(\" \"),_c('div',{staticClass:\"close-btn\",on:{\"click\":_vm.hideComponent}},[_c('i',{staticClass:\"icon-close\"})])]),_vm._v(\" \"),_c('div',{staticClass:\"search-box-wrapper\"},[_c('BaseSearchBox',{ref:\"searchBox\",attrs:{\"placeholder\":\"搜索歌曲\"},on:{\"queryChange\":_vm.getQueryKey}})],1),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.queryKey),expression:\"!queryKey\"}],staticClass:\"shortcut\"},[_c('BaseSwitches',{attrs:{\"switchOptions\":_vm.switchOptions,\"currentSwitchIndex\":_vm.switchIndex},on:{\"selectSwitch\":_vm.toggleSwitchIndex}}),_vm._v(\" \"),_c('div',{staticClass:\"list-wrapper\"},[(_vm.switchIndex === 0)?_c('BaseScroll',{ref:\"scrollPlayedList\",staticClass:\"scroll-wrapper\",attrs:{\"data\":_vm.playedHistory}},[_c('div',{staticClass:\"currentPlay-list\"},[_c('BaseSongsList',{attrs:{\"songsData\":_vm.playedHistory},on:{\"select\":_vm.selectedSong}})],1)]):_vm._e(),_vm._v(\" \"),(_vm.switchIndex === 1)?_c('BaseScroll',{ref:\"scrollSearchList\",staticClass:\"scroll-wrapper\",attrs:{\"data\":_vm.searchHistory,\"refreshDelay\":_vm.refreshScrollDelay}},[_c('div',{staticClass:\"result-wrapper\"},[_c('BaseSearchList',{attrs:{\"searchData\":_vm.searchHistory},on:{\"selectItem\":_vm.selectQueryRecord,\"deleteItem\":_vm.deleteSearchHistory}})],1)]):_vm._e()],1)],1),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.queryKey),expression:\"queryKey\"}],staticClass:\"search-result-wrapper\"},[_c('PartsResult',{attrs:{\"query\":_vm.queryKey,\"showArtist\":false},on:{\"selectQuery\":_vm.saveSearch,\"listScrolling\":_vm.blurInputBox}})],1),_vm._v(\" \"),_c('BaseTopTip',{ref:\"topTip\",attrs:{\"hideDelay\":_vm.topTipDelay}},[_c('div',{staticClass:\"tip-title\"},[_c('i',{staticClass:\"icon-ok\"}),_vm._v(\" \"),_c('span',{staticClass:\"text\"},[_vm._v(\"一首歌曲已经添加到列表\")])])])],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-95cccd42\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/parts-add-to-list/parts-add-to-list.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-95cccd42\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./parts-add-to-list.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./parts-add-to-list.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./parts-add-to-list.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-95cccd42\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./parts-add-to-list.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-95cccd42\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/parts-add-to-list/parts-add-to-list.vue\n// module id = null\n// module chunks = ","<template>\r\n  <transition name=\"list-fade\">\r\n    <div class=\"playlist\" v-show=\"hasShowPlaylist\" @click.self=\"closePlaylist\">\r\n      <div class=\"list-wrapper\">\r\n\r\n        <div class=\"list-header\">\r\n          <h1 class=\"title\">\r\n            <i :class=\"['icon', iconMode]\" @click=\"togglePlayMode\"></i>\r\n            <span class=\"text\">{{ playModeText }}</span>\r\n            <span class=\"clean-playlist\" @click=\"showConfirm\">\r\n              <i class=\"icon-clear\"></i>\r\n            </span>\r\n          </h1>\r\n        </div>\r\n\r\n        <BaseScroll\r\n          ref=\"contentScroll\"\r\n          class=\"list-content\"\r\n          :data=\"sequenceList\"\r\n          :refreshDelay=\"refreshScrollDelay\"\r\n        >\r\n          <transition-group name=\"list\" tag=\"ul\">\r\n            <!-- li 的 key 值必须是绑定 song.id，若绑定 index 则动画始终出现在列表末端 -->\r\n            <li\r\n              ref=\"playlistItem\"\r\n              class=\"content-item\"\r\n              v-for=\"(song, index) of sequenceList\"\r\n              :key=\"song.id\"\r\n              @click=\"selectSong(song, index)\"\r\n            >\r\n              <i :class=\"['current', getCurrentIcon(song)]\"></i>\r\n              <span class=\"item-text\">{{ song.name }}</span>\r\n              <span class=\"like-btn\" @click.stop=\"toggleIsFavorite(song)\">\r\n                <i :class=\"getFavoriteIcon(song)\"></i>\r\n              </span>\r\n              <span class=\"delete-btn\" @click.stop=\"deleteSong(song, index)\">\r\n                <i class=\"icon-close\"></i>\r\n              </span>\r\n            </li>\r\n          </transition-group>\r\n        </BaseScroll>\r\n\r\n        <div class=\"list-operate\">\r\n          <div class=\"add-song\"  @click=\"showAddToList\">\r\n            <i class=\"icon-add\"></i>\r\n            <span class=\"text\">添加歌曲到队列</span>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"list-close\" @click=\"closePlaylist\">\r\n          <span>关闭</span>\r\n        </div>\r\n\r\n        <BaseConfirm\r\n          ref=\"confirm\"\r\n          title=\"是否清空播放列表\"\r\n          confirmBtnText=\"清空\"\r\n          @confirmSubmit=\"deleteAllSongs\"\r\n        />\r\n\r\n      </div>\r\n\r\n      <PartsAddToList ref=\"addToList\"/>\r\n    </div>\r\n  </transition>\r\n</template>\r\n\r\n<script>\r\nimport BaseScroll from 'base/base-scroll'\r\nimport BaseConfirm from 'base/base-confirm'\r\nimport PartsAddToList from 'components/parts-add-to-list/parts-add-to-list'\r\nimport { mapActions } from 'vuex'\r\nimport { playMode } from 'common/js/config'\r\nimport { playerMixin } from 'common/js/mixin'\r\n\r\nexport default {\r\n  mixins: [playerMixin],\r\n  data () {\r\n    return {\r\n      hasShowPlaylist: false,\r\n      refreshScrollDelay: 100 // 值大于等于 transition-group 动画的值\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    showAddToList () {\r\n      this.$refs.addToList.showComponent()\r\n    },\r\n\r\n    deleteAllSongs () {\r\n      this.deleteAllSongsFromList()\r\n      this.closePlaylist()\r\n    },\r\n\r\n    deleteSong (song, index) {\r\n      // 传入的 Index 即是展示性列表 sequenceList 中的 Index\r\n      this.deleteSongFromList({song, index})\r\n\r\n      if (!this.playlist.length) {\r\n        this.closePlaylist()\r\n      }\r\n    },\r\n\r\n    scrollToCurrentSong (current) {\r\n      const index = this.sequenceList.findIndex((song) => {\r\n        return song.id === current.id\r\n      })\r\n      this.$refs.contentScroll.scrollToElement(this.$refs.playlistItem[index], 300)\r\n    },\r\n\r\n    getCurrentIcon (item) {\r\n      if (this.currentSong.id === item.id) {\r\n        return 'icon-play'\r\n      } else {\r\n        return ''\r\n      }\r\n    },\r\n\r\n    selectSong (song, index) {\r\n      // 传入的 Index 即是展示性列表 sequenceList 中的 Index\r\n      if (this.mode === playMode.random) {\r\n        index = this.playlist.findIndex(item => {\r\n          return song.id === item.id\r\n        })\r\n      }\r\n      this.setCurrentIndex(index)\r\n      this.setPlayingState(true)\r\n    },\r\n\r\n    showConfirm () {\r\n      this.$refs.confirm.showConfirm()\r\n    },\r\n\r\n    showPlaylist () {\r\n      this.hasShowPlaylist = true\r\n      // 只有在 display 非 none 值之后才是正确的计算元素高度的时机\r\n      setTimeout(() => { // this.$nextTick\r\n        this.$refs.contentScroll.refresh()\r\n        this.scrollToCurrentSong(this.currentSong)\r\n      }, 20)\r\n    },\r\n\r\n    closePlaylist () {\r\n      this.hasShowPlaylist = false\r\n    },\r\n\r\n    ...mapActions([\r\n      'deleteSongFromList',\r\n      'deleteAllSongsFromList'\r\n    ])\r\n  },\r\n\r\n  watch: {\r\n    currentSong (newSong, oldSong) {\r\n      if (!this.hasShowPlaylist || newSong.id === oldSong.id) {\r\n        return\r\n      }\r\n\r\n      this.scrollToCurrentSong(newSong)\r\n    }\r\n  },\r\n\r\n  computed: {\r\n    playModeText () {\r\n      return this.mode === playMode.sequence ? '列表循环' : this.mode === playMode.loop ? '单曲循环' : '随机播放'\r\n    }\r\n  },\r\n\r\n  components: {\r\n    BaseScroll,\r\n    BaseConfirm,\r\n    PartsAddToList\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '~scss/variables';\r\n@import '~scss/mixin';\r\n\r\n.playlist {\r\n  position: fixed;\r\n  top: 0;\r\n  bottom: 0;\r\n  width: 100%;\r\n  z-index: 200;\r\n  background-color: $color-background-d;\r\n  &.list-fade-enter, &.list-fade-leave-to {\r\n    opacity: 0;\r\n    .list-wrapper {\r\n      transform: translateY(100%);\r\n    }\r\n  }\r\n  &.list-fade-enter-active, &.list-fade-leave-active {\r\n    transition: opacity .3s;\r\n    .list-wrapper {\r\n      transition: all .3s\r\n    }\r\n  }\r\n  .list-wrapper {\r\n    position: absolute;\r\n    bottom: 0;\r\n    width: 100%;\r\n    background-color: $color-highlight-background;\r\n  }\r\n  .list-header {\r\n    position: relative;\r\n    padding: 20px 30px 10px 20px;\r\n    .title {\r\n      display: flex;\r\n      align-items: center;\r\n      .icon {\r\n        margin-right: 10px;\r\n        font-size: 30px;\r\n        color: $color-theme-d;\r\n      }\r\n      .text, .clean-playlist {\r\n        font-size: $font-size-medium;\r\n        color: $color-text-l;\r\n      }\r\n      .text {\r\n        flex: 1;\r\n      }\r\n      .clean-playlist {\r\n        @include extend-click();\r\n        position: relative;\r\n      }\r\n    }\r\n  }\r\n  .list-content {\r\n    padding: 0 30px 0 20px;\r\n    max-height: 240px;\r\n    overflow: hidden;\r\n    .content-item {\r\n      display: flex;\r\n      align-items: center;\r\n      height: 40px;\r\n      overflow: hidden;\r\n      &.list-enter, &.list-leave-to {\r\n        height: 0;\r\n      }\r\n      &.list-enter-active, &.list-leave-active {\r\n        transition: all 0.1s linear;\r\n      }\r\n      .current {\r\n        flex: 0 0 20px;\r\n        width: 20px;\r\n        font-size: $font-size-small;\r\n        color: $color-theme-d;\r\n      }\r\n      .item-text {\r\n        flex: 1;\r\n        @include ellipsis();\r\n        font-size: $font-size-medium;\r\n        color: $color-text-l;\r\n      }\r\n      .like-btn, .delete-btn {\r\n        position: relative;\r\n        font-size: $font-size-small;\r\n        color: $color-theme;\r\n        @include extend-click();\r\n      }\r\n      .like-btn {\r\n        margin-right: 15px;\r\n        .icon-like {\r\n          color: $color-sub-theme;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .list-operate {\r\n    width: 140px;\r\n    margin: 20px auto 30px;\r\n    .add-song {\r\n      display: flex;\r\n      align-items: center;\r\n      padding: 8px 16px;\r\n      border: 1px solid $color-text-l;\r\n      border-radius: 100px;\r\n      color: $color-text-l;\r\n      .icon-add {\r\n        margin-right: 5px;\r\n        font-size: $font-size-small-s;\r\n      }\r\n      .text {\r\n        font-size: $font-size-small;\r\n      }\r\n    }\r\n  }\r\n  .list-close {\r\n    height: 50px;\r\n    background-color: $color-background;\r\n    line-height: 50px;\r\n    text-align: center;\r\n    font-size: $font-size-medium-x;\r\n    color: $color-text-l;\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/parts-playlist/parts-playlist.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"list-fade\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.hasShowPlaylist),expression:\"hasShowPlaylist\"}],staticClass:\"playlist\",on:{\"click\":function($event){if($event.target !== $event.currentTarget){ return null; }return _vm.closePlaylist($event)}}},[_c('div',{staticClass:\"list-wrapper\"},[_c('div',{staticClass:\"list-header\"},[_c('h1',{staticClass:\"title\"},[_c('i',{class:['icon', _vm.iconMode],on:{\"click\":_vm.togglePlayMode}}),_vm._v(\" \"),_c('span',{staticClass:\"text\"},[_vm._v(_vm._s(_vm.playModeText))]),_vm._v(\" \"),_c('span',{staticClass:\"clean-playlist\",on:{\"click\":_vm.showConfirm}},[_c('i',{staticClass:\"icon-clear\"})])])]),_vm._v(\" \"),_c('BaseScroll',{ref:\"contentScroll\",staticClass:\"list-content\",attrs:{\"data\":_vm.sequenceList,\"refreshDelay\":_vm.refreshScrollDelay}},[_c('transition-group',{attrs:{\"name\":\"list\",\"tag\":\"ul\"}},_vm._l((_vm.sequenceList),function(song,index){return _c('li',{key:song.id,ref:\"playlistItem\",refInFor:true,staticClass:\"content-item\",on:{\"click\":function($event){_vm.selectSong(song, index)}}},[_c('i',{class:['current', _vm.getCurrentIcon(song)]}),_vm._v(\" \"),_c('span',{staticClass:\"item-text\"},[_vm._v(_vm._s(song.name))]),_vm._v(\" \"),_c('span',{staticClass:\"like-btn\",on:{\"click\":function($event){$event.stopPropagation();_vm.toggleIsFavorite(song)}}},[_c('i',{class:_vm.getFavoriteIcon(song)})]),_vm._v(\" \"),_c('span',{staticClass:\"delete-btn\",on:{\"click\":function($event){$event.stopPropagation();_vm.deleteSong(song, index)}}},[_c('i',{staticClass:\"icon-close\"})])])}))],1),_vm._v(\" \"),_c('div',{staticClass:\"list-operate\"},[_c('div',{staticClass:\"add-song\",on:{\"click\":_vm.showAddToList}},[_c('i',{staticClass:\"icon-add\"}),_vm._v(\" \"),_c('span',{staticClass:\"text\"},[_vm._v(\"添加歌曲到队列\")])])]),_vm._v(\" \"),_c('div',{staticClass:\"list-close\",on:{\"click\":_vm.closePlaylist}},[_c('span',[_vm._v(\"关闭\")])]),_vm._v(\" \"),_c('BaseConfirm',{ref:\"confirm\",attrs:{\"title\":\"是否清空播放列表\",\"confirmBtnText\":\"清空\"},on:{\"confirmSubmit\":_vm.deleteAllSongs}})],1),_vm._v(\" \"),_c('PartsAddToList',{ref:\"addToList\"})],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-740f2738\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/parts-playlist/parts-playlist.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-740f2738\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./parts-playlist.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./parts-playlist.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./parts-playlist.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-740f2738\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./parts-playlist.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-740f2738\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/parts-playlist/parts-playlist.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"music-player\" v-show=\"playlist.length > 0\">\r\n    <!-- @leave=\"leave\" 是与我定义的样式无关，因为删除样式一样 leave-to 类名会卡住 -->\r\n    <transition\r\n      name=\"normal\"\r\n      @enter=\"enter\"\r\n      @after-enter=\"afterEnter\"\r\n      @after-leave=\"afterLeave\"\r\n      type=\"transition\"\r\n    ><!-- FIXME: @leave=\"leave\" 与 leave-active leave-to 冲突 -->\r\n      <div class=\"normal-player\" v-show=\"fullScreen\">\r\n        <div class=\"background\">\r\n          <img\r\n            :src=\"currentSong.image\"\r\n            width=\"100%\" height=\"100%\" alt=\"player-background\"\r\n          >\r\n        </div>\r\n        <!-- 头部组件 -->\r\n        <div class=\"parts-top\">\r\n          <div class=\"back-btn\" @click=\"closeFullScreen\">\r\n            <i class=\"icon-back\"></i>\r\n          </div>\r\n          <h2 class=\"top-title\" v-html=\"currentSong.name\"></h2>\r\n          <div class=\"top-subtitle\" v-html=\"currentSong.artist\"></div>\r\n        </div>\r\n\r\n        <!-- 中间旋转组件 -->\r\n        <div\r\n          class=\"parts-middle\"\r\n          @touchstart.prevent=\"middleTouchStart\"\r\n          @touchmove.prevent=\"middleTouchMove\"\r\n          @touchend.prevent=\"middleTouchEnd\"\r\n        >\r\n          <div class=\"middle-album\" ref=\"album\">\r\n            <div class=\"cd-wrapper\" ref=\"cdWrapper\">\r\n              <div :class=\"['cd', rotateCD]\">\r\n                <img\r\n                  :src=\"currentSong.image\"\r\n                  class=\"cd-img\"\r\n                  width=\"100%\" height=\"100%\" alt=\"cd-img\"\r\n                >\r\n              </div>\r\n            </div>\r\n            <div class=\"playing-lyric-wrapper\">\r\n              <p class=\"playing-lyric\">{{ playingLyric }}</p>\r\n            </div>\r\n          </div>\r\n\r\n          <BaseScroll\r\n            class=\"middle-lyric\" ref=\"lyricList\"\r\n            :data=\"currentLyric && currentLyric.lines\"\r\n          >\r\n            <div class=\"lyric-wrapper\">\r\n              <div v-if=\"currentLyric\">\r\n                <p\r\n                  ref=\"lyricLine\"\r\n                  v-for=\"(item, index) of currentLyric.lines\"\r\n                  :class=\"['lyric-text', currentLineNum === index ? 'current' : '']\"\r\n                  :key=\"index\"\r\n                >{{ item.txt }}</p>\r\n              </div>\r\n            </div>\r\n          </BaseScroll>\r\n        </div>\r\n\r\n        <!-- 底部控制组件 -->\r\n        <div class=\"parts-bottom\">\r\n          <div class=\"dot-wrapper\">\r\n            <span :class=\"['dot', currentShow === 'cd' ? 'active' : '']\"></span>\r\n            <span :class=\"['dot', currentShow === 'lyric' ? 'active' : '']\"></span>\r\n          </div>\r\n          <!-- 进度条时间 -->\r\n          <div class=\"progress-wrapper\">\r\n            <span class=\"time time-l\">{{ currentTime | formatTime }}</span>\r\n            <div class=\"progress-bar-wrapper\">\r\n              <BaseProgressBar :currentPercent=\"playPercent\" @percentChange=\"onProgressChange\"/>\r\n            </div>\r\n            <span class=\"time time-r\">{{ currentSong.duration | formatTime }}</span>\r\n          </div>\r\n          <!-- 播放控件 -->\r\n          <div class=\"player-operators\">\r\n\r\n            <div class=\"icon icon-left\" @click=\"togglePlayMode\">\r\n              <i :class=\"iconMode\"></i>\r\n            </div>\r\n            <div :class=\"['icon', 'icon-left', disableBtn]\">\r\n              <i class=\"icon-prev\" @click=\"prevSong\"></i>\r\n            </div>\r\n\r\n            <div\r\n              :class=\"['icon', 'icon-center', disableBtn]\"\r\n              @click=\"togglePlaying\"\r\n            >\r\n              <i :class=\"[playing ? 'icon-pause' : 'icon-play']\"></i>\r\n            </div>\r\n\r\n            <div :class=\"['icon', 'icon-right', disableBtn]\">\r\n              <i class=\"icon-next\" @click=\"nextSong\"></i>\r\n            </div>\r\n            <div class=\"icon icon-right\">\r\n              <i :class=\"['icon', getFavoriteIcon(currentSong)]\" @click=\"toggleIsFavorite(currentSong)\"></i>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </transition>\r\n\r\n    <transition name=\"mini\">\r\n      <div class=\"mini-player\" v-show=\"!fullScreen\" @click=\"openFullScreen\">\r\n\r\n        <div class=\"mini-icon\">\r\n          <div :class=\"['img-wrapper', rotateCD]\"><!-- 用于按重心旋转 -->\r\n            <img\r\n              :src=\"currentSong.image\"\r\n              width=\"40\" height=\"40\" alt=\"mini-icon\"\r\n            >\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"mini-detail\">\r\n          <h2 class=\"detail-title\" v-html=\"currentSong.name\"></h2>\r\n          <div class=\"detail-artist\" v-html=\"currentSong.artist\"></div>\r\n        </div>\r\n\r\n        <div class=\"mini-control-btn\" @click.stop.prevent=\"togglePlaying\">\r\n          <BaseProgressCircle :radius=\"radius\" :percent=\"playPercent\">\r\n            <i :class=\"['icon-mini', playing ? 'icon-pause-mini' : 'icon-play-mini']\"></i>\r\n          </BaseProgressCircle>\r\n        </div>\r\n\r\n        <div class=\"mini-play-list\" @click.stop=\"showPlaylist\">\r\n          <i class=\"icon-playlist\"></i>\r\n        </div>\r\n      </div>\r\n    </transition>\r\n\r\n    <PartsPlaylist ref=\"playlist\"/>\r\n\r\n    <!-- w3c audio:canplay 事件在资源可播放时触发 -->\r\n    <audio\r\n      ref=\"audio\"\r\n      :src=\"currentSong.url\"\r\n      @play=\"audioPlay\"\r\n      @error=\"errorPlay\"\r\n      @timeupdate=\"timeUpdate\"\r\n      @ended=\"endPlay\"\r\n    ></audio>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport BaseScroll from 'base/base-scroll'\r\nimport BaseProgressBar from 'base/base-progress-bar'\r\nimport BaseProgressCircle from 'base/base-progress-circle'\r\nimport PartsPlaylist from 'components/parts-playlist/parts-playlist'\r\nimport { mapGetters, mapMutations, mapActions } from 'vuex'\r\nimport { prefixStyle } from 'common/js/control-dom'\r\nimport { playMode } from 'common/js/config'\r\nimport { playerMixin } from 'common/js/mixin'\r\nimport animations from 'create-keyframe-animation'\r\nimport LyricParser from 'lyric-parser'\r\n\r\nconst transform = prefixStyle('transform')\r\nconst transitionDuration = prefixStyle('transitionDuration')\r\n\r\nexport default {\r\n  mixins: [playerMixin],\r\n  data () {\r\n    return {\r\n      songReady: false, // 用于限制点击行为\r\n      currentTime: 0,\r\n      radius: 32,\r\n      currentLyric: null,\r\n      currentLineNum: 0,\r\n      currentShow: 'cd',\r\n      playingLyric: ''\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    /**\r\n     * 监听 play 事件是为防止 DOMException: The play() request was\r\n     * interrupted by a new load request (原因：play()方法执行应在资源加载完成之后)\r\n     */\r\n\r\n    // audio play 事件定义写入播放历史记录\r\n    audioPlay () {\r\n      this.songReady = true\r\n      this.savePlayedHistory(this.currentSong)\r\n    },\r\n\r\n    errorPlay () {\r\n      this.songReady = true // 保证在无法加载资源的情况下，其他按键的功能正常\r\n    },\r\n\r\n    togglePlaying () {\r\n      if (!this.songReady) { return }\r\n      this.setPlayingState(!this.playing)\r\n\r\n      if (this.currentLyric) {\r\n        this.currentLyric.togglePlay()\r\n      }\r\n    },\r\n\r\n    closeFullScreen () {\r\n      // 点击关闭按钮一定是关闭全屏，而不是 !this.fullScreen 切换状态\r\n      this.setFullScreen(false)\r\n    },\r\n\r\n    openFullScreen () {\r\n      this.setFullScreen(true)\r\n    },\r\n\r\n    showPlaylist () {\r\n      this.$refs.playlist.showPlaylist()\r\n    },\r\n\r\n    // 修复暂停时，点击下一曲或上一曲的错误显示\r\n    fixPlayingStatus () {\r\n      if (!this.playing) {\r\n        this.togglePlaying()\r\n      }\r\n    },\r\n\r\n    prevSong () {\r\n      if (!this.songReady) { return }\r\n\r\n      if (this.playlist.length === 1) {\r\n        this.loopPlay()\r\n        // 只有一首歌在播放列表中时，不设置 songReady，因为是设置 currentTime = 0 的原理来循环歌曲的，所以不会触发 play 事件\r\n        return\r\n      } else {\r\n        // 因为只能是 mutations 修改 state ，故不能写 this.currentIndex--\r\n        const index = this.currentIndex === 0 ? this.playlist.length - 1 : this.currentIndex - 1\r\n        this.setCurrentIndex(index)\r\n      }\r\n      this.fixPlayingStatus()\r\n      this.songReady = false // songReady 复位\r\n    },\r\n\r\n    nextSong () {\r\n      if (!this.songReady) { return }\r\n      // 原因同 prevSong, this.currentIndex++ 存在赋值行为\r\n\r\n      if (this.playlist.length === 1) {\r\n        this.loopPlay()\r\n        // 只有一首歌在播放列表中时，不设置 songReady，因为是设置 currentTime = 0 的原理来循环歌曲的，所以不会触发 play 事件\r\n        return\r\n      } else {\r\n        const index = this.currentIndex === this.playlist.length - 1 ? 0 : this.currentIndex + 1\r\n        this.setCurrentIndex(index)\r\n        this.fixPlayingStatus()\r\n      }\r\n      this.songReady = false // songReady 复位\r\n    },\r\n\r\n    timeUpdate (evt) {\r\n      this.currentTime = evt.target.currentTime\r\n    },\r\n\r\n    // 根据位移得到 percent ，传递出 percent 得到目标时间\r\n    // currentTime 是可读写的属性\r\n    onProgressChange (percent) {\r\n      const currentTime = this.currentSong.duration * percent\r\n      this.$refs.audio.currentTime = currentTime\r\n\r\n      if (!this.playing) {\r\n        this.togglePlaying()\r\n      }\r\n\r\n      if (this.currentLyric) {\r\n        this.currentLyric.seek(currentTime * 1000)\r\n      }\r\n    },\r\n\r\n    endPlay () {\r\n      if (this.mode === playMode.loop) {\r\n        this.loopPlay()\r\n        return\r\n      }\r\n\r\n      this.nextSong()\r\n    },\r\n\r\n    loopPlay () {\r\n      this.$refs.audio.currentTime = 0\r\n      this.$refs.audio.play()\r\n\r\n      if (this.currentLyric) {\r\n        this.currentLyric.seek(0)\r\n      }\r\n    },\r\n\r\n    getSongLyric () {\r\n      // getLyric 详见 common/js/normalize-song\r\n      this.currentSong.getLyric().then(lyric => {\r\n        if (this.currentSong.lyric !== lyric) return\r\n\r\n        this.currentLyric = new LyricParser(lyric, this.handleLyric)\r\n        if (this.playing) {\r\n          this.currentLyric.play() // play() 是 LyricParser 的实例方法\r\n        }\r\n      }).catch(() => {\r\n        this.currentLyric = null\r\n        this.playingLyric = ''\r\n        this.currentLineNum = 0\r\n      })\r\n    },\r\n\r\n    handleLyric ({ lineNum, txt }) {\r\n      this.currentLineNum = lineNum\r\n\r\n      if (lineNum > 5) {\r\n        let lineElement = this.$refs.lyricLine[lineNum - 5]\r\n        this.$refs.lyricList.scrollToElement(lineElement, 1000)\r\n      } else {\r\n        this.$refs.lyricList.scrollToElement(0, 0, 1000)\r\n      }\r\n\r\n      this.playingLyric = txt\r\n    },\r\n\r\n    // vue transition 动画 hook\r\n    enter (el, done) {\r\n      const { x, y, scale } = this._getPositionAndScale()\r\n\r\n      let animation = {\r\n        0: {\r\n          transform: `translate3d(${x}px, ${y}px, 0) scale(${scale})`\r\n        },\r\n        60: {\r\n          transform: `translate3d(0, 0, 0) scale(1.1)`\r\n        },\r\n        100: {\r\n          transform: `translate3d(0, 0, 0) scale(1)`\r\n        }\r\n      }\r\n\r\n      animations.registerAnimation({\r\n        name: 'move',\r\n        animation,\r\n        presets: {\r\n          duration: 400,\r\n          easing: 'linear'\r\n        }\r\n      })\r\n      // done 为 enter 钩子的回调函数，执行效果是调用下一阶段钩子，这里是 afterEnter\r\n      animations.runAnimation(this.$refs.cdWrapper, 'move', done)\r\n    },\r\n\r\n    afterEnter () {\r\n      animations.unregisterAnimation('move')\r\n      this.$refs.cdWrapper.style.animation = ''\r\n    },\r\n\r\n    leave (el, done) {\r\n      this.$refs.cdWrapper.style.transition = `all 0.4s`\r\n\r\n      const { x, y, scale } = this._getPositionAndScale()\r\n\r\n      // const transform = prefixStyle('transform')\r\n      this.$refs.cdWrapper.style[transform] = `translate3d(${x}, ${y}, 0) scale(${scale})`\r\n      this.$refs.cdWrapper.addEventListener('transitionend', done)\r\n      done()\r\n    },\r\n\r\n    afterLeave () {\r\n      this.$refs.cdWrapper.style.transition = ''\r\n      this.$refs.cdWrapper.style[transform] = ''\r\n    },\r\n\r\n    middleTouchStart (evt) {\r\n      this.touch.initiated = true\r\n      this.touch.startX = evt.touches[0].pageX\r\n      this.touch.startY = evt.touches[0].pageY\r\n    },\r\n\r\n    middleTouchMove (evt) {\r\n      if (!this.touch.initiated) return\r\n\r\n      const displaceX = evt.touches[0].pageX - this.touch.startX\r\n      const displaceY = evt.touches[0].pageY - this.touch.startY\r\n\r\n      // 排除纵向滚动\r\n      if (Math.abs(displaceY) > Math.abs(displaceX)) return\r\n\r\n      const left = this.currentShow === 'cd' ? 0 : -window.innerWidth\r\n      const offsetWidth = Math.min(0, Math.max(-window.innerWidth, left + displaceX))\r\n\r\n      this.touch.percent = Math.abs(offsetWidth / window.innerWidth)\r\n\r\n      this.$refs.album.style.opacity = `${1 - this.touch.percent}`\r\n      this.$refs.album.style[transitionDuration] = `0ms`\r\n\r\n      this.$refs.lyricList.$el.style[transform] = `translate(${offsetWidth}px)`\r\n      this.$refs.lyricList.$el.style[transitionDuration] = `0ms`\r\n    },\r\n\r\n    middleTouchEnd (evt) {\r\n      let offsetWidth = 0\r\n      let offsetOpacity = 0\r\n\r\n      if (this.currentShow === 'cd') {\r\n        if (this.touch.percent > 0.1) {\r\n          offsetWidth = -window.innerWidth\r\n          offsetOpacity = 0\r\n          this.currentShow = 'lyric'\r\n          this.touch.percent = 1 // touch 容器中的 percent 要处在正确的位置\r\n        } else {\r\n          offsetWidth = 0\r\n          offsetOpacity = 1\r\n        }\r\n      } else {\r\n        if (this.touch.percent < 0.9) {\r\n          offsetWidth = 0\r\n          offsetOpacity = 1\r\n          this.currentShow = 'cd'\r\n          this.touch.percent = 0 // touch 容器中的 percent 要处在正确的位置\r\n        } else {\r\n          offsetWidth = -window.innerWidth\r\n          offsetOpacity = 0\r\n        }\r\n      }\r\n\r\n      const durationTime = 300\r\n\r\n      this.$refs.lyricList.$el.style[transform] = `translateX(${offsetWidth}px)`\r\n      this.$refs.lyricList.$el.style[transitionDuration] = `${durationTime}ms`\r\n\r\n      this.$refs.album.style.opacity = `${offsetOpacity}`\r\n      this.$refs.album.style[transitionDuration] = `${durationTime}ms`\r\n\r\n      this.touch.initiated = false\r\n    },\r\n\r\n    _getPositionAndScale () {\r\n      const targetWidth = 40\r\n      const paddingLeft = 40\r\n      const paddingBottom = 30 // mini logo 距底边的距离\r\n      const paddingTop = 80 // .parts-top {top: 80px}\r\n      // window.innerWidth 视口（含滚动条）宽度\r\n      const width = window.innerWidth * 0.8\r\n      const scale = targetWidth / width\r\n      const x = -(window.innerWidth / 2 - paddingLeft)\r\n      const y = window.innerHeight - paddingTop - width / 2 - paddingBottom\r\n\r\n      return { x, y, scale }\r\n    },\r\n\r\n    ...mapMutations({\r\n      setFullScreen: 'SET_FULL_SCREEN'\r\n    }),\r\n\r\n    ...mapActions([\r\n      'savePlayedHistory'\r\n    ])\r\n  },\r\n\r\n  filters: {\r\n    formatTime (value) {\r\n      value = value | 0 // 等同于 Math.floor\r\n      const min = value / 60 | 0\r\n      // Number.prototype.toLocaleString() 格式化数字，结果为字符串\r\n      const sec = (value % 60).toLocaleString('zh', { minimumIntegerDigits: 2 })\r\n      return `${min}:${sec}`\r\n    }\r\n  },\r\n\r\n  watch: {\r\n    // nextTick 防止报错 DOMException: The play() request was interrupted by a new load request (原因：异步请求)\r\n    currentSong (newSong, oldSong) {\r\n      // 当列表清空时检验 !newSong.id\r\n      if (!newSong.id || newSong.id === oldSong.id) return // 防止暂停时切模式自动播放问题\r\n\r\n      if (this.currentLyric) {\r\n        this.currentLyric.stop() // 暂停之前 LyricParser 实例\r\n        console.info('%c Lyric timer has been clean', 'color: dodgerblue')\r\n        this.currentTime = 0\r\n        this.playingLyric = ''\r\n        this.currentLineNum = 0\r\n      }\r\n\r\n      clearTimeout(this.timer)\r\n      this.timer = setTimeout(() => {\r\n        this.$refs.audio.play()\r\n        this.getSongLyric()\r\n      }, 1000)\r\n    },\r\n\r\n    playing (newPlaying) {\r\n      const audio = this.$refs.audio\r\n      this.$nextTick(() => { // 同 currentSong（执行 DOM 方法时在数据更新之后）\r\n        newPlaying ? audio.play() : audio.pause()\r\n      })\r\n    }\r\n  },\r\n\r\n  computed: {\r\n    rotateCD () {\r\n      return this.playing ? 'play' : 'play pause'\r\n    },\r\n\r\n    disableBtn () {\r\n      return this.songReady ? '' : 'disable'\r\n    },\r\n\r\n    playPercent () {\r\n      return this.currentTime / this.currentSong.duration\r\n    },\r\n\r\n    ...mapGetters([\r\n      'fullScreen',\r\n      'playing',\r\n      'currentIndex'\r\n    ])\r\n  },\r\n\r\n  created () {\r\n    this.touch = {}\r\n  },\r\n\r\n  components: {\r\n    BaseProgressBar,\r\n    BaseProgressCircle,\r\n    BaseScroll,\r\n    PartsPlaylist\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '~scss/variables';\r\n@import '~scss/mixin';\r\n\r\n@keyframes rotate {\r\n  from {\r\n    transform: rotate(0);\r\n  }\r\n  to {\r\n    transform: rotate(360deg)\r\n  }\r\n}\r\n\r\n%rotate {\r\n  &.play {\r\n    animation: rotate 20s linear infinite;\r\n  }\r\n  &.pause {\r\n    animation-play-state: paused\r\n  }\r\n}\r\n\r\n.music-player {\r\n  font-size: 0;\r\n  .normal-player {\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    z-index: 150;\r\n    background-color: $color-background;\r\n    .background {\r\n      position: absolute;\r\n      top: 0;\r\n      left: 0;\r\n      width: 100%;\r\n      height: 100%;\r\n      z-index: -1;\r\n      filter: blur(20px);\r\n    }\r\n    .parts-top {\r\n      position: relative;\r\n      margin-bottom: 25px;\r\n      text-align: center;\r\n      .back-btn {\r\n        position: absolute;\r\n        top: 0;\r\n        left: 6px;\r\n        width: 40px;\r\n        height: 40px;\r\n        text-align: center;\r\n        .icon-back {\r\n          display: block;\r\n          transform: rotate(0.75turn); // 只能旋转块级元素\r\n          line-height: 40px;\r\n          color: $color-theme;\r\n          font-size: $font-size-large-x;\r\n        }\r\n      }\r\n      .top-title {\r\n        @include ellipsis();\r\n        font-size: $font-size-large;\r\n        color: $color-text;\r\n        line-height: 40px;\r\n      }\r\n      .top-subtitle {\r\n        line-height: 20px;\r\n        font-size: $font-size-medium;\r\n        color: $color-text;\r\n      }\r\n    }\r\n    .parts-middle {\r\n      position: absolute;\r\n      top: 80px;\r\n      bottom: 170px;\r\n      width: 100%;\r\n      // 使得 .middle-album 与 .middle-lyric 并排排列，即使空间不够\r\n      white-space: nowrap;\r\n      .middle-album {\r\n        display: inline-block;\r\n        position: relative;\r\n        vertical-align: top;\r\n        padding-top: 80%;\r\n        width: 100%;\r\n        height: 0;\r\n        .cd-wrapper {\r\n          position: absolute;\r\n          top: 0;\r\n          left: 10%;\r\n          height: 100%;\r\n          width: 80%;\r\n          .cd {\r\n            box-sizing: border-box;\r\n            width: 100%;\r\n            height: 100%;\r\n            border: 10px solid rgba(255, 255, 255, 0.1);\r\n            border-radius: 50%;\r\n            @extend %rotate;\r\n            .cd-img {\r\n              width: 100%;\r\n              height: 100%;\r\n              border-radius: 50%;\r\n            }\r\n          }\r\n        }\r\n        .playing-lyric-wrapper {\r\n          width: 80%;\r\n          margin: 30px auto 0 auto;\r\n          overflow: hidden;\r\n          text-align: center;\r\n          .playing-lyric {\r\n            height: 20px;\r\n            line-height: 20px;\r\n            font-size: $font-size-medium;\r\n            color: $color-text-ll;\r\n          }\r\n        }\r\n      }\r\n      .middle-lyric {\r\n        display: inline-block;\r\n        vertical-align: top;\r\n        width: 100%;\r\n        height: 100%;\r\n        overflow: hidden;\r\n        .lyric-wrapper {\r\n          width: 80%;\r\n          margin: 0 auto;\r\n          overflow: hidden;\r\n          text-align: center;\r\n          .lyric-text {\r\n            line-height: 32px;\r\n            color: $color-text-l;\r\n            font-size: $font-size-medium;\r\n            &.current {\r\n              color: $color-text;\r\n              font-size: $font-size-medium-x;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n    .parts-bottom {\r\n      position: absolute;\r\n      bottom: 50px;\r\n      width: 100%;\r\n      .dot-wrapper {\r\n        text-align: center;\r\n        .dot {\r\n          display: inline-block;\r\n          margin: 0 4px;\r\n          width: 8px;\r\n          height: 8px;\r\n          border-radius: 50%;\r\n          background-color: $color-text-l;\r\n          &.active {\r\n            width: 20px;\r\n            border-radius: 4px;\r\n            background-color: $color-text-ll;\r\n          }\r\n        }\r\n      }\r\n      .progress-wrapper {\r\n        display: flex;\r\n        margin: 0 auto;\r\n        width: 80%;\r\n        padding: 10px 0;\r\n        .time {\r\n          color: $color-text;\r\n          font-size: $font-size-small;\r\n          flex: 0 0 30px;\r\n          line-height: 30px;\r\n          width: 30px;\r\n        }\r\n        .time-r {\r\n          text-align: right;\r\n        }\r\n        .progress-bar-wrapper {\r\n          flex: 1;\r\n        }\r\n      }\r\n      .player-operators {\r\n        display: flex;\r\n        align-items: center;\r\n        color: $color-theme;\r\n        .icon {\r\n          flex: 1;\r\n          &.disable {\r\n            color: rgba(255, 205, 49, 0.5); // $color-theme-d;\r\n          }\r\n        }\r\n        .icon-left {\r\n          text-align: right;\r\n        }\r\n        .icon-center {\r\n          padding: 0 20px;\r\n          text-align: center;\r\n          i {\r\n            font-size: 40px;\r\n          }\r\n        }\r\n        .icon-right {\r\n          text-align: left;\r\n        }\r\n        .icon-like {\r\n          color: $color-sub-theme;\r\n        }\r\n        i {\r\n          font-size: 30px;\r\n        }\r\n      }\r\n    }\r\n    &.normal-enter-active, &.normal-leave-active {\r\n      transition: all .4s;\r\n      .parts-top, .parts-bottom {\r\n        transition: all .4s cubic-bezier(0.86, 0.18, 0.82, 1.32);\r\n      }\r\n    }\r\n    &.normal-enter, &.normal-leave-to {\r\n      opacity: 0;\r\n      .parts-top {\r\n        transform: translate3d(0, -100px, 0);\r\n      }\r\n      .parts-bottom {\r\n        transform: translate3d(0, 100px, 0);\r\n      }\r\n    }\r\n  }\r\n  .mini-player {\r\n    position: fixed;\r\n    bottom: 0;\r\n    display: flex;\r\n    align-items: center;\r\n    width: 100%;\r\n    height: 60px;\r\n    z-index: 180;\r\n    background-color: $color-highlight-background;\r\n    &.mini-enter-active, &.mini-leave-active {\r\n      transition: all .4s;\r\n    }\r\n    &.mini-enter, &.mini-leave-to {\r\n      opacity: 0;\r\n    }\r\n    .mini-icon {\r\n      flex: 0 0 40px;\r\n      width: 40px;\r\n      padding: 0 10px 0 20px;\r\n      .img-wrapper {\r\n        @extend %rotate;\r\n        img {\r\n          border-radius: 50%;\r\n        }\r\n      }\r\n    }\r\n    .mini-detail {\r\n      flex: 1;\r\n      display: flex;\r\n      flex-direction: column;\r\n      justify-content: center;\r\n      line-height: 20px;\r\n      overflow: hidden;\r\n      .detail-title {\r\n        margin-bottom: 2px;\r\n        @include ellipsis();\r\n        font-size: $font-size-medium;\r\n        color: $color-text;\r\n      }\r\n      .detail-artist {\r\n        @include ellipsis();\r\n        font-size: $font-size-small;\r\n        color: $color-text-d;\r\n      }\r\n    }\r\n    .mini-control-btn {\r\n      flex: 0 0 30px;\r\n      width: 30px;\r\n      padding: 0 10px;\r\n      .icon-mini {\r\n        position: absolute; // 相对于 base-progress-circle 中容器元素定位\r\n        top: 0;\r\n        left: 0;\r\n        font-size: 32px;\r\n        color: $color-theme-d;\r\n      }\r\n    }\r\n    .mini-play-list {\r\n      @extend .mini-control-btn;\r\n      .icon-playlist {\r\n        font-size: 30px;\r\n        color: $color-theme-d;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/app-player/app-player.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.playlist.length > 0),expression:\"playlist.length > 0\"}],staticClass:\"music-player\"},[_c('transition',{attrs:{\"name\":\"normal\",\"type\":\"transition\"},on:{\"enter\":_vm.enter,\"after-enter\":_vm.afterEnter,\"after-leave\":_vm.afterLeave}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.fullScreen),expression:\"fullScreen\"}],staticClass:\"normal-player\"},[_c('div',{staticClass:\"background\"},[_c('img',{attrs:{\"src\":_vm.currentSong.image,\"width\":\"100%\",\"height\":\"100%\",\"alt\":\"player-background\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"parts-top\"},[_c('div',{staticClass:\"back-btn\",on:{\"click\":_vm.closeFullScreen}},[_c('i',{staticClass:\"icon-back\"})]),_vm._v(\" \"),_c('h2',{staticClass:\"top-title\",domProps:{\"innerHTML\":_vm._s(_vm.currentSong.name)}}),_vm._v(\" \"),_c('div',{staticClass:\"top-subtitle\",domProps:{\"innerHTML\":_vm._s(_vm.currentSong.artist)}})]),_vm._v(\" \"),_c('div',{staticClass:\"parts-middle\",on:{\"touchstart\":function($event){$event.preventDefault();return _vm.middleTouchStart($event)},\"touchmove\":function($event){$event.preventDefault();return _vm.middleTouchMove($event)},\"touchend\":function($event){$event.preventDefault();return _vm.middleTouchEnd($event)}}},[_c('div',{ref:\"album\",staticClass:\"middle-album\"},[_c('div',{ref:\"cdWrapper\",staticClass:\"cd-wrapper\"},[_c('div',{class:['cd', _vm.rotateCD]},[_c('img',{staticClass:\"cd-img\",attrs:{\"src\":_vm.currentSong.image,\"width\":\"100%\",\"height\":\"100%\",\"alt\":\"cd-img\"}})])]),_vm._v(\" \"),_c('div',{staticClass:\"playing-lyric-wrapper\"},[_c('p',{staticClass:\"playing-lyric\"},[_vm._v(_vm._s(_vm.playingLyric))])])]),_vm._v(\" \"),_c('BaseScroll',{ref:\"lyricList\",staticClass:\"middle-lyric\",attrs:{\"data\":_vm.currentLyric && _vm.currentLyric.lines}},[_c('div',{staticClass:\"lyric-wrapper\"},[(_vm.currentLyric)?_c('div',_vm._l((_vm.currentLyric.lines),function(item,index){return _c('p',{key:index,ref:\"lyricLine\",refInFor:true,class:['lyric-text', _vm.currentLineNum === index ? 'current' : '']},[_vm._v(_vm._s(item.txt))])})):_vm._e()])])],1),_vm._v(\" \"),_c('div',{staticClass:\"parts-bottom\"},[_c('div',{staticClass:\"dot-wrapper\"},[_c('span',{class:['dot', _vm.currentShow === 'cd' ? 'active' : '']}),_vm._v(\" \"),_c('span',{class:['dot', _vm.currentShow === 'lyric' ? 'active' : '']})]),_vm._v(\" \"),_c('div',{staticClass:\"progress-wrapper\"},[_c('span',{staticClass:\"time time-l\"},[_vm._v(_vm._s(_vm._f(\"formatTime\")(_vm.currentTime)))]),_vm._v(\" \"),_c('div',{staticClass:\"progress-bar-wrapper\"},[_c('BaseProgressBar',{attrs:{\"currentPercent\":_vm.playPercent},on:{\"percentChange\":_vm.onProgressChange}})],1),_vm._v(\" \"),_c('span',{staticClass:\"time time-r\"},[_vm._v(_vm._s(_vm._f(\"formatTime\")(_vm.currentSong.duration)))])]),_vm._v(\" \"),_c('div',{staticClass:\"player-operators\"},[_c('div',{staticClass:\"icon icon-left\",on:{\"click\":_vm.togglePlayMode}},[_c('i',{class:_vm.iconMode})]),_vm._v(\" \"),_c('div',{class:['icon', 'icon-left', _vm.disableBtn]},[_c('i',{staticClass:\"icon-prev\",on:{\"click\":_vm.prevSong}})]),_vm._v(\" \"),_c('div',{class:['icon', 'icon-center', _vm.disableBtn],on:{\"click\":_vm.togglePlaying}},[_c('i',{class:[_vm.playing ? 'icon-pause' : 'icon-play']})]),_vm._v(\" \"),_c('div',{class:['icon', 'icon-right', _vm.disableBtn]},[_c('i',{staticClass:\"icon-next\",on:{\"click\":_vm.nextSong}})]),_vm._v(\" \"),_c('div',{staticClass:\"icon icon-right\"},[_c('i',{class:['icon', _vm.getFavoriteIcon(_vm.currentSong)],on:{\"click\":function($event){_vm.toggleIsFavorite(_vm.currentSong)}}})])])])])]),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"mini\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.fullScreen),expression:\"!fullScreen\"}],staticClass:\"mini-player\",on:{\"click\":_vm.openFullScreen}},[_c('div',{staticClass:\"mini-icon\"},[_c('div',{class:['img-wrapper', _vm.rotateCD]},[_c('img',{attrs:{\"src\":_vm.currentSong.image,\"width\":\"40\",\"height\":\"40\",\"alt\":\"mini-icon\"}})])]),_vm._v(\" \"),_c('div',{staticClass:\"mini-detail\"},[_c('h2',{staticClass:\"detail-title\",domProps:{\"innerHTML\":_vm._s(_vm.currentSong.name)}}),_vm._v(\" \"),_c('div',{staticClass:\"detail-artist\",domProps:{\"innerHTML\":_vm._s(_vm.currentSong.artist)}})]),_vm._v(\" \"),_c('div',{staticClass:\"mini-control-btn\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.togglePlaying($event)}}},[_c('BaseProgressCircle',{attrs:{\"radius\":_vm.radius,\"percent\":_vm.playPercent}},[_c('i',{class:['icon-mini', _vm.playing ? 'icon-pause-mini' : 'icon-play-mini']})])],1),_vm._v(\" \"),_c('div',{staticClass:\"mini-play-list\",on:{\"click\":function($event){$event.stopPropagation();return _vm.showPlaylist($event)}}},[_c('i',{staticClass:\"icon-playlist\"})])])]),_vm._v(\" \"),_c('PartsPlaylist',{ref:\"playlist\"}),_vm._v(\" \"),_c('audio',{ref:\"audio\",attrs:{\"src\":_vm.currentSong.url},on:{\"play\":_vm.audioPlay,\"error\":_vm.errorPlay,\"timeupdate\":_vm.timeUpdate,\"ended\":_vm.endPlay}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-dc34fdee\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/app-player/app-player.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-dc34fdee\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./app-player.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./app-player.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./app-player.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-dc34fdee\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./app-player.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-dc34fdee\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/app-player/app-player.vue\n// module id = null\n// module chunks = ","<template>\n  <div id=\"app\">\n    <app-header/>\n\n    <app-tab/>\n\n    <keep-alive>\n      <router-view/>\n    </keep-alive>\n\n    <AppPlayer/>\n  </div>\n</template>\n\n<script>\nimport AppHeader from 'components/app-header/app-header'\nimport AppTab from 'components/app-tab/app-tab'\nimport AppPlayer from 'components/app-player/app-player'\n\nexport default {\n  name: 'App',\n\n  components: {\n    AppHeader,\n    AppTab,\n    AppPlayer\n  }\n}\n</script>\n\n<style lang=\"scss\">\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('app-header'),_vm._v(\" \"),_c('app-tab'),_vm._v(\" \"),_c('keep-alive',[_c('router-view')],1),_vm._v(\" \"),_c('AppPlayer')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-a1d5e70e\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-a1d5e70e\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-a1d5e70e\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"slider\">\r\n    <ul\r\n    class=\"slider-group\"\r\n    @touchstart=\"startTouch($event)\"\r\n    @touchmove=\"touching($event)\"\r\n    @touchend=\"endTouch($event)\"\r\n    :style=\"sliderTransform\"\r\n    >\r\n      <li\r\n        class=\"slider-item\"\r\n        v-for=\"(item, index) of sliderList\"\r\n        :key=\"index\"\r\n      >\r\n        <a :href=\"item.linkUrl\">\r\n          <img :src=\"item.picUrl\" alt=\"slider-pic\">\r\n        </a>\r\n      </li>\r\n    </ul>\r\n    <ul class=\"slider-dots\">\r\n      <li\r\n        v-for=\"(item, index) of sliderData\"\r\n        :key=\"index\"\r\n        :class=\"['slider-dot', {'active': (currentIndex === index + 1) || (currentIndex === sliderListLength - 1 && index === 0) || (currentIndex === 0 && index === sliderListLength - 3)}]\"\r\n      ></li>\r\n    </ul>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    sliderData: {\r\n      type: Array,\r\n      required: true\r\n    },\r\n    interval: {\r\n      type: Number,\r\n      default: 3000\r\n    }\r\n  },\r\n\r\n  data () {\r\n    return {\r\n      currentIndex: 0, // 显示图像的索引\r\n      innerTimer: 0, // 定时器\r\n      isResetIndex: false, // 是否重置 index\r\n      isTransforming: false, // 是否在过渡中\r\n      transformInterval: 500, // 过渡时长\r\n      startLocation: 0,\r\n      movingLocation: 0\r\n    }\r\n  },\r\n\r\n  computed: {\r\n    sliderTransform () {\r\n      return {\r\n        transform: `translateX(${-100 * this.currentIndex}%)`,\r\n        transition: this.isResetIndex ? '' : `transform ${this.transformInterval}ms`\r\n      }\r\n    },\r\n    sliderList () {\r\n      const [firstItem, ...other] = this.sliderData\r\n      // 数组拷贝，防止篡改 props\r\n      return [other[other.length - 1]].concat(this.sliderData, [firstItem])\r\n    },\r\n    sliderListLength () {\r\n      return this.sliderList.length\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    startTouch (evt) {\r\n      if (this.currentIndex === -1 || this.currentIndex === this.sliderListLength) {\r\n        return // 触摸时为页首或页末时，返回\r\n      }\r\n      if (evt.target !== evt.currentTarget) {\r\n        clearInterval(this.innerTimer)\r\n        this.isResetIndex = true\r\n        this.startLocation = evt.targetTouches[0].screenX // 因 js 限制， vue 无法监听属性值的变化\r\n      }\r\n    },\r\n    touching (evt) {\r\n      if (evt.target !== evt.currentTarget) {\r\n        this.movingLocation = evt.targetTouches[0].screenX\r\n        let sliderLength = this.movingLocation - this.startLocation\r\n\r\n        if (this.currentIndex === 0) { // 若开始轮播时向左滑动\r\n          this.currentIndex = 5\r\n        }\r\n\r\n        if (Math.abs(sliderLength) > evt.target.scrollWidth) { // 一次拖动最多只能拖动一张图\r\n          sliderLength = sliderLength < 0 ? -evt.target.scrollWidth : evt.target.scrollWidth\r\n        }\r\n\r\n        const targetWidth = parseInt(window.getComputedStyle(evt.target).width)\r\n        const targetLength = -targetWidth * this.currentIndex + sliderLength\r\n        evt.currentTarget.style.transform = `translateX(${targetLength}px)`\r\n      }\r\n    },\r\n    endTouch (evt) {\r\n      if (evt.target !== evt.currentTarget && this.movingLocation && this.currentIndex < this.sliderListLength - 1) {\r\n        const sliderLength = this.movingLocation - this.startLocation\r\n        if (sliderLength < 0) {\r\n          this.currentIndex++\r\n        } else if (sliderLength > 0) {\r\n          this.currentIndex--\r\n        }\r\n        this.startLocation = 0\r\n        this.movingLocation = 0\r\n        this.isResetIndex = false\r\n        this.startSlider()\r\n      }\r\n    },\r\n    startSlider () {\r\n      this.innerTimer = setInterval(() => {\r\n        this.currentIndex++ // 图片轮转由 currentIndex 驱动\r\n      }, this.interval)\r\n    }\r\n  },\r\n\r\n  watch: {\r\n    currentIndex (newIndex, oldIndex) {\r\n      if ((newIndex === 1 && oldIndex === (this.sliderListLength - 1)) || (oldIndex === 0 && newIndex === this.sliderListLength - 2)) {\r\n        this.isResetIndex = true // 取消过渡动画，transition 属性\r\n        return\r\n      }\r\n\r\n      this.isResetIndex = false\r\n      this.isTransforming = true\r\n\r\n      setTimeout(() => {\r\n        if (this.currentIndex === 0) {\r\n          this.currentIndex = this.sliderListLength - 2\r\n        } else if (this.currentIndex === this.sliderListLength - 1) {\r\n          this.currentIndex = 1\r\n        }\r\n        this.isTransforming = false\r\n      }, this.transformInterval) // 在动画结束后切换\r\n    }\r\n  },\r\n\r\n  mounted () {\r\n    this.startSlider()\r\n  },\r\n\r\n  destroyed () {\r\n    clearInterval(this.innerTimer) // 在组件销毁后清理定时器\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '~scss/variables';\r\n.slider {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  min-width: 100%;\r\n  overflow: hidden;\r\n  font-size: 0;\r\n  .slider-group {\r\n      white-space: nowrap;\r\n    .slider-item {\r\n      display: inline-block;\r\n      width: 100%;\r\n      a {\r\n        display: block;\r\n        height: 100%;\r\n        width: 100%;\r\n        img {\r\n          width: 100%;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .slider-dots {\r\n    position: absolute;\r\n    right: 0;\r\n    left: 0;\r\n    bottom: 12px;\r\n    text-align: center;\r\n    font-size: 0;\r\n    .slider-dot {\r\n      display: inline-block;\r\n      margin: 0 4px;\r\n      width: 8px;\r\n      height: 8px;\r\n      border-radius: 50%;\r\n      background-color: $color-text-l;\r\n      &.active {\r\n        width: 20px;\r\n        border-radius: 4px;\r\n        background-color: $color-text-ll;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/base/base-slider.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"slider\"},[_c('ul',{staticClass:\"slider-group\",style:(_vm.sliderTransform),on:{\"touchstart\":function($event){_vm.startTouch($event)},\"touchmove\":function($event){_vm.touching($event)},\"touchend\":function($event){_vm.endTouch($event)}}},_vm._l((_vm.sliderList),function(item,index){return _c('li',{key:index,staticClass:\"slider-item\"},[_c('a',{attrs:{\"href\":item.linkUrl}},[_c('img',{attrs:{\"src\":item.picUrl,\"alt\":\"slider-pic\"}})])])})),_vm._v(\" \"),_c('ul',{staticClass:\"slider-dots\"},_vm._l((_vm.sliderData),function(item,index){return _c('li',{key:index,class:['slider-dot', {'active': (_vm.currentIndex === index + 1) || (_vm.currentIndex === _vm.sliderListLength - 1 && index === 0) || (_vm.currentIndex === 0 && index === _vm.sliderListLength - 3)}]})}))])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-649cfdbc\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/base/base-slider.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-649cfdbc\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./base-slider.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./base-slider.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./base-slider.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-649cfdbc\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./base-slider.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-649cfdbc\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/base/base-slider.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"recommend\" ref=\"recommend\">\r\n    <BaseScroll class=\"scroll-wrapper\" :data=\"songsList\" ref=\"scroll\">\r\n      <div>\r\n        <!-- 轮播图 -->\r\n        <div class=\"slider-wrapper\"><!-- 仅做 dots 定位的参照物 -->\r\n        <!-- v-if=\"sliderList.length\" 用于在返回数据后再渲染子组件，否则初始化传入初始值空数组，将导致子组件报错 -->\r\n          <BaseSlider v-if=\"sliderList.length\" :sliderData=\"sliderList\" :interval=\"3000\"></BaseSlider>\r\n        </div>\r\n        <!-- 推荐列表 -->\r\n        <div class=\"recommend-list\">\r\n          <h1 class=\"list-title\">热门歌单推荐</h1>\r\n          <ul>\r\n            <li\r\n              class=\"recommend-item\"\r\n              v-for=\"(item, index) of songsList\"\r\n              :key=\"index\"\r\n              @click=\"showListDetail(item)\"\r\n            >\r\n              <div class=\"item-avatar\">\r\n                <!-- vue-lazyLoad 列表图像懒加载 -->\r\n                <img v-lazy=\"item.imgurl\" alt=\"item-avatar\">\r\n              </div>\r\n              <div class=\"item-content\">\r\n                <h2 class=\"item-name\" v-html=\"item.creator.name\"></h2>\r\n                <p class=\"item-description\" v-html=\"item.dissname\"></p>\r\n              </div>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n      <!-- 加载中提示 -->\r\n      <div class=\"loading-container\" v-show=\"!songsList.length\">\r\n        <BaseLoading/>\r\n      </div>\r\n    </BaseScroll>\r\n    <router-view/>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getRecommend, getPlaylist } from '@/api/the-recommend'\r\nimport { ERR_OK } from 'api/config'\r\nimport BaseSlider from 'base/base-slider'\r\nimport BaseScroll from 'base/base-scroll'\r\nimport BaseLoading from 'base/base-loading/base-loading'\r\nimport { playlistMixin } from 'common/js/mixin'\r\nimport { mapMutations } from 'vuex'\r\n\r\nexport default {\r\n  mixins: [playlistMixin],\r\n  data () {\r\n    return {\r\n      sliderList: [],\r\n      songsList: []\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    handlePlaylist (playlist) { // playlist 出自 mixins\r\n      const bottom = this.playlist.length > 0 ? '60px' : ''\r\n\r\n      this.$refs.recommend.style.bottom = bottom\r\n      this.$refs.scroll.refresh()\r\n    },\r\n\r\n    showListDetail (item) {\r\n      this.setRecommendItem(item)\r\n      this.$router.push({path: `/recommend/${item.dissid}`})\r\n    },\r\n\r\n    ...mapMutations({\r\n      setRecommendItem: 'SET_RECOMMEND_ITEM'\r\n    }),\r\n\r\n    _getRecommend () {\r\n      getRecommend().then(res => {\r\n        if (res.code === ERR_OK) {\r\n          this.sliderList = res.data.slider\r\n        } else {\r\n          throw new Error('Check ERR_OK failed')\r\n        }\r\n      })\r\n    },\r\n\r\n    _getPlaylist () {\r\n      getPlaylist().then(res => {\r\n        if (res.code === ERR_OK) {\r\n          this.songsList = res.data.list\r\n        }\r\n      })\r\n    }\r\n\r\n    /**\r\n     * 1.若 .slider-wrapper 不使用 padding 轮播图占位，那么监听 load 事件调用\r\n     *   loadImg 刷新 BaseScroll 组件状态，以重新计算滚动高度\r\n     * 2.给 img 标签添加 @load=\"loadImg\"\r\n     */\r\n\r\n    // loadImg () {\r\n    //   if (!this.hasLoadImg) {  // if 保证只执行唯一一次刷新组件函数，只要一张图加载出来即可\r\n    //     this.$refs.basescroll.refresh()\r\n    //     this.hasLoadImg = true\r\n    //   }\r\n    // }\r\n  },\r\n\r\n  created () {\r\n    this._getRecommend()\r\n    this._getPlaylist()\r\n  },\r\n\r\n  components: {\r\n    BaseSlider,\r\n    BaseScroll,\r\n    BaseLoading\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '~scss/variables';\r\n\r\n.recommend {\r\n  position: fixed;\r\n  top: 88px;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  font-size: 0;\r\n  .scroll-wrapper {\r\n    height: 100%;\r\n    overflow: hidden;\r\n    .slider-wrapper {\r\n      position: relative; // dots 定位参照系\r\n      top: 0;\r\n      left: 0;\r\n      padding-top: 40%; // 轮播图占位\r\n    }\r\n    .recommend-list {\r\n      .list-title {\r\n        text-align: center;\r\n        height: 65px;\r\n        line-height: 65px;\r\n        font-size: 14px;\r\n        color: $color-theme;\r\n      }\r\n      .recommend-item {\r\n        display: flex;\r\n        box-sizing: border-box;\r\n        align-items: center;\r\n        padding: 0 20px 20px 20px;\r\n        .item-avatar {\r\n          flex: 0 0 60px;\r\n          padding-right: 20px;\r\n          img {\r\n            width: 60px;\r\n            height: 60px;\r\n          }\r\n        }\r\n        .item-content {\r\n          display: flex;\r\n          flex-direction: column;\r\n          justify-content: center;\r\n          flex: 1;\r\n          overflow: hidden;\r\n          line-height: 20px;\r\n          .item-name {\r\n            margin-bottom: $font-size-small-s;\r\n            font-size: $font-size-medium;\r\n            color: $color-text;\r\n          }\r\n          .item-description {\r\n            color: $color-text-d;\r\n            font-size: $font-size-medium;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .loading-container {\r\n    position: absolute;\r\n    width: 100%;\r\n    top: 50%; // 左上顶点至已定位祖先容器的 50%\r\n    transform: translateY(-50%); // 上移自身高度的 50%\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/the-recommend/recommend.vue","// 向 jsonp 实现添加参数并封装\r\nimport jsonp from '@/common/js/jsonp'\r\nimport { commonParams, options, RECOMMEND_URL, PLAYLIST_URL, RECOMMEND_ITEM_URL } from './config'\r\nimport axios from 'axios'\r\n\r\nexport function getRecommend () {\r\n  const data = Object.assign({}, commonParams, {\r\n    platform: 'h5',\r\n    uin: 0,\r\n    needNewCode: 1\r\n  })\r\n  return jsonp(RECOMMEND_URL, data, options)\r\n}\r\n\r\nexport function getPlaylist () {\r\n  const data = Object.assign({}, commonParams, { // 将公共参数和个体参数合并\r\n    platform: 'yqq',\r\n    hostUin: 0,\r\n    sin: 0,\r\n    ein: 29,\r\n    sortId: 5,\r\n    needNewCode: 0,\r\n    categoryId: 10000000,\r\n    rnd: Math.random(),\r\n    format: 'json'\r\n  })\r\n\r\n  return axios.get(PLAYLIST_URL, {\r\n    params: data\r\n  }).then(res => res.data)\r\n}\r\n\r\nexport function getRecommendItem (recommendId) {\r\n  const data = {\r\n    ...commonParams,\r\n    ...{\r\n      type: 1,\r\n      json: 1,\r\n      utf8: 1,\r\n      onlysong: 0,\r\n      disstid: recommendId,\r\n      loginUin: 0,\r\n      hostUin: 0,\r\n      platform: 'yqq',\r\n      needNewCode: 0\r\n    }\r\n  }\r\n\r\n  // 在没有 header 验证的情况下直接使用 jsonp 请求 url，否则使用后端 ajax 代理\r\n  // return jsonp(RECOMMEND_ITEM_URL, data, {\r\n  //   ...options,\r\n  //   // https://github.com/webmodules/jsonp/blob/master/index.js#L50\r\n  //   prefix: '', // 回调函数前缀，默认值为 __jp\r\n  //   name: 'playlistinfoCallback' // 回调函数名，默认值为从 0 开始的计数器\r\n  // })\r\n\r\n  return axios.get(RECOMMEND_ITEM_URL, {\r\n    params: data\r\n  }).then(res => res.data)\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/the-recommend.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"recommend\",staticClass:\"recommend\"},[_c('BaseScroll',{ref:\"scroll\",staticClass:\"scroll-wrapper\",attrs:{\"data\":_vm.songsList}},[_c('div',[_c('div',{staticClass:\"slider-wrapper\"},[(_vm.sliderList.length)?_c('BaseSlider',{attrs:{\"sliderData\":_vm.sliderList,\"interval\":3000}}):_vm._e()],1),_vm._v(\" \"),_c('div',{staticClass:\"recommend-list\"},[_c('h1',{staticClass:\"list-title\"},[_vm._v(\"热门歌单推荐\")]),_vm._v(\" \"),_c('ul',_vm._l((_vm.songsList),function(item,index){return _c('li',{key:index,staticClass:\"recommend-item\",on:{\"click\":function($event){_vm.showListDetail(item)}}},[_c('div',{staticClass:\"item-avatar\"},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(item.imgurl),expression:\"item.imgurl\"}],attrs:{\"alt\":\"item-avatar\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"item-content\"},[_c('h2',{staticClass:\"item-name\",domProps:{\"innerHTML\":_vm._s(item.creator.name)}}),_vm._v(\" \"),_c('p',{staticClass:\"item-description\",domProps:{\"innerHTML\":_vm._s(item.dissname)}})])])}))])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.songsList.length),expression:\"!songsList.length\"}],staticClass:\"loading-container\"},[_c('BaseLoading')],1)]),_vm._v(\" \"),_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-57ecffea\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/the-recommend/recommend.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-57ecffea\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./recommend.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./recommend.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./recommend.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-57ecffea\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./recommend.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-57ecffea\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/the-recommend/recommend.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"music-list\">\r\n    <div class=\"back-btn\" @click=\"back\">\r\n      <i class=\"icon-back\"></i>\r\n    </div>\r\n\r\n    <h1 class=\"list-title\" v-html=\"title\" ref=\"title\"></h1>\r\n    <!-- header 背景图 -->\r\n    <div\r\n      class=\"bg-image\"\r\n      ref=\"background\"\r\n      :style=\"[bgStyle, scrollStyle]\"\r\n    >\r\n      <div class=\"play-wrapper\">\r\n        <div class=\"play-btn\" ref=\"playBtn\" v-show=\"songs.length\" @click=\"randomPlaySong\">\r\n          <i class=\"icon-play\"></i>\r\n          <span class=\"play-content\">随机播放全部</span>\r\n        </div>\r\n      </div>\r\n      <div class=\"filter\" ref=\"filter\"></div><!-- 特效层-->\r\n    </div>\r\n    <!-- 歌曲列表 -->\r\n    <div class=\"bg-layer\" ref=\"layer\"></div><!-- 模拟上移层 -->\r\n    <BaseScroll\r\n      class=\"songs-list-wrapper\"\r\n      ref=\"list\"\r\n      :probeType=\"probeType\"\r\n      :listenScroll=\"listenScroll\"\r\n      :data=\"songs\"\r\n      @scroll=\"scrollSongsList\"\r\n    >\r\n      <BaseSongList :songsData=\"songs\" :showRank=\"showRank\" @select=\"selectedSong\"/>\r\n\r\n      <div v-if=\"songs.length === 0\" class=\"loading-wrapper\">\r\n        <BaseLoading/>\r\n      </div>\r\n    </BaseScroll>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapActions } from 'vuex'\r\nimport BaseSongList from 'base/base-songs-list/base-songs-list'\r\nimport BaseScroll from 'base/base-scroll'\r\nimport BaseLoading from 'base/base-loading/base-loading'\r\nimport { prefixStyle } from 'common/js/control-dom'\r\nimport { playlistMixin } from 'common/js/mixin'\r\n\r\nconst RESERVED_HEIGHT = 40\r\nconst transform = prefixStyle('transform')\r\nconst backdrop = prefixStyle('backdrop-filter')\r\n\r\nexport default {\r\n  mixins: [playlistMixin],\r\n  props: {\r\n    bgImage: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n\r\n    title: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n\r\n    songs: {\r\n      type: Array,\r\n      default () {\r\n        return []\r\n      }\r\n    },\r\n\r\n    showRank: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n\r\n  data () {\r\n    return {\r\n      scrollY: 0,\r\n      scrollStyle: {} // 滚动歌曲列表时设置 title 的样式\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    ...mapActions([\r\n      'selectedPlay',\r\n      'randomPlay'\r\n    ]),\r\n    back () {\r\n      this.$router.back()\r\n    },\r\n    scrollSongsList (pos) {\r\n      this.scrollY = pos.y\r\n    },\r\n\r\n    selectedSong (item, index) {\r\n      this.selectedPlay({\r\n        list: this.songs, // 传入整个歌单而非单曲，以填充播放列表\r\n        index // 传入点击的索引，以知晓当前应该播放的歌曲\r\n      })\r\n    },\r\n\r\n    randomPlaySong () {\r\n      this.randomPlay({\r\n        list: this.songs\r\n      })\r\n    },\r\n\r\n    handlePlaylist (playlist) {\r\n      const bottom = playlist.length > 0 ? '60px' : ''\r\n\r\n      this.$refs.list.$el.style.bottom = bottom\r\n      this.$refs.list.refresh()\r\n    }\r\n  },\r\n\r\n  watch: {\r\n    scrollY (newY) {\r\n      const translate = -newY > this.limitLength ? -this.limitLength : newY\r\n\r\n      /**\r\n      * this.bgImageHeight * (newY / this.bgImageHeight) 等于 newY\r\n      * bgImageHeight 的增量为 newY 的绝对值，进而无缝衔接\r\n      */\r\n\r\n      const scalePercent = Math.abs(newY / this.bgImageHeight)\r\n      const blurPercent = Math.min(20 * scalePercent, 20)\r\n\r\n      // bg-layer\r\n      this.$refs.layer.style[transform] = `translateY(${translate}px)`\r\n\r\n      // bg-image\r\n      if (-newY >= this.limitLength) {\r\n        this.scrollStyle = {\r\n          'z-index': 10,\r\n          'padding-top': 0,\r\n          height: `${RESERVED_HEIGHT}px`\r\n        }\r\n        this.$refs.playBtn.style.display = 'none' // 隐藏播放键\r\n      } else {\r\n        this.scrollStyle = {}\r\n        this.$refs.playBtn.style.display = ''\r\n      }\r\n\r\n      // backdrop-filter 仅限 IOS\r\n      this.$refs.filter.style[backdrop] = `blur(${blurPercent}px)`\r\n\r\n      // 下拉列表\r\n      if (newY > 0) {\r\n        this.scrollStyle = {\r\n          transform: `scale(${1 + scalePercent})`,\r\n          'webkit-transform': `scale(${1 + scalePercent})`,\r\n          'z-index': 10\r\n        }\r\n      }\r\n    }\r\n  },\r\n\r\n  computed: {\r\n    bgStyle () {\r\n      return {\r\n        'background-image': `url(${this.bgImage})`\r\n      }\r\n    }\r\n  },\r\n\r\n  created () {\r\n    this.probeType = 3\r\n    this.listenScroll = true\r\n  },\r\n\r\n  mounted () {\r\n    this.$refs.list.$el.style.top = `${this.$refs.background.clientHeight}px`\r\n\r\n    this.bgImageHeight = this.$refs.background.clientHeight\r\n\r\n    this.limitLength = this.bgImageHeight - RESERVED_HEIGHT // 歌曲列表最大上升高度\r\n  },\r\n\r\n  components: {\r\n    BaseSongList,\r\n    BaseScroll,\r\n    BaseLoading\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '~scss/variables';\r\n@import '~scss/mixin';\r\n\r\n.music-list {\r\n  position: fixed;\r\n  z-index: 100;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background-color: $color-background;\r\n  font-size: 0;\r\n  .back-btn {\r\n    position: absolute;\r\n    top: 0;\r\n    left: 6px;\r\n    z-index: 50;\r\n    .icon-back {\r\n      display: block;\r\n      padding: 10px;\r\n      font-size: $font-size-large-x;\r\n      color: $color-theme;\r\n    }\r\n  }\r\n  .list-title {\r\n    position: absolute;\r\n    top: 0;\r\n    left: 10%;\r\n    z-index: 40;\r\n    width: 80%;\r\n    @include ellipsis();\r\n    text-align: center;\r\n    line-height: 40px;\r\n    font-size: $font-size-large;\r\n    color: $color-text;\r\n  }\r\n  .bg-image {\r\n    position: relative;\r\n    padding-top: 70%;\r\n    transform: scale(1);\r\n    z-index: 0;\r\n    height: 0;\r\n    width: 100%;\r\n    transform-origin: top; // 更改变形原点\r\n    background-size: cover;\r\n    .play-wrapper {\r\n      position: absolute;\r\n      bottom: 20px;\r\n      z-index: 50;\r\n      width: 100%;\r\n      .play-btn {\r\n        box-sizing: border-box;\r\n        width: 135px;\r\n        padding: 7px 0;\r\n        margin: 0 auto;\r\n        text-align: center;\r\n        border: 1px solid $color-theme;\r\n        color: $color-theme;\r\n        border-radius: 100px;\r\n        .icon-play, .play-content {\r\n          display: inline-block;\r\n          vertical-align: middle;\r\n        }\r\n        .icon-play {\r\n          margin-right: 6px;\r\n          font-size: $font-size-medium-x;\r\n        }\r\n        .play-content {\r\n          font-size: $font-size-small;\r\n        }\r\n      }\r\n    }\r\n    .filter {\r\n      position: absolute;\r\n      top: 0;\r\n      left: 0;\r\n      bottom: 0;\r\n      right: 0;\r\n      background-color: rgba(7, 17, 27, 0.4);\r\n    }\r\n  }\r\n  .bg-layer {\r\n    position: relative;\r\n    height: 100%;\r\n    background-color: $color-background;\r\n  }\r\n  .songs-list-wrapper {\r\n    position: fixed;\r\n    bottom: 0; // top 在 mounted 钩子实现\r\n    width: 100%;\r\n    // overflow: hidden; // 设置 title 的 z-index 来实现相同效果\r\n    .loading-wrapper {\r\n      position: absolute;\r\n      top: 50%;\r\n      transform: translateY(-50%);\r\n      width: 100%;\r\n    }\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/parts-music-list/parts-music-list.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"music-list\"},[_c('div',{staticClass:\"back-btn\",on:{\"click\":_vm.back}},[_c('i',{staticClass:\"icon-back\"})]),_vm._v(\" \"),_c('h1',{ref:\"title\",staticClass:\"list-title\",domProps:{\"innerHTML\":_vm._s(_vm.title)}}),_vm._v(\" \"),_c('div',{ref:\"background\",staticClass:\"bg-image\",style:([_vm.bgStyle, _vm.scrollStyle])},[_c('div',{staticClass:\"play-wrapper\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.songs.length),expression:\"songs.length\"}],ref:\"playBtn\",staticClass:\"play-btn\",on:{\"click\":_vm.randomPlaySong}},[_c('i',{staticClass:\"icon-play\"}),_vm._v(\" \"),_c('span',{staticClass:\"play-content\"},[_vm._v(\"随机播放全部\")])])]),_vm._v(\" \"),_c('div',{ref:\"filter\",staticClass:\"filter\"})]),_vm._v(\" \"),_c('div',{ref:\"layer\",staticClass:\"bg-layer\"}),_vm._v(\" \"),_c('BaseScroll',{ref:\"list\",staticClass:\"songs-list-wrapper\",attrs:{\"probeType\":_vm.probeType,\"listenScroll\":_vm.listenScroll,\"data\":_vm.songs},on:{\"scroll\":_vm.scrollSongsList}},[_c('BaseSongList',{attrs:{\"songsData\":_vm.songs,\"showRank\":_vm.showRank},on:{\"select\":_vm.selectedSong}}),_vm._v(\" \"),(_vm.songs.length === 0)?_c('div',{staticClass:\"loading-wrapper\"},[_c('BaseLoading')],1):_vm._e()],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-c7a8c2dc\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/parts-music-list/parts-music-list.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-c7a8c2dc\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./parts-music-list.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./parts-music-list.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./parts-music-list.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-c7a8c2dc\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./parts-music-list.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-c7a8c2dc\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/parts-music-list/parts-music-list.vue\n// module id = null\n// module chunks = ","<template>\r\n  <transition name=\"slide\">\r\n    <PartsMusicList\r\n      :bgImage=\"itemBgImage\"\r\n      :title=\"itemTitle\"\r\n      :songs=\"itemSongs\"\r\n    />\r\n  </transition>\r\n</template>\r\n\r\n<script>\r\nimport PartsMusicList from 'components/parts-music-list/parts-music-list'\r\nimport { mapGetters } from 'vuex'\r\nimport { getRecommendItem } from 'api/the-recommend'\r\nimport { ERR_OK } from 'api/config'\r\nimport { createSong } from 'common/js/normalize-song'\r\n\r\nexport default {\r\n  methods: {\r\n    _getRecommendItem (id) {\r\n      if (!this.recommendItem.dissid) { // 在 recommend 详情页刷新时，跳转至首页\r\n        this.$router.push({ path: '/recommend' })\r\n        return\r\n      }\r\n\r\n      getRecommendItem(id).then(res => {\r\n        if (res.code === ERR_OK) {\r\n          this.itemSongs = this._normalizeSongs(res.cdlist[0].songlist)\r\n          console.info('%c Loading recommend songs', 'color: dodgerblue')\r\n        } else {\r\n          throw new Error('Check ERR_OK failed')\r\n        }\r\n      })\r\n    },\r\n\r\n    _normalizeSongs (list) {\r\n      let ret = []\r\n      list.forEach(musicData => {\r\n        if (musicData.songmid && musicData.albummid) {\r\n          ret.push(createSong(musicData))\r\n        }\r\n      })\r\n      return ret\r\n    }\r\n  },\r\n\r\n  computed: {\r\n    itemTitle () {\r\n      if (!this.recommendItem.dissid) { // 在 recommend 详情页刷新时\r\n        return\r\n      }\r\n      return this.recommendItem.creator.name\r\n    },\r\n\r\n    itemBgImage () {\r\n      return this.recommendItem.imgurl\r\n    },\r\n\r\n    ...mapGetters([\r\n      'recommendItem'\r\n    ])\r\n  },\r\n\r\n  created () {\r\n    this._getRecommendItem(this.recommendItem.dissid)\r\n  },\r\n\r\n  data () {\r\n    return {\r\n      itemSongs: []\r\n    }\r\n  },\r\n\r\n  components: {\r\n    PartsMusicList\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.slide-enter, .slide-leave-to {\r\n  transform: translateX(100%)\r\n}\r\n.slide-enter-active, .slide-leave-active {\r\n  transition: all .3s\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/parts-recom-item/parts-recom-item.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"slide\"}},[_c('PartsMusicList',{attrs:{\"bgImage\":_vm.itemBgImage,\"title\":_vm.itemTitle,\"songs\":_vm.itemSongs}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6d9bdbf0\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/parts-recom-item/parts-recom-item.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6d9bdbf0\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./parts-recom-item.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./parts-recom-item.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./parts-recom-item.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6d9bdbf0\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./parts-recom-item.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6d9bdbf0\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/parts-recom-item/parts-recom-item.vue\n// module id = null\n// module chunks = ","<template>\r\n  <BaseScroll\r\n    :data=\"artistData\"\r\n    :listenScroll=\"listenScroll\"\r\n    :probeType=\"probeType\"\r\n    @scroll=\"scroll\"\r\n    class=\"scroll-wrapper\"\r\n    ref=\"list\"\r\n  >\r\n    <ul>\r\n      <li\r\n        class=\"list-group\"\r\n        v-for=\"(group, index) of artistData\"\r\n        :key=\"index\"\r\n        ref=\"group\"\r\n        >\r\n        <h2 class=\"list-group-title\">{{ group.title }}</h2>\r\n        <ul>\r\n          <li\r\n            class=\"list-group-item\"\r\n            v-for=\"(item, childIndex) of group.items\"\r\n            :key=\"childIndex\"\r\n            @click=\"selectItem(item)\"\r\n          >\r\n            <!-- 图像懒加载 -->\r\n            <img v-lazy=\"item.avatar\" width=\"50\" height=\"50\" alt=\"artist-avatar\">\r\n            <span class=\"artist-name\">{{ item.name }}</span>\r\n          </li>\r\n        </ul>\r\n      </li>\r\n    </ul>\r\n\r\n    <div class=\"list-shortcut\" v-show=\"artistData.length\">\r\n      <ul>\r\n        <li\r\n          v-for=\"(item, index) of shortcutList\"\r\n          :key=\"index\"\r\n          :data-index=\"index\"\r\n          :class=\"['list-shortcut-item', currentIndex === index ? 'active' : '']\"\r\n          @touchstart=\"onShortcutToTouchStart\"\r\n          @touchmove.stop.prevent=\"onShortcutToTouchMove\"\r\n        >\r\n          <span class=\"list-shortcut-content\">{{ item }}</span>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n    <div\r\n      class=\"fixed-title\"\r\n      v-show=\"scrollY < 0\"\r\n      :style=\"translateY\"\r\n    >\r\n      <h1 class=\"fixed-title-content\">{{ fixedTitle }}</h1>\r\n    </div>\r\n\r\n    <BaseLoading v-if=\"artistData.length === 0\"/>\r\n  </BaseScroll>\r\n</template>\r\n\r\n<script>\r\n/**\r\n * 开发时，热刷新本组件将清空 this.listHeight，则每次修改本组件都必须刷新页面才能正确\r\n * 获得 this.listHeight（因为计算 this.listHeight 是由监听 artistData 触发）\r\n */\r\nimport BaseScroll from 'base/base-scroll'\r\nimport { getData } from 'common/js/control-dom'\r\nimport BaseLoading from 'base/base-loading/base-loading'\r\n\r\nconst ANCHOR_HEIGHT = 18 // 侧边导航单个 li 元素高度\r\nconst TITLE_HEIGHT = 30 // 顶端标题的高度，用于计算差值\r\n\r\nexport default {\r\n  props: {\r\n    artistData: {\r\n      type: Array,\r\n      default () {\r\n        return []\r\n      }\r\n    }\r\n  },\r\n\r\n  data () {\r\n    return {\r\n      scrollY: -1, // 当前滚动 scrollY 值，如同 window.scrollY\r\n      currentIndex: 0, // 当前 title 的 index\r\n      difference: 0 // scrollY 与 i + 1 锚点 y 坐标的差值\r\n    }\r\n  },\r\n\r\n  computed: {\r\n    shortcutList () {\r\n      return this.artistData.map(group => {\r\n        return group.title.substr(0, 1) // 返回首字母\r\n      })\r\n    },\r\n\r\n    fixedTitle () {\r\n      return this.artistData[this.currentIndex] ? this.artistData[this.currentIndex].title : []\r\n    },\r\n\r\n    translateY () {\r\n      if (this.difference && this.difference < TITLE_HEIGHT) {\r\n        return {\r\n          transform: `translateY(${-(TITLE_HEIGHT - this.difference)}px)`\r\n        }\r\n      } else {\r\n        return {}\r\n      }\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    // 得到锚点 index ，调用 better-scroll 方法跳转至锚点\r\n    onShortcutToTouchStart (evt) {\r\n      let anchorIndex = getData(evt.target, 'index') // 得到自定义 data-index 值\r\n      this.touch.y1 = evt.touches[0].pageY // pageY 触摸目标在 HTML 文档中的 Y 坐标\r\n      this.touch.anchorIndex = anchorIndex\r\n      this._scrollTo(anchorIndex)\r\n    },\r\n    // 计算偏移距离，以至于得到偏移个数，之后调用跳转元素方法，达到 touchmove 滚动 list 的效果\r\n    onShortcutToTouchMove (evt) {\r\n      this.touch.y2 = evt.touches[0].pageY\r\n      let jumpNumber = (this.touch.y2 - this.touch.y1) / ANCHOR_HEIGHT | 0 // 触摸偏移。其中设置初始值 0\r\n      let anchorIndex = parseInt(this.touch.anchorIndex) + jumpNumber // anchorIndex 为字符串\r\n      this._scrollTo(anchorIndex)\r\n    },\r\n\r\n    refresh () {\r\n      this.$refs.list.refresh()\r\n    },\r\n\r\n    scroll (pos) {\r\n      this.scrollY = pos.y\r\n    },\r\n\r\n    _scrollTo (index) {\r\n      if (!index && index !== 0) { // 排除 index 为 null\r\n        return\r\n      }\r\n      if (index < 0) {\r\n        index = 0\r\n      } else if (index > this.listHeight.length - 2) {\r\n        index = this.listHeight.length - 2\r\n      }\r\n      this.scrollY = -this.listHeight[index] // 效果：点击行为切换 active 类\r\n      this.$refs.list.scrollToElement(this.$refs.group[index], 0) // 调用子组件方法跳转至锚点, 0表示动画时间\r\n    },\r\n\r\n    _calculateHeight () {\r\n      this.listHeight = []\r\n      const list = this.$refs.group\r\n      let height = 0\r\n      this.listHeight.push(height)\r\n\r\n      for (let i = 0; i < list.length; i++) {\r\n        // clientHeight = height + padding - 水平滚动条\r\n        height += list[i].clientHeight\r\n        this.listHeight.push(height)\r\n      }\r\n    },\r\n\r\n    selectItem (item) { // 路由跳转\r\n      this.$emit('select', item)\r\n    }\r\n  },\r\n\r\n  watch: {\r\n    artistData () {\r\n      setTimeout(() => {\r\n        this._calculateHeight()\r\n      }, 20)\r\n    },\r\n\r\n    scrollY (newY) {\r\n      const listHeight = this.listHeight // 开发时，刷新本组件将清空 this.listHeight，则必须刷新页面才能正确获得 this.listHeight\r\n\r\n      // 滚动到顶端时，newY > 0\r\n      if (newY > 0) {\r\n        this.currentIndex = 0\r\n        return\r\n      }\r\n      // 滚动到中间部分\r\n      for (let i = 0; i < listHeight.length - 1; i++) {\r\n        let heightStart = listHeight[i]\r\n        let heightEnd = listHeight[i + 1]\r\n        if (-newY >= heightStart && -newY < heightEnd) {\r\n          this.currentIndex = i\r\n          this.difference = this.listHeight[i + 1] - (-newY)\r\n          return\r\n        }\r\n      }\r\n      // 滚动到底部，且 -newY > 最后一个元素的上限\r\n      this.currentIndex = listHeight.length - 2\r\n    }\r\n  },\r\n\r\n  created () {\r\n    // vue 在初始化组件时会将 data 和 props 中数据对象添加 getter 和 setter ，从而达到监听数据变化(以更新 DOM)的目的\r\n\r\n    // this.touch 并不需要监听观测变化(以更新 DOM)，是组件内部的一个缓存数据的容器，故在 created 钩子中创建并初始化\r\n    this.touch = {} // 滚动坐标容器\r\n\r\n    this.listenScroll = true // 传入 base-scroll，是否需要监听滚动\r\n\r\n    this.listHeight = [] // 元素高度的存储容器\r\n\r\n    this.probeType = 3 // better-scroll 是否节流，节流（值为0）表现为只有 touch 时的滚动才被监听，不会监听手指离开屏幕滑动页面时的滚动\r\n  },\r\n\r\n  components: {\r\n    BaseScroll,\r\n    BaseLoading\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '~scss/variables';\r\n\r\n%title {\r\n  height: 30px;\r\n  line-height: 30px;\r\n  padding-left: 20px;\r\n  font-size: $font-size-small;\r\n  color: $color-text-l;\r\n  background-color: $color-highlight-background;\r\n}\r\n\r\n.scroll-wrapper {\r\n  position: relative;\r\n  top: 0;\r\n  left: 0;\r\n  overflow: hidden;\r\n  height: 100%; // 取父元素高度\r\n  font-size: 0;\r\n  .list-group {\r\n    padding-bottom: 30px;\r\n    .list-group-title {\r\n      @extend %title\r\n    }\r\n    .list-group-item {\r\n      display: flex;\r\n      align-items: center;\r\n      padding: 20px 0 0 30px;\r\n      img {\r\n        border-radius: 50%;\r\n      }\r\n      .artist-name {\r\n        margin-left: 20px;\r\n        color: $color-text-l;\r\n        font-size: $font-size-medium;\r\n      }\r\n    }\r\n  }\r\n  .list-shortcut {\r\n    position: absolute;\r\n    top: 50%;\r\n    right: 10px;\r\n    transform: translateY(-50%);\r\n    z-index: 10;\r\n    width: 20px;\r\n    padding: 20px 0;\r\n    text-align: center;\r\n    border-radius: 10px;\r\n    background-color: $color-background-d;\r\n    .list-shortcut-item {\r\n      padding: 3px;\r\n      line-height: 1;\r\n      color: $color-text-l;\r\n      &.active {\r\n        color: $color-theme;\r\n      }\r\n      .list-shortcut-content {\r\n        font-size: $font-size-small;\r\n      }\r\n    }\r\n  }\r\n  .fixed-title {\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    .fixed-title-content {\r\n      @extend %title\r\n    }\r\n  }\r\n  .loading {\r\n    position: absolute;\r\n    top: 50%;\r\n    transform: translateY(-50%);\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/base/base-artist-list.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('BaseScroll',{ref:\"list\",staticClass:\"scroll-wrapper\",attrs:{\"data\":_vm.artistData,\"listenScroll\":_vm.listenScroll,\"probeType\":_vm.probeType},on:{\"scroll\":_vm.scroll}},[_c('ul',_vm._l((_vm.artistData),function(group,index){return _c('li',{key:index,ref:\"group\",refInFor:true,staticClass:\"list-group\"},[_c('h2',{staticClass:\"list-group-title\"},[_vm._v(_vm._s(group.title))]),_vm._v(\" \"),_c('ul',_vm._l((group.items),function(item,childIndex){return _c('li',{key:childIndex,staticClass:\"list-group-item\",on:{\"click\":function($event){_vm.selectItem(item)}}},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(item.avatar),expression:\"item.avatar\"}],attrs:{\"width\":\"50\",\"height\":\"50\",\"alt\":\"artist-avatar\"}}),_vm._v(\" \"),_c('span',{staticClass:\"artist-name\"},[_vm._v(_vm._s(item.name))])])}))])})),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.artistData.length),expression:\"artistData.length\"}],staticClass:\"list-shortcut\"},[_c('ul',_vm._l((_vm.shortcutList),function(item,index){return _c('li',{key:index,class:['list-shortcut-item', _vm.currentIndex === index ? 'active' : ''],attrs:{\"data-index\":index},on:{\"touchstart\":_vm.onShortcutToTouchStart,\"touchmove\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.onShortcutToTouchMove($event)}}},[_c('span',{staticClass:\"list-shortcut-content\"},[_vm._v(_vm._s(item))])])}))]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.scrollY < 0),expression:\"scrollY < 0\"}],staticClass:\"fixed-title\",style:(_vm.translateY)},[_c('h1',{staticClass:\"fixed-title-content\"},[_vm._v(_vm._s(_vm.fixedTitle))])]),_vm._v(\" \"),(_vm.artistData.length === 0)?_c('BaseLoading'):_vm._e()],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-746ffbc4\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/base/base-artist-list.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-746ffbc4\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./base-artist-list.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./base-artist-list.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./base-artist-list.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-746ffbc4\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./base-artist-list.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-746ffbc4\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/base/base-artist-list.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"artist\" ref=\"artist\">\r\n    <BaseArtistList\r\n      ref=\"artistList\"\r\n      :artistData=\"artistList\" @select=\"selectArtist\"\r\n    />\r\n    <router-view/>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getArtistList } from 'api/the-artist'\r\nimport { ERR_OK } from 'api/config'\r\nimport BaseArtistList from 'base/base-artist-list'\r\nimport Artist from 'common/js/normalize-artist'\r\nimport { mapMutations } from 'vuex'\r\nimport { playlistMixin } from 'common/js/mixin'\r\n\r\nconst HOT_NAME = '热门'\r\nconst HOT_ARTIST_LENGTH = 10\r\n\r\nexport default {\r\n  mixins: [playlistMixin],\r\n  data () {\r\n    return {\r\n      artistList: []\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    selectArtist (artist) {\r\n      // path 覆盖 params\r\n      this.$router.push({ path: `/artist/${artist.id}` })\r\n      this.setArtist(artist)\r\n    },\r\n\r\n    handlePlaylist (playlist) {\r\n      const bottom = playlist.length > 0 ? '60px' : ''\r\n\r\n      this.$refs.artist.style.bottom = bottom\r\n      this.$refs.artistList.refresh()\r\n    },\r\n\r\n    // handlePlayList (playlist) {\r\n    //   const bottom = playlist.length > 0 ? '60px' : ''\r\n    //   this.$refs.artist.style.bottom = bottom\r\n    //   this.$refs.artistList.refresh()\r\n    // },\r\n\r\n    _getArtistList () {\r\n      getArtistList().then(res => {\r\n        if (res.code === ERR_OK) {\r\n          this.artistList = this._normalizeArtistList(res.data.list)\r\n        } else {\r\n          throw new Error('Check ERR_OK failed')\r\n        }\r\n      })\r\n    },\r\n\r\n    _normalizeArtistList (list) {\r\n      let map = {\r\n        hot: {\r\n          title: HOT_NAME,\r\n          items: []\r\n        }\r\n      }\r\n      list.forEach((item, index) => {\r\n        if (index < HOT_ARTIST_LENGTH) { // 前 10 项加入“热门”标签，但仍参加后续分类\r\n          map.hot.items.push(new Artist({\r\n            id: item.Fsinger_mid,\r\n            name: item.Fsinger_name\r\n          }))\r\n        }\r\n        // 将 json 中的所有项根据 Findex 归类\r\n        const key = item.Findex\r\n        if (!map[key]) {\r\n          map[key] = {\r\n            title: key,\r\n            items: []\r\n          }\r\n        }\r\n        map[key].items.push(new Artist({\r\n          id: item.Fsinger_mid,\r\n          name: item.Fsinger_name\r\n        }))\r\n      })\r\n      // 对象遍历是无序的，故处理 map 为数组使得遍历时有序\r\n      let ret = []\r\n      let hot = []\r\n      let other = [] // 索引为非 hot 和 非字母开头\r\n      for (let key in map) {\r\n        let val = map[key]\r\n        if (val.title.match(/[a-zA-Z]/)) {\r\n          ret.push(val)\r\n        } else if (val.title === HOT_NAME) {\r\n          hot.push(val)\r\n        } else {\r\n          val.title = '#' // 将非 hot 和 非字母开头的 title 转换为统一符号'#'\r\n          other.push(val)\r\n        }\r\n      }\r\n      ret.sort((a, b) => {\r\n        // ret 中按首字母 unicode 升序\r\n        return a.title.charCodeAt(0) - b.title.charCodeAt(0)\r\n      })\r\n      return [...hot, ...ret, ...other]\r\n    },\r\n\r\n    ...mapMutations({\r\n      setArtist: 'SET_ARTIST' // 将 `this.setArtist()` 映射为 `this.$store.commit('SET_ARTIST')`\r\n    })\r\n  },\r\n\r\n  components: {\r\n    BaseArtistList\r\n  },\r\n\r\n  created () {\r\n    this._getArtistList()\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '~scss/variables';\r\n\r\n.artist {\r\n  position: fixed;\r\n  top: 88px;\r\n  bottom: 0;\r\n  width: 100%;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/the-artist/artist.vue","import jsonp from '@/common/js/jsonp'\r\nimport { commonParams, options, ARTIST_URL, ARTIST_DETAIL_URL } from './config'\r\n\r\nexport function getArtistList () {\r\n  const data = {\r\n    ...commonParams,\r\n    ...{\r\n      channel: 'singer',\r\n      page: 'list',\r\n      key: 'all_all_all',\r\n      pagesize: 100,\r\n      pagenum: 1,\r\n      hostUin: 0,\r\n      needNewCode: 0,\r\n      platform: 'yqq',\r\n      g_tk: 1471438518 // 后面的拓展运算符的值会覆盖之前的同 key 的值， Object.assign 同理\r\n    }\r\n  }\r\n  return jsonp(ARTIST_URL, data, options)\r\n}\r\n\r\nexport function getArtistDetail (artistId) {\r\n  const data = {\r\n    ...commonParams,\r\n    ...{\r\n      g_tk: 1471438518,\r\n      hostUin: 0,\r\n      needNewCode: 0,\r\n      platform: 'yqq',\r\n      order: 'listen',\r\n      begin: 0,\r\n      num: 30,\r\n      songstatus: 1,\r\n      singermid: artistId\r\n    }\r\n  }\r\n  return jsonp(ARTIST_DETAIL_URL, data, options)\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/the-artist.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"artist\",staticClass:\"artist\"},[_c('BaseArtistList',{ref:\"artistList\",attrs:{\"artistData\":_vm.artistList},on:{\"select\":_vm.selectArtist}}),_vm._v(\" \"),_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-23d2c966\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/the-artist/artist.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-23d2c966\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./artist.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./artist.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./artist.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-23d2c966\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./artist.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-23d2c966\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/the-artist/artist.vue\n// module id = null\n// module chunks = ","<template>\r\n  <transition name=\"slider\">\r\n    <PartsMusicList\r\n      :bgImage=\"bgImage\"\r\n      :title=\"title\"\r\n      :songs=\"songs\"\r\n    />\r\n  </transition>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters } from 'vuex'\r\nimport { getArtistDetail } from 'api/the-artist'\r\nimport { ERR_OK } from 'api/config'\r\nimport { createSong } from 'common/js/normalize-song'\r\nimport PartsMusicList from 'components/parts-music-list/parts-music-list'\r\n\r\nexport default {\r\n  data () {\r\n    return {\r\n      songs: []\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    _getDetail () {\r\n      if (!this.artist.id) {\r\n        // 只有在点击歌手后 state.artist 才存在值\r\n        // 在详情页刷新时，state.artist 为空对象，故在详情页刷新时将回到歌手页，这也是常见的边界情况处理方法\r\n        this.$router.push('/artist')\r\n        return\r\n      }\r\n      getArtistDetail(this.artist.id).then(res => {\r\n        if (res.code === ERR_OK) {\r\n          this.songs = this._normalizeSongs(res.data.list)\r\n        } else {\r\n          throw new Error('Check ERR_OK failed')\r\n        }\r\n      })\r\n    },\r\n\r\n    _normalizeSongs (list) {\r\n      let ret = []\r\n      list.forEach(item => {\r\n        let { musicData } = item\r\n        if (musicData.songid && musicData.albummid) {\r\n          ret.push(createSong(musicData))\r\n        }\r\n      })\r\n      return ret\r\n    }\r\n  },\r\n\r\n  computed: {\r\n    title () {\r\n      return this.artist.name\r\n    },\r\n\r\n    bgImage () {\r\n      return this.artist.avatar\r\n    },\r\n    ...mapGetters([\r\n      'artist'\r\n    ])\r\n  },\r\n\r\n  created () {\r\n    this._getDetail()\r\n  },\r\n\r\n  components: {\r\n    PartsMusicList\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '~scss/variables';\r\n\r\n.slider-enter, .slider-leave-to {\r\n  transform: translateX(100%);\r\n}\r\n.slider-enter-active, .slider-leave-active {\r\n  transition: all .3s;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/parts-artist-item/parts-artist-item.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"slider\"}},[_c('PartsMusicList',{attrs:{\"bgImage\":_vm.bgImage,\"title\":_vm.title,\"songs\":_vm.songs}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-b52446fe\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/parts-artist-item/parts-artist-item.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-b52446fe\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./parts-artist-item.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./parts-artist-item.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./parts-artist-item.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-b52446fe\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./parts-artist-item.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-b52446fe\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/parts-artist-item/parts-artist-item.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"ranking-list\" ref=\"list\">\r\n    <BaseScroll class=\"list-wrapper\" :data=\"topList\" ref=\"scroll\">\r\n      <ul>\r\n        <li\r\n          class=\"ranking-item\"\r\n          v-for=\"(list, listIndex) of topList\" :key=\"listIndex\"\r\n          @click=\"selectList(list)\"\r\n        >\r\n          <div class=\"ranking-icon\">\r\n            <img v-lazy=\"list.picUrl\" width=\"100\" height=\"100\" alt=\"ranking-icon\">\r\n          </div>\r\n\r\n          <ul class=\"ranking-info\">\r\n            <li\r\n              class=\"info-song\"\r\n              v-for=\"(song, songIndex) of list.songList\"\r\n              :key=\"songIndex\"\r\n            >\r\n              <span>{{ songIndex + 1 }}</span>\r\n              <span>{{ song.songname }} - {{ song.singername }}</span>\r\n            </li>\r\n          </ul>\r\n\r\n        </li>\r\n      </ul>\r\n      <BaseLoading v-show=\"topList.length === 0\"/>\r\n    </BaseScroll>\r\n    <router-view/>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport BaseScroll from 'base/base-scroll'\r\nimport BaseLoading from 'base/base-loading/base-loading'\r\nimport { getRankingList } from 'api/the-ranking'\r\nimport { ERR_OK } from 'api/config'\r\nimport { playlistMixin } from 'common/js/mixin'\r\nimport { mapMutations } from 'vuex'\r\n\r\nexport default {\r\n  mixins: [playlistMixin],\r\n  data () {\r\n    return {\r\n      topList: []\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    selectList (list) {\r\n      this.selectedTopList(list)\r\n      this.$router.push({ path: `/ranking/${list.id}` })\r\n    },\r\n\r\n    handlePlaylist (playlist) {\r\n      const bottom = this.playlist.length > 0 ? '60px' : ''\r\n\r\n      this.$refs.list.style.bottom = bottom\r\n      this.$refs.scroll.refresh()\r\n    },\r\n\r\n    ...mapMutations({\r\n      selectedTopList: 'SET_SELECTED_TOP_LIST'\r\n    }),\r\n\r\n    _getRankingList () {\r\n      getRankingList().then(res => {\r\n        if (res.code === ERR_OK) {\r\n          this.topList = res.data.topList\r\n        } else {\r\n          throw new Error('Check ERR_OK failed')\r\n        }\r\n      })\r\n    }\r\n  },\r\n\r\n  created () {\r\n    this._getRankingList()\r\n  },\r\n\r\n  components: {\r\n    BaseScroll,\r\n    BaseLoading\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '~scss/variables';\r\n@import '~scss/mixin';\r\n\r\n.ranking-list {\r\n  position: fixed;\r\n  top: 88px;\r\n  bottom: 0;\r\n  width: 100%;\r\n  font-size: 0;\r\n  .list-wrapper {\r\n    height: 100%;\r\n    width: 100%;\r\n    overflow: hidden;\r\n  }\r\n  .ranking-item {\r\n    display: flex;\r\n    padding-top: 20px;\r\n    margin: 0 20px;\r\n    &:last-child {\r\n      padding: 20px 0;\r\n    }\r\n    .ranking-icon {\r\n      flex: 0 0 100px;\r\n      width: 100px;\r\n      height: 100px;\r\n      img {\r\n        width: 100px; // ios safari 不支持行内设置 img 宽高\r\n        height: 100px;\r\n      }\r\n    }\r\n    .ranking-info {\r\n      flex: 1;\r\n      display: flex;\r\n      padding: 0 20px;\r\n      flex-direction: column;\r\n      justify-content: center;\r\n      overflow: hidden;\r\n      background-color: $color-highlight-background;\r\n      color: $color-text-d;\r\n      font-size: $font-size-small;\r\n      .info-song {\r\n        @include ellipsis();\r\n        line-height: 26px;\r\n      }\r\n    }\r\n  }\r\n  .loading {\r\n    position: absolute;\r\n    top: 50%;\r\n    transform: translateY(-50%);\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/the-ranking/ranking.vue","import { RANKING_LIST_URL, FULL_RANKING_LIST_URL, options, commonParams } from './config'\r\nimport jsonp from 'common/js/jsonp'\r\n\r\n// start\r\n\r\n// 桌面端 toplist jsonp 配置\r\n\r\n/**\r\n * 原移动端 jsonp 方法改为了 ajax 请求（直接使用 jsonp 将导致格式错误），自己意外的以\r\n * 桌面端配置请求移动端 url 返回了正确数据\r\n */\r\n\r\nexport function getRankingList () {\r\n  const data = {\r\n    page: 'index',\r\n    format: 'html',\r\n    tpl: 'macv4',\r\n    v8debug: 1\r\n  }\r\n\r\n  return jsonp(RANKING_LIST_URL, data, {\r\n    ...options,\r\n    prefix: '',\r\n    name: 'jsonCallback'\r\n  })\r\n}\r\n\r\n// 移动端 toplist jsonp 配置\r\n// import { RANKING_LIST, commonParams, options } from './config'\r\n// import jsonp from 'common/js/jsonp'\r\n\r\n// export function getRankingList () {\r\n//   const data = {\r\n//     ...commonParams,\r\n//     uin: 0,\r\n//     format: 'json',\r\n//     platform: 'h5',\r\n//     needNewCode: 1,\r\n//     _: +new Date()\r\n//   }\r\n\r\n//   return jsonp(RANKING_LIST, data, {\r\n//     ...options,\r\n//     prefix: '',\r\n//     name: 'jsonCallback'\r\n//   })\r\n// }\r\n\r\n// end\r\n\r\n// 以下是请求的桌面版 url（jsonp 请求）\r\nexport function getFullRankingList (id) {\r\n  const data = {\r\n    ...commonParams,\r\n    tpl: 3,\r\n    page: 'detail',\r\n    // data: 歌单更新日期，\r\n    topid: id,\r\n    type: 'top',\r\n    song_begin: 0,\r\n    song_num: 30,\r\n    loginUin: 0,\r\n    hostUin: 0,\r\n    platform: 'yqq',\r\n    needNewCode: 0\r\n  }\r\n\r\n  return jsonp(FULL_RANKING_LIST_URL, data, {\r\n    ...options,\r\n    prefix: '',\r\n    name: 'MusicJsonCallbacktoplist'\r\n  })\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/the-ranking.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"list\",staticClass:\"ranking-list\"},[_c('BaseScroll',{ref:\"scroll\",staticClass:\"list-wrapper\",attrs:{\"data\":_vm.topList}},[_c('ul',_vm._l((_vm.topList),function(list,listIndex){return _c('li',{key:listIndex,staticClass:\"ranking-item\",on:{\"click\":function($event){_vm.selectList(list)}}},[_c('div',{staticClass:\"ranking-icon\"},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(list.picUrl),expression:\"list.picUrl\"}],attrs:{\"width\":\"100\",\"height\":\"100\",\"alt\":\"ranking-icon\"}})]),_vm._v(\" \"),_c('ul',{staticClass:\"ranking-info\"},_vm._l((list.songList),function(song,songIndex){return _c('li',{key:songIndex,staticClass:\"info-song\"},[_c('span',[_vm._v(_vm._s(songIndex + 1))]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(song.songname)+\" - \"+_vm._s(song.singername))])])}))])})),_vm._v(\" \"),_c('BaseLoading',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.topList.length === 0),expression:\"topList.length === 0\"}]})],1),_vm._v(\" \"),_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-a3b2e00c\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/the-ranking/ranking.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-a3b2e00c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ranking.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ranking.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ranking.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-a3b2e00c\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./ranking.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-a3b2e00c\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/the-ranking/ranking.vue\n// module id = null\n// module chunks = ","<template>\r\n  <transition name=\"slide\">\r\n    <PartsMusicList\r\n      :bgImage=\"songsList.length ? songsList[0].image : ''\"\r\n      :title=\"selectedTopList.topTitle\"\r\n      :songs=\"songsList\"\r\n      :showRank=\"showRank\"\r\n    />\r\n  </transition>\r\n</template>\r\n\r\n<script>\r\nimport PartsMusicList from 'components/parts-music-list/parts-music-list'\r\nimport { getFullRankingList } from 'api/the-ranking'\r\nimport { mapGetters } from 'vuex'\r\nimport { ERR_OK } from 'api/config'\r\nimport { createSong } from 'common/js/normalize-song'\r\n\r\nexport default {\r\n  data () {\r\n    return {\r\n      songsList: [], // 格式化后的歌曲容器\r\n      showRank: true\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    _getFullRankingList (id) {\r\n      if (!this.selectedTopList.id) {\r\n        this.$router.push({ path: '/ranking' })\r\n        return\r\n      }\r\n      getFullRankingList(id).then(res => {\r\n        if (res.code === ERR_OK) {\r\n          this.songsList = this._normalizeSong(res.songlist)\r\n        } else {\r\n          throw new Error('Check ERR_OK failed.')\r\n        }\r\n      })\r\n    },\r\n\r\n    _normalizeSong (list) {\r\n      let ret = []\r\n      list.forEach(musicData => {\r\n        if (musicData.data.songmid && musicData.data.albumid) {\r\n          ret.push(createSong(musicData.data))\r\n        }\r\n      })\r\n      return ret\r\n    }\r\n  },\r\n\r\n  created () {\r\n    this._getFullRankingList(this.selectedTopList.id)\r\n  },\r\n\r\n  computed: {\r\n    ...mapGetters([\r\n      'selectedTopList'\r\n    ])\r\n  },\r\n\r\n  components: {\r\n    PartsMusicList\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.slide-enter, .slide-leave-to {\r\n  transform: translateX(100%);\r\n}\r\n.slide-enter-active, .slide-leave-active {\r\n  transition: all .3s ease;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/parts-ranking-item/parts-ranking-item.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"slide\"}},[_c('PartsMusicList',{attrs:{\"bgImage\":_vm.songsList.length ? _vm.songsList[0].image : '',\"title\":_vm.selectedTopList.topTitle,\"songs\":_vm.songsList,\"showRank\":_vm.showRank}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-40ce59bc\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/parts-ranking-item/parts-ranking-item.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-40ce59bc\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./parts-ranking-item.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./parts-ranking-item.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./parts-ranking-item.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-40ce59bc\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./parts-ranking-item.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-40ce59bc\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/parts-ranking-item/parts-ranking-item.vue\n// module id = null\n// module chunks = ","<template>\r\n<div class=\"search\">\r\n  <div class=\"search-box-wrapper\">\r\n    <BaseSearchBox\r\n      :placeholder=\"placeholder\" @queryChange=\"getQueryKey\" ref=\"searchBox\"\r\n    />\r\n  </div>\r\n\r\n  <div class=\"shortcut-wrapper\" ref=\"shortcutWrapper\" v-show=\"!queryKey\">\r\n    <BaseScroll\r\n      class=\"shortcut\"\r\n      ref=\"scroll\"\r\n      :data=\"scrollDependence\"\r\n      :refreshDelay=\"refreshScrollDelay\"\r\n    >\r\n      <div class=\"scroll-wrapper\">\r\n        <div class=\"hot-key\">\r\n          <h1 class=\"title\">热门搜索</h1>\r\n          <ul>\r\n            <li\r\n              class=\"hot-key-item\"\r\n              v-for=\"(key, index) of hotKey\"\r\n              :key=\"index\"\r\n              @click=\"selectQueryRecord(key.k)\"\r\n            >\r\n              <span>{{ key.k }}</span>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n\r\n        <div class=\"search-history\" v-show=\"searchHistory.length\">\r\n          <h1 class=\"title\">\r\n            <span class=\"text\">搜索历史</span>\r\n            <span class=\"clear-btn\" @click.stop=\"showConfirmBtn\">\r\n              <i class=\"icon-clear\"></i>\r\n            </span>\r\n          </h1>\r\n          <BaseSearchList\r\n            :searchData=\"searchHistory\"\r\n            @selectItem=\"selectQueryRecord\"\r\n            @deleteItem=\"deleteSearchHistory\"\r\n          />\r\n        </div>\r\n      </div>\r\n    </BaseScroll>\r\n  </div>\r\n\r\n  <div class=\"search-result-wrapper\" ref=\"resultWrapper\" v-show=\"queryKey\">\r\n    <PartsResult\r\n      @listScrolling=\"blurInputBox\"\r\n      @selectQuery=\"saveSearchItem\"\r\n      ref=\"resultList\"\r\n      :query=\"queryKey\"\r\n    />\r\n  </div>\r\n\r\n  <BaseConfirm\r\n    ref=\"confirm\"\r\n    title=\"是否清空所有搜索历史\"\r\n    confirmBtnText=\"清空\"\r\n    @confirmSubmit=\"clearAllHistory\"\r\n  />\r\n  <!-- 可监听 confirmCancel 事件用于统计点击取消的逻辑 -->\r\n\r\n  <router-view/>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport BaseSearchBox from 'base/base-search-box'\r\nimport BaseSearchList from 'base/base-search-list'\r\nimport BaseConfirm from 'base/base-confirm'\r\nimport BaseScroll from 'base/base-scroll'\r\nimport PartsResult from 'components/parts-search-result/parts-search-result'\r\nimport { getHotKey } from 'api/the-search'\r\nimport { ERR_OK } from 'api/config'\r\nimport { mapActions } from 'vuex'\r\nimport { playlistMixin, searchMixin } from 'common/js/mixin'\r\n\r\nexport default {\r\n  mixins: [playlistMixin, searchMixin],\r\n\r\n  data () {\r\n    return {\r\n      placeholder: '搜索歌曲、歌手',\r\n      hotKey: []\r\n    }\r\n  },\r\n\r\n  computed: {\r\n    scrollDependence () { // 用于 scroll 的刷新，当两个依赖变化时，重新计算\r\n      return [...this.hotKey, ...this.searchHistory]\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    handlePlaylist (playlist) {\r\n      const bottom = this.playlist.length > 0 ? '60px' : ''\r\n\r\n      this.$refs.shortcutWrapper.style.bottom = bottom // 历史记录页\r\n      this.$refs.resultWrapper.style.bottom = bottom // 搜索结果页\r\n      this.$refs.scroll.refresh()\r\n      this.$refs.resultList.refreshScroll()\r\n    },\r\n\r\n    showConfirmBtn () {\r\n      this.$refs.confirm.showConfirm()\r\n    },\r\n\r\n    _getHotKey () {\r\n      getHotKey().then(res => {\r\n        if (res.code === ERR_OK) {\r\n          this.hotKey = res.data.hotkey.slice(0, 10)\r\n        }\r\n      })\r\n    },\r\n\r\n    ...mapActions([\r\n      'clearAllHistory'\r\n    ])\r\n  },\r\n\r\n  watch: {\r\n    /**\r\n     * 1. 解决的问题：添加一条新的搜索结果后（此时页面刚好达到能滚动的位置），从结果页\r\n     * 退回到搜索页面时，不能滚动。\r\n     * 2。 监听 queryKey,此时的 queryKey 是一个从有到无的变化\r\n     */\r\n    queryKey (newQuery) {\r\n      if (!newQuery) {\r\n        // setTimeout 是 this.$nextTick 的另一种实现\r\n        setTimeout(() => {\r\n          this.$refs.scroll.refresh()\r\n        }, 20)\r\n      }\r\n    }\r\n  },\r\n\r\n  created () {\r\n    this._getHotKey()\r\n  },\r\n\r\n  components: {\r\n    BaseSearchBox,\r\n    BaseSearchList,\r\n    BaseConfirm,\r\n    BaseScroll,\r\n    PartsResult\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '~scss/variables';\r\n\r\n.search {\r\n  font-size: 0;\r\n  .search-box-wrapper {\r\n    margin: 20px;\r\n  }\r\n  .shortcut-wrapper {\r\n    position: fixed;\r\n    top: 178px;\r\n    bottom: 0;\r\n    width: 100%;\r\n    .shortcut {\r\n      height: 100%;\r\n      overflow: hidden;\r\n      .hot-key {\r\n        margin: 0 20px 20px 20px;\r\n        .title {\r\n          margin-bottom: 20px;\r\n          font-size: $font-size-medium;\r\n          color: $color-text-l;\r\n        }\r\n        .hot-key-item {\r\n          display: inline-block;\r\n          padding: 5px 10px;\r\n          margin: 0 20px 10px 0;\r\n          border-radius: 6px;\r\n          background-color: $color-highlight-background;\r\n          font-size: $font-size-medium;\r\n          color: $color-text-d;\r\n        }\r\n      }\r\n      .search-history {\r\n        padding: 0 20px;\r\n        color: $color-text-l;\r\n        .title {\r\n          display: flex;\r\n          align-items: center;\r\n          height: 40px;\r\n          font-size: $font-size-medium;\r\n          .text {\r\n            flex: 1;\r\n            text-align: left;\r\n          }\r\n          .clear-btn {\r\n            flex: 1;\r\n            text-align: right;\r\n            color: $color-text-d;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .search-result-wrapper {\r\n    position: fixed;\r\n    top: 178px;\r\n    bottom: 0;\r\n    width: 100%;\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/the-search/search.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"search\"},[_c('div',{staticClass:\"search-box-wrapper\"},[_c('BaseSearchBox',{ref:\"searchBox\",attrs:{\"placeholder\":_vm.placeholder},on:{\"queryChange\":_vm.getQueryKey}})],1),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.queryKey),expression:\"!queryKey\"}],ref:\"shortcutWrapper\",staticClass:\"shortcut-wrapper\"},[_c('BaseScroll',{ref:\"scroll\",staticClass:\"shortcut\",attrs:{\"data\":_vm.scrollDependence,\"refreshDelay\":_vm.refreshScrollDelay}},[_c('div',{staticClass:\"scroll-wrapper\"},[_c('div',{staticClass:\"hot-key\"},[_c('h1',{staticClass:\"title\"},[_vm._v(\"热门搜索\")]),_vm._v(\" \"),_c('ul',_vm._l((_vm.hotKey),function(key,index){return _c('li',{key:index,staticClass:\"hot-key-item\",on:{\"click\":function($event){_vm.selectQueryRecord(key.k)}}},[_c('span',[_vm._v(_vm._s(key.k))])])}))]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.searchHistory.length),expression:\"searchHistory.length\"}],staticClass:\"search-history\"},[_c('h1',{staticClass:\"title\"},[_c('span',{staticClass:\"text\"},[_vm._v(\"搜索历史\")]),_vm._v(\" \"),_c('span',{staticClass:\"clear-btn\",on:{\"click\":function($event){$event.stopPropagation();return _vm.showConfirmBtn($event)}}},[_c('i',{staticClass:\"icon-clear\"})])]),_vm._v(\" \"),_c('BaseSearchList',{attrs:{\"searchData\":_vm.searchHistory},on:{\"selectItem\":_vm.selectQueryRecord,\"deleteItem\":_vm.deleteSearchHistory}})],1)])])],1),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.queryKey),expression:\"queryKey\"}],ref:\"resultWrapper\",staticClass:\"search-result-wrapper\"},[_c('PartsResult',{ref:\"resultList\",attrs:{\"query\":_vm.queryKey},on:{\"listScrolling\":_vm.blurInputBox,\"selectQuery\":_vm.saveSearchItem}})],1),_vm._v(\" \"),_c('BaseConfirm',{ref:\"confirm\",attrs:{\"title\":\"是否清空所有搜索历史\",\"confirmBtnText\":\"清空\"},on:{\"confirmSubmit\":_vm.clearAllHistory}}),_vm._v(\" \"),_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2a9cdbcb\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/the-search/search.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2a9cdbcb\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./search.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./search.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./search.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2a9cdbcb\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./search.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-2a9cdbcb\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/the-search/search.vue\n// module id = null\n// module chunks = ","<template>\r\n  <transition name=\"slide\">\r\n    <div class=\"user-center\">\r\n\r\n      <div class=\"switch-wrapper\">\r\n        <BaseSwitches\r\n          :switchOptions=\"switchOptions\"\r\n          :currentSwitchIndex=\"switchIndex\"\r\n          @selectSwitch=\"toggleSwitchIndex\"\r\n        />\r\n      </div>\r\n\r\n      <div class=\"back-btn\" @click.stop=\"prevPage\">\r\n        <i class=\"icon-back\"></i>\r\n      </div>\r\n\r\n      <div class=\"random-play-btn\" @click.stop=\"addAllSongsToList\">\r\n        <i class=\"icon-play\"></i>\r\n        <span class=\"btn-text\">随机播放全部</span>\r\n      </div>\r\n\r\n      <div class=\"list-wrapper\" ref=\"listWrapper\">\r\n        <BaseScroll\r\n          class=\"scroll-wrapper\"\r\n          ref=\"favoriteList\"\r\n          v-if=\"switchIndex === 0\"\r\n          :data=\"myFavoriteSongs\"\r\n        >\r\n          <div class=\"favorite-list-wrapper\">\r\n            <BaseSongsList\r\n              :songsData=\"myFavoriteSongs\"\r\n              @select=\"addSongToList\"\r\n            />\r\n          </div>\r\n        </BaseScroll>\r\n\r\n        <BaseScroll\r\n          class=\"scroll-wrapper\"\r\n          ref=\"playedList\"\r\n          v-if=\"switchIndex === 1\"\r\n          :data=\"playedHistory\"\r\n        >\r\n          <div class=\"has-played-wrapper\">\r\n            <BaseSongsList\r\n              :songsData=\"playedHistory\"\r\n              @select=\"addSongToList\"\r\n            />\r\n          </div>\r\n        </BaseScroll>\r\n      </div>\r\n\r\n      <div class=\"no-result-wrapper\" v-if=\"showNoResult\">\r\n        <BaseNoResult :title=\"noResultTitle\"/>\r\n      </div>\r\n\r\n    </div>\r\n  </transition>\r\n</template>\r\n\r\n<script>\r\nimport BaseSwitches from 'base/base-switches/base-switches'\r\nimport BaseScroll from 'base/base-scroll'\r\nimport BaseSongsList from 'base/base-songs-list/base-songs-list'\r\nimport BaseNoResult from 'base/base-no-result/base-no-result'\r\nimport { mapGetters, mapActions } from 'vuex'\r\nimport { playlistMixin } from 'common/js/mixin'\r\nimport Song from 'common/js/normalize-song'\r\n\r\nexport default {\r\n  mixins: [playlistMixin],\r\n\r\n  data () {\r\n    return {\r\n      switchOptions: [{ name: '我喜欢的' }, { name: '最近播放' }],\r\n      switchIndex: 0\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    handlePlaylist (playlist) {\r\n      const bottom = playlist.length > 0 ? '60px' : ''\r\n\r\n      this.$refs.listWrapper.style.bottom = bottom\r\n\r\n      this.$refs.favoriteList && this.$refs.favoriteList.refresh()\r\n      this.$refs.playedList && this.$refs.playedList.refresh()\r\n    },\r\n\r\n    addAllSongsToList () {\r\n      let list = this.switchIndex === 0 ? this.myFavoriteSongs : this.playedHistory\r\n\r\n      if (!list.length) return\r\n\r\n      list = list.map(song => {\r\n        return new Song(song)\r\n      })\r\n\r\n      this.randomPlay({ list })\r\n    },\r\n\r\n    addSongToList (song, index) {\r\n      // song 是从 localStorage 读取而来，没有 Song 原型上的方法 getLyric\r\n      this.insertSong(new Song(song))\r\n    },\r\n\r\n    prevPage () {\r\n      this.$router.back()\r\n    },\r\n\r\n    toggleSwitchIndex (index) {\r\n      this.switchIndex = index\r\n    },\r\n\r\n    ...mapActions([\r\n      'insertSong',\r\n      'randomPlay'\r\n    ])\r\n  },\r\n\r\n  computed: {\r\n    noResultTitle () {\r\n      return this.switchIndex === 0 ? '这里空空如也... 快收藏自己喜欢的歌曲啦' : '你最近还没有播放歌曲'\r\n    },\r\n\r\n    showNoResult () {\r\n      return (this.switchIndex === 0 && !this.myFavoriteSongs.length) || (this.switchIndex === 1 && !this.playedHistory.length)\r\n    },\r\n\r\n    ...mapGetters([\r\n      'playedHistory',\r\n      'myFavoriteSongs'\r\n    ])\r\n  },\r\n\r\n  components: {\r\n    BaseSwitches,\r\n    BaseScroll,\r\n    BaseSongsList,\r\n    BaseNoResult\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '~scss/variables';\r\n\r\n.user-center {\r\n  position: fixed;\r\n  top: 0;\r\n  bottom: 0;\r\n  width: 100%;\r\n  z-index: 100;\r\n  background-color: $color-background;\r\n  font-size: 0;\r\n  &.slide-enter, &.slide-leave-to {\r\n    transform: translateX(100%);\r\n  }\r\n  &.slide-enter-active, &.slide-leave-active {\r\n    transition: all .1s\r\n  }\r\n  .switch-wrapper {\r\n    margin: 10px 0 30px;\r\n  }\r\n  .back-btn {\r\n    position: absolute;\r\n    top: 0;\r\n    left: 6px;\r\n    z-index: 50;\r\n    .icon-back {\r\n      display: inline-block;\r\n      padding: 10px;\r\n      font-size: $font-size-large-x;\r\n      color: $color-theme;\r\n    }\r\n  }\r\n  .random-play-btn {\r\n    margin: 0 auto;\r\n    padding: 7px 0;\r\n    width: 135px;\r\n    box-sizing: border-box;\r\n    border: 1px solid $color-text-l;\r\n    border-radius: 100px;\r\n    text-align: center;\r\n    color: $color-text-l;\r\n    .icon-play {\r\n      display: inline-block;\r\n      vertical-align: middle;\r\n      margin-right: 6px;\r\n      font-size: $font-size-medium-x;\r\n    }\r\n    .btn-text {\r\n      display: inline-block;\r\n      vertical-align: middle;\r\n      font-size: $font-size-small;\r\n    }\r\n  }\r\n  .list-wrapper {\r\n    position: absolute;\r\n    top: 110px;\r\n    bottom: 0;\r\n    width: 100%;\r\n    .scroll-wrapper {\r\n      height: 100%;\r\n      overflow: hidden;\r\n    }\r\n  }\r\n  .no-result-wrapper {\r\n    position: absolute;\r\n    top: 50%;\r\n    transform: translateY(-50%);\r\n    width: 100%;\r\n  }\r\n\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/the-user-center/the-user-center.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"slide\"}},[_c('div',{staticClass:\"user-center\"},[_c('div',{staticClass:\"switch-wrapper\"},[_c('BaseSwitches',{attrs:{\"switchOptions\":_vm.switchOptions,\"currentSwitchIndex\":_vm.switchIndex},on:{\"selectSwitch\":_vm.toggleSwitchIndex}})],1),_vm._v(\" \"),_c('div',{staticClass:\"back-btn\",on:{\"click\":function($event){$event.stopPropagation();return _vm.prevPage($event)}}},[_c('i',{staticClass:\"icon-back\"})]),_vm._v(\" \"),_c('div',{staticClass:\"random-play-btn\",on:{\"click\":function($event){$event.stopPropagation();return _vm.addAllSongsToList($event)}}},[_c('i',{staticClass:\"icon-play\"}),_vm._v(\" \"),_c('span',{staticClass:\"btn-text\"},[_vm._v(\"随机播放全部\")])]),_vm._v(\" \"),_c('div',{ref:\"listWrapper\",staticClass:\"list-wrapper\"},[(_vm.switchIndex === 0)?_c('BaseScroll',{ref:\"favoriteList\",staticClass:\"scroll-wrapper\",attrs:{\"data\":_vm.myFavoriteSongs}},[_c('div',{staticClass:\"favorite-list-wrapper\"},[_c('BaseSongsList',{attrs:{\"songsData\":_vm.myFavoriteSongs},on:{\"select\":_vm.addSongToList}})],1)]):_vm._e(),_vm._v(\" \"),(_vm.switchIndex === 1)?_c('BaseScroll',{ref:\"playedList\",staticClass:\"scroll-wrapper\",attrs:{\"data\":_vm.playedHistory}},[_c('div',{staticClass:\"has-played-wrapper\"},[_c('BaseSongsList',{attrs:{\"songsData\":_vm.playedHistory},on:{\"select\":_vm.addSongToList}})],1)]):_vm._e()],1),_vm._v(\" \"),(_vm.showNoResult)?_c('div',{staticClass:\"no-result-wrapper\"},[_c('BaseNoResult',{attrs:{\"title\":_vm.noResultTitle}})],1):_vm._e()])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-48b15015\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/the-user-center/the-user-center.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-48b15015\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./the-user-center.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./the-user-center.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./the-user-center.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-48b15015\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./the-user-center.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-48b15015\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/the-user-center/the-user-center.vue\n// module id = null\n// module chunks = ","import Vue from 'vue'\nimport Router from 'vue-router'\nimport Recommend from 'components/the-recommend/recommend'\nimport RecommendItem from 'components/parts-recom-item/parts-recom-item'\nimport Artist from 'components/the-artist/artist'\nimport ArtistItem from 'components/parts-artist-item/parts-artist-item'\nimport Ranking from 'components/the-ranking/ranking'\nimport RankingItem from 'components/parts-ranking-item/parts-ranking-item'\nimport Search from 'components/the-search/search'\nimport UserCenter from 'components/the-user-center/the-user-center'\n\nVue.use(Router)\n\nexport default new Router({\n  routes: [\n    {\n      path: '/',\n      redirect: '/recommend'\n    },\n    {\n      path: '/recommend',\n      component: Recommend,\n      children: [\n        {\n          path: ':id',\n          component: RecommendItem\n        }\n      ]\n    },\n    {\n      path: '/artist',\n      component: Artist,\n      children: [\n        {\n          path: ':id',\n          component: ArtistItem\n        }\n      ]\n    },\n    {\n      path: '/ranking',\n      component: Ranking,\n      children: [\n        {\n          path: ':id',\n          component: RankingItem\n        }\n      ]\n    },\n    {\n      path: '/search',\n      component: Search,\n      children: [\n        {\n          path: ':id',\n          component: ArtistItem\n        }\n      ]\n    },\n    {\n      path: '/user',\n      component: UserCenter\n    }\n  ]\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","// localStorage 仓库\r\n\r\n/**\r\n * 弃用 localforage 原因：\r\n * 1. localforage 库是异步本地储存的，因异步读取机制。\r\n * 2. 除非将整个 state 对象包裹在异步函数中，否则 state 中依赖 localStorage 的值属性\r\n * 无法异步被赋值为 localStorage 的值，故弃用，转而使用 store.js 进行同步存储和读取数\r\n * 据\r\n * 3. 个人认为将 state 包裹在回调中，代码相对于同步取值来说不够简洁\r\n */\r\n\r\nimport localStorage from 'store/dist/store.modern'\r\n\r\nconst SEARCH_KEY = '__search__'\r\nconst HAS_PLAYED_KEY = '__has_played__'\r\nconst FAVORITE_SONGS_KEY = '__favorite_songs__'\r\n\r\nconst SEARCH_MAX_LENGTH = 15\r\nconst HAS_PLAYED_MAX_LENGTH = 200\r\nconst FAVORITE_SONGS_MAX_LENGTH = 200\r\n\r\n/**\r\n *  Save search record to localStorage\r\n */\r\n\r\n// 去重、插入数据\r\nfunction insertItem (arr, value, compare, maxLength) {\r\n  const index = arr.findIndex(compare)\r\n\r\n  if (index === 0) { // 若是第一个数据\r\n    return\r\n  }\r\n\r\n  if (index > 0) {\r\n    arr.splice(index, 1)\r\n  }\r\n\r\n  arr.unshift(value) // 将传入的 value 数据置于数组之首\r\n\r\n  if (maxLength && arr.length > maxLength) {\r\n    arr.pop() // 超过限定长度时，删除最后一项\r\n  }\r\n}\r\n\r\nfunction deleteItem (arr, compare) {\r\n  const index = arr.findIndex(compare)\r\n\r\n  if (index >= 0) {\r\n    arr.splice(index, 1)\r\n  }\r\n}\r\n\r\n// export function\r\n\r\nexport function saveSearchItem (query) {\r\n  let searches = localStorage.get(SEARCH_KEY) || []\r\n\r\n  insertItem(searches, query, item => {\r\n    return item === query\r\n  }, SEARCH_MAX_LENGTH)\r\n\r\n  localStorage.set(SEARCH_KEY, searches)\r\n  return searches\r\n}\r\n\r\nexport function loadSearchData () {\r\n  return localStorage.get(SEARCH_KEY) || []\r\n}\r\n\r\nexport function deleteSearchItem (query) {\r\n  let searches = localStorage.get(SEARCH_KEY)\r\n\r\n  deleteItem(searches, item => {\r\n    return item === query\r\n  })\r\n\r\n  localStorage.set(SEARCH_KEY, searches)\r\n\r\n  return searches\r\n}\r\n\r\nexport function deleteAllSearchItem () {\r\n  localStorage.remove(SEARCH_KEY)\r\n  return []\r\n}\r\n\r\n/**\r\n * 1. localforage 异步存储 search data\r\n * 2. localforage 库可指定存储驱动，默认优先级为 IndexedDB、WebSQL、localStorage\r\n */\r\n\r\n// import localforage from 'localforage'\r\n\r\n// localforage.setDriver(localforage.LOCALSTORAGE)\r\n\r\n// export async function saveSearch (query) {\r\n//   let searches = []\r\n\r\n//   await localforage.getItem(SEARCH_KEY).then(value => {\r\n//     searches = value || []\r\n//   })\r\n\r\n//   insertItem(searches, query, item => {\r\n//     return item === query\r\n//   }, SEARCH_MAX_LENGTH)\r\n\r\n//   await localforage.setItem(SEARCH_KEY, searches)\r\n\r\n//   return searches\r\n// }\r\n\r\n/**\r\n *  Save played song record to localStorage\r\n */\r\n\r\nexport function savePlayedSongs (query) {\r\n  let played = localStorage.get(HAS_PLAYED_KEY) || []\r\n\r\n  insertItem(played, query, item => {\r\n    return item.id === query.id\r\n  }, HAS_PLAYED_MAX_LENGTH)\r\n\r\n  localStorage.set(HAS_PLAYED_KEY, played)\r\n\r\n  return played\r\n}\r\n\r\nexport function loadPlayedSongs () {\r\n  return localStorage.get(HAS_PLAYED_KEY) || []\r\n}\r\n\r\n/**\r\n * Save my favorite songs to localStorage\r\n */\r\n\r\nexport function saveFavoriteSongs (song) {\r\n  let favorite = localStorage.get(FAVORITE_SONGS_KEY) || []\r\n\r\n  insertItem(favorite, song, item => {\r\n    return item.id === song.id\r\n  }, FAVORITE_SONGS_MAX_LENGTH)\r\n\r\n  localStorage.set(FAVORITE_SONGS_KEY, favorite)\r\n\r\n  return favorite\r\n}\r\n\r\nexport function deleteFavoriteSong (song) {\r\n  let favorite = localStorage.get(FAVORITE_SONGS_KEY)\r\n\r\n  deleteItem(favorite, item => {\r\n    return item.id === song.id\r\n  })\r\n\r\n  localStorage.set(FAVORITE_SONGS_KEY, favorite)\r\n\r\n  return favorite\r\n}\r\n\r\nexport function loadFavoriteSongs () {\r\n  return localStorage.get(FAVORITE_SONGS_KEY) || []\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/js/cache.js","import { playMode } from 'common/js/config'\r\nimport { loadSearchData, loadPlayedSongs, loadFavoriteSongs } from 'common/js/cache'\r\n\r\nconst state = { // 只保留最基础的数据，由基础数据可计算得到的数据放置到 getters 中\r\n  artist: {},\r\n  playing: false, // 播放/暂停\r\n  fullScreen: false, // 全屏\r\n  playlist: [], // 当前播放列表，其中的顺序即是播放顺序\r\n  sequenceList: [], // 展示性播放列表\r\n  mode: playMode.sequence, // 语义化值，而不是直接写属性值\r\n  currentIndex: -1, // 当前播放歌曲的索引，驱动歌曲的播放行为\r\n  recommendItem: [], // 用户点击的推荐歌单项\r\n  selectedTopList: [], // 用户点击的排行榜\r\n  searchHistory: loadSearchData(),\r\n  playedHistory: loadPlayedSongs(),\r\n  myFavoriteSongs: loadFavoriteSongs()\r\n}\r\n\r\nexport default state\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/state.js","export const artist = state => state.artist\r\n\r\nexport const playing = state => state.playing\r\n\r\nexport const fullScreen = state => state.fullScreen\r\n\r\nexport const playlist = state => state.playlist\r\n\r\nexport const sequenceList = state => state.sequenceList\r\n\r\nexport const mode = state => state.mode\r\n\r\nexport const currentIndex = state => state.currentIndex\r\n\r\nexport const currentSong = state => { // 经试验，修改 playlist 不会导致 currentSong 重新计算\r\n  return state.playlist[state.currentIndex] || {}\r\n}\r\n\r\nexport const recommendItem = state => state.recommendItem\r\n\r\nexport const selectedTopList = state => state.selectedTopList\r\n\r\nexport const searchHistory = state => state.searchHistory\r\n\r\nexport const playedHistory = state => state.playedHistory\r\n\r\nexport const myFavoriteSongs = state => state.myFavoriteSongs\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/getters.js","import * as types from './mutation-types'\r\n\r\nconst mutations = {\r\n  [types.SET_ARTIST] (state, artist) {\r\n    state.artist = artist\r\n  },\r\n\r\n  [types.SET_PLAYING_STATE] (state, playing) {\r\n    state.playing = playing\r\n  },\r\n\r\n  [types.SET_FULL_SCREEN] (state, fullScreen) {\r\n    state.fullScreen = fullScreen\r\n  },\r\n\r\n  [types.SET_PLAYLIST] (state, playlist) {\r\n    state.playlist = playlist\r\n  },\r\n\r\n  [types.SET_SEQUENCE_LIST] (state, sequenceList) {\r\n    state.sequenceList = sequenceList\r\n  },\r\n\r\n  [types.SET_PLAY_MODE] (state, mode) {\r\n    state.mode = mode\r\n  },\r\n\r\n  [types.SET_CURRENT_INDEX] (state, currentIndex) {\r\n    state.currentIndex = currentIndex\r\n  },\r\n\r\n  [types.SET_RECOMMEND_ITEM] (state, recommendItem) {\r\n    state.recommendItem = recommendItem\r\n  },\r\n\r\n  [types.SET_SELECTED_TOP_LIST] (state, selectedTopList) {\r\n    state.selectedTopList = selectedTopList\r\n  },\r\n\r\n  [types.SET_SEARCH_HISTORY] (state, searchHistory) {\r\n    state.searchHistory = searchHistory\r\n  },\r\n\r\n  [types.SET_PLAYED_HISTORY] (state, playedHistory) {\r\n    state.playedHistory = playedHistory\r\n  },\r\n\r\n  [types.SET_MY_FAVORITE_SONGS] (state, myFavoriteSongs) {\r\n    state.myFavoriteSongs = myFavoriteSongs\r\n  }\r\n}\r\n\r\nexport default mutations\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/mutations.js","// mutation 常量\r\nexport const SET_ARTIST = 'SET_ARTIST'\r\n\r\nexport const SET_PLAYING_STATE = 'SET_PLAYING_STATE'\r\n\r\nexport const SET_FULL_SCREEN = 'SET_FULL_SCREEN'\r\n\r\nexport const SET_PLAYLIST = 'SET_PLAYLIST'\r\n\r\nexport const SET_SEQUENCE_LIST = 'SET_SEQUENCE_LIST'\r\n\r\nexport const SET_PLAY_MODE = 'SET_PLAY_MODE'\r\n\r\nexport const SET_CURRENT_INDEX = 'SET_CURRENT_INDEX'\r\n\r\nexport const SET_RECOMMEND_ITEM = 'SET_RECOMMEND_ITEM'\r\n\r\nexport const SET_SELECTED_TOP_LIST = 'SET_SELECTED_TOP_LIST'\r\n\r\nexport const SET_SEARCH_HISTORY = 'SET_SEARCH_HISTORY'\r\n\r\nexport const SET_PLAYED_HISTORY = 'SET_PLAYED_HISTORY'\r\n\r\nexport const SET_MY_FAVORITE_SONGS = 'SET_MY_FAVORITE_SONGS'\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/mutation-types.js","// 异步操作或对 mutations 的封装（封装需要一次触发多个 mutations 的操作）\r\n\r\nimport * as types from './mutation-types'\r\nimport { playMode } from 'common/js/config'\r\nimport { shuffle } from 'common/js/util'\r\nimport { saveSearchItem, deleteSearchItem, deleteAllSearchItem, savePlayedSongs, saveFavoriteSongs, deleteFavoriteSong } from 'common/js/cache'\r\n\r\nfunction findIndex (list, song) {\r\n  return list.findIndex(item => {\r\n    return item.id === song.id\r\n  })\r\n}\r\n\r\n// 歌单（主页，歌手，排行榜）中点击歌曲播放整个歌单\r\n\r\nexport const selectedPlay = ({ commit, state }, { list, index }) => {\r\n  commit(types.SET_SEQUENCE_LIST, list)\r\n\r\n  if (state.mode === playMode.random) {\r\n    let randomList = shuffle(list)\r\n    commit(types.SET_PLAYLIST, randomList)\r\n    index = findIndex(randomList, list[index])\r\n  } else {\r\n    commit(types.SET_PLAYLIST, list)\r\n  }\r\n\r\n  commit(types.SET_CURRENT_INDEX, index)\r\n  commit(types.SET_FULL_SCREEN, true) // 默认点击歌曲后全屏播放\r\n  commit(types.SET_PLAYING_STATE, true)\r\n}\r\n\r\nexport const randomPlay = ({ commit }, { list }) => {\r\n  let randomList = shuffle(list)\r\n\r\n  commit(types.SET_PLAY_MODE, playMode.random)\r\n  commit(types.SET_SEQUENCE_LIST, list)\r\n  commit(types.SET_PLAYLIST, randomList)\r\n  commit(types.SET_CURRENT_INDEX, 0)\r\n  commit(types.SET_FULL_SCREEN, true)\r\n  commit(types.SET_PLAYING_STATE, true)\r\n}\r\n\r\n// 将单曲插入当前播放列表中\r\n\r\nexport const insertSong = ({ commit, state }, song) => {\r\n  /**\r\n   * 为了在之后使用 Array.prototype.splice() 方法，这里使用拓展运算符浅复制数组\r\n   * 原因：\r\n   * 1. 因为在 JavaScript 中操作对象的实质是操作对象指针，那么在不复制数组的情况下使\r\n   * 用数组 splice() 方法将会修改原数组。\r\n   * 2. 第一点的这个行为与在 vuex 中必须通过mutation 来修改 state 的原则相悖。继而报\r\n   * 错 Do not mutate vuex store state outside mutation handlers。\r\n   */\r\n\r\n  let playlist = [...state.playlist]\r\n  let sequenceList = [...state.sequenceList]\r\n  let currentIndex = state.currentIndex // 当前在 playlist 中的索引\r\n\r\n  // 记录当前歌曲\r\n  let currentSong = playlist[currentIndex]\r\n  // 判断当前歌曲是否已存在，若存在则返回索引\r\n  let fqIndex = findIndex(playlist, song)\r\n  // 因为是插入歌曲，所以索引 +1\r\n  currentIndex++\r\n  // 插入目标歌曲到当前索引位置\r\n  playlist.splice(currentIndex, 0, song)\r\n  // 查找结果是存在目标歌曲\r\n  if (fqIndex > -1) {\r\n    if (currentIndex > fqIndex) {\r\n      // 若当前插入索引大于列表中的索引，即在原索引之后\r\n      playlist.splice(fqIndex, 1)\r\n      currentIndex-- // 因为原单项已被删除，所以 -1\r\n    } else {\r\n      // 若当前插入索引不大于列表中的索引，即在原索引之前\r\n      playlist.splice(fqIndex + 1, 1)\r\n    }\r\n  }\r\n\r\n  let sequenceCurrentIndex = findIndex(sequenceList, currentSong) + 1\r\n\r\n  let fsIndex = findIndex(sequenceList, song)\r\n\r\n  sequenceList.splice(sequenceCurrentIndex, 0, song)\r\n\r\n  if (fsIndex > -1) {\r\n    if (sequenceCurrentIndex > fsIndex) {\r\n      sequenceList.splice(fsIndex, 1)\r\n    } else {\r\n      sequenceList.splice(fsIndex + 1, 1)\r\n    }\r\n  }\r\n\r\n  commit(types.SET_PLAYLIST, playlist)\r\n  commit(types.SET_SEQUENCE_LIST, sequenceList)\r\n  commit(types.SET_CURRENT_INDEX, currentIndex)\r\n  commit(types.SET_FULL_SCREEN, true)\r\n  commit(types.SET_PLAYING_STATE, true)\r\n}\r\n\r\n// 搜索记录\r\n\r\nexport const saveSearchHistory = function ({ commit }, query) {\r\n  commit(types.SET_SEARCH_HISTORY, saveSearchItem(query))\r\n}\r\n\r\nexport const deleteSearchHistory = function ({ commit }, query) {\r\n  commit(types.SET_SEARCH_HISTORY, deleteSearchItem(query))\r\n}\r\n\r\nexport const clearAllHistory = function ({ commit }) {\r\n  commit(types.SET_SEARCH_HISTORY, deleteAllSearchItem())\r\n}\r\n\r\n// 播放列表\r\n\r\nexport const deleteSongFromList = function ({ commit, state }, {song, index}) {\r\n  // 传入的 Index 即是展示性列表 sequenceList 中的 Index\r\n  let playlist = [...state.playlist]\r\n  let sequenceList = [...state.sequenceList]\r\n  let currentIndex = state.currentIndex\r\n\r\n  const indexInPlaylist = findIndex(playlist, song)\r\n  // const indexInSequenceList = findIndex(sequenceList, song) // 即为 index\r\n\r\n  playlist.splice(indexInPlaylist, 1)\r\n  sequenceList.splice(index, 1)\r\n\r\n  if (currentIndex > indexInPlaylist || currentIndex === playlist.length) {\r\n    currentIndex--\r\n  }\r\n\r\n  commit(types.SET_PLAYLIST, playlist)\r\n  commit(types.SET_SEQUENCE_LIST, sequenceList)\r\n  commit(types.SET_CURRENT_INDEX, currentIndex)\r\n\r\n  const playingState = playlist.length > 0\r\n\r\n  commit(types.SET_PLAYING_STATE, playingState)\r\n}\r\n\r\nexport const deleteAllSongsFromList = function ({ commit }) {\r\n  commit(types.SET_PLAYING_STATE, false)\r\n  commit(types.SET_PLAYLIST, [])\r\n  commit(types.SET_SEQUENCE_LIST, [])\r\n  commit(types.SET_CURRENT_INDEX, -1)\r\n}\r\n\r\n// 最近播放列表\r\n\r\nexport const savePlayedHistory = function ({ commit }, song) {\r\n  commit(types.SET_PLAYED_HISTORY, savePlayedSongs(song))\r\n}\r\n\r\n// 保存我喜欢的歌曲\r\n\r\nexport const saveMyFavoriteSong = function ({ commit }, song) {\r\n  commit(types.SET_MY_FAVORITE_SONGS, saveFavoriteSongs(song))\r\n}\r\n\r\nexport const deleteMyFavoriteSong = function ({ commit }, song) {\r\n  commit(types.SET_MY_FAVORITE_SONGS, deleteFavoriteSong(song))\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/actions.js","import Vue from 'vue'\r\nimport Vuex from 'vuex'\r\nimport state from './state'\r\nimport * as getters from './getters.js'\r\nimport mutations from './mutations'\r\nimport * as actions from './actions'\r\nimport createLogger from 'vuex/dist/logger' // 每次修改 state ，都会打印新旧 state\r\n\r\nVue.use(Vuex)\r\n\r\nconst debug = process.env.NODE_ENV !== 'production'\r\n\r\nexport default new Vuex.Store({\r\n  state,\r\n  getters,\r\n  mutations,\r\n  actions,\r\n  strict: debug, // 检测是否是 mutations 修改 state,非法修改将报错。因有性能损失，则不能在生产环境开启\r\n  plugins: debug ? [createLogger()] : []\r\n})\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/index.js","import 'babel-polyfill' // 必须写在第一位，babel-polyfill 不用引入源码\nimport 'common/js/hack-next-tick' // 必须在初始化 vue 之前，详情见文件\nimport Vue from 'vue'\nimport App from './App'\nimport router from './router'\nimport store from './store'\nimport fastclick from 'fastclick'\nimport VueLazyLoad from 'vue-lazyload'\n\nimport 'scss/index.scss'\n\nfastclick.attach(document.body)\n\nVue.use(VueLazyLoad, {\n  loading: require('@/common/image/default/default.png')\n})\n\nVue.config.productionTip = false\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  store,\n  render: h => h(App)\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","module.exports = \"data:image/gif;base64,R0lGODlhZABkAKIEAN7e3rq6uv///5mZmQAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/wtYTVAgRGF0YVhNUDw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpBRjA4RUZDMDI3MjA2ODExODA4M0Y1OTQyMzVDRDM3MyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpCMzE0Rjk3NDdDRTgxMUUzOUJCRjk0NjAxMUE1NzRBMCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpCMzE0Rjk3MzdDRTgxMUUzOUJCRjk0NjAxMUE1NzRBMCIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M2IChNYWNpbnRvc2gpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6RDVBMTZDQjczOTIwNjgxMTgwODNGNTk0MjM1Q0QzNzMiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6QUYwOEVGQzAyNzIwNjgxMTgwODNGNTk0MjM1Q0QzNzMiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+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\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/base/base-loading/loading.gif\n// module id = YDRX\n// module chunks = 1","// hack for global nextTick\r\n// 解决 ios 不能播放的问题（ios 网页播放需要用户交互）\r\n// https://github.com/DDFE/DDFE-blog/issues/24\r\nfunction noop () {\r\n}\r\n\r\nwindow.MessageChannel = noop\r\nwindow.setImmediate = noop\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/js/hack-next-tick.js"],"sourceRoot":""}